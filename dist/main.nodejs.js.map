{"version":3,"file":"main.nodejs.js","mappings":"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","sources":["../node_modules/@scrypted/sdk/dist/src/index.js","../node_modules/@scrypted/sdk/dist/src/settings-mixin.js","../node_modules/@scrypted/sdk/dist/src/storage-settings.js","../node_modules/@scrypted/sdk/dist/types/gen/index.js","../node_modules/@scrypted/sdk/polyfill/sharp.js","../node_modules/axios/index.js","../node_modules/axios/lib/adapters/http.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/utils.js","../node_modules/debug/src/browser.js","../node_modules/debug/src/common.js","../node_modules/debug/src/index.js","../node_modules/debug/src/node.js","../node_modules/follow-redirects/debug.js","../node_modules/follow-redirects/index.js","../node_modules/has-flag/index.js","../node_modules/lodash/lodash.js","../node_modules/ms/index.js","../node_modules/splaytree/dist/splay.esm.js","../node_modules/robust-predicates/esm/util.js","../node_modules/robust-predicates/esm/orient2d.js","../node_modules/robust-predicates/esm/orient3d.js","../node_modules/robust-predicates/esm/incircle.js","../node_modules/robust-predicates/esm/insphere.js","../node_modules/polygon-clipping/dist/polygon-clipping.esm.js","../node_modules/supports-color/index.js","../src/cameraMixin.ts","../src/detecionClasses.ts","../src/main.ts","../src/mqtt-utils.ts","../src/notifier.ts","../src/notifierMixin.ts","../src/sensorMixin.ts","../src/utils.ts","../../scrypted-apocaliss-base/src/baseMixin.ts","../../scrypted-apocaliss-base/src/basePlugin.ts","../../scrypted-apocaliss-base/src/mqtt-client.ts","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/src/index.js","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/src/storage-settings.js","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/types/gen/index.js","../../scrypted-apocaliss-base/node_modules/abort-controller/dist/abort-controller.js","../../scrypted-apocaliss-base/node_modules/asynckit/index.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/abort.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/async.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/defer.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/iterate.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/state.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/terminator.js","../../scrypted-apocaliss-base/node_modules/asynckit/parallel.js","../../scrypted-apocaliss-base/node_modules/asynckit/serial.js","../../scrypted-apocaliss-base/node_modules/asynckit/serialOrdered.js","../../scrypted-apocaliss-base/node_modules/bl/BufferList.js","../../scrypted-apocaliss-base/node_modules/bl/bl.js","../../scrypted-apocaliss-base/node_modules/combined-stream/lib/combined_stream.js","../../scrypted-apocaliss-base/node_modules/debug/src/browser.js","../../scrypted-apocaliss-base/node_modules/debug/src/common.js","../../scrypted-apocaliss-base/node_modules/debug/src/index.js","../../scrypted-apocaliss-base/node_modules/debug/src/node.js","../../scrypted-apocaliss-base/node_modules/delayed-stream/lib/delayed_stream.js","../../scrypted-apocaliss-base/node_modules/event-target-shim/dist/event-target-shim.js","../../scrypted-apocaliss-base/node_modules/follow-redirects/debug.js","../../scrypted-apocaliss-base/node_modules/follow-redirects/index.js","../../scrypted-apocaliss-base/node_modules/form-data/lib/form_data.js","../../scrypted-apocaliss-base/node_modules/form-data/lib/populate.js","../../scrypted-apocaliss-base/node_modules/has-flag/index.js","../../scrypted-apocaliss-base/node_modules/inherits/inherits.js","../../scrypted-apocaliss-base/node_modules/inherits/inherits_browser.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/TreeNode.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/ContainerBase/index.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/utils/throwError.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/index.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/TreeIterator.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/OrderedSet.js","../../scrypted-apocaliss-base/node_modules/mime-db/index.js","../../scrypted-apocaliss-base/node_modules/mime-types/index.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/constants.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/generate.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/mqtt.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/numbers.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/packet.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/parser.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/writeToStream.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/BufferedDuplex.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/KeepaliveManager.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/TypedEmitter.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/client.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/ali.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/tcp.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/tls.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/ws.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/wx.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/default-message-id-provider.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/get-timer.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/ack.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/auth.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/connack.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/publish.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/pubrel.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/is-browser.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/shared.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/store.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/topic-alias-recv.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/topic-alias-send.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/unique-message-id-provider.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/validations.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/mqtt.js","../../scrypted-apocaliss-base/node_modules/ms/index.js","../../scrypted-apocaliss-base/node_modules/number-allocator/index.js","../../scrypted-apocaliss-base/node_modules/number-allocator/lib/number-allocator.js","../../scrypted-apocaliss-base/node_modules/process-nextick-args/index.js","../../scrypted-apocaliss-base/node_modules/process/index.js","../../scrypted-apocaliss-base/node_modules/proxy-from-env/index.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/compose.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/destroy.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/duplex.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/duplexify.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/from.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/legacy.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/operators.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/passthrough.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/pipeline.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/readable.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/state.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/transform.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/utils.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/writable.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/validators.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/errors.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/index.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/primordials.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/util.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/stream.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/stream/promises.js","../../scrypted-apocaliss-base/node_modules/rfdc/default.js","../../scrypted-apocaliss-base/node_modules/rfdc/index.js","../../scrypted-apocaliss-base/node_modules/supports-color/index.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/add-unique-number.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/generate-unique-number.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/cache.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/factories/load-or-return-broker.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/guards/call-notification.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/guards/clear-response.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/worker/worker.js","../../scrypted-apocaliss-base/node_modules/ws/index.js","../../scrypted-apocaliss-base/node_modules/ws/lib/buffer-util.js","../../scrypted-apocaliss-base/node_modules/ws/lib/constants.js","../../scrypted-apocaliss-base/node_modules/ws/lib/event-target.js","../../scrypted-apocaliss-base/node_modules/ws/lib/extension.js","../../scrypted-apocaliss-base/node_modules/ws/lib/limiter.js","../../scrypted-apocaliss-base/node_modules/ws/lib/permessage-deflate.js","../../scrypted-apocaliss-base/node_modules/ws/lib/receiver.js","../../scrypted-apocaliss-base/node_modules/ws/lib/sender.js","../../scrypted-apocaliss-base/node_modules/ws/lib/stream.js","../../scrypted-apocaliss-base/node_modules/ws/lib/subprotocol.js","../../scrypted-apocaliss-base/node_modules/ws/lib/validation.js","../../scrypted-apocaliss-base/node_modules/ws/lib/websocket-server.js","../../scrypted-apocaliss-base/node_modules/ws/lib/websocket.js","../external node-commonjs \"assert\"","../external node-commonjs \"buffer\"","../external node-commonjs \"crypto\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"module\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"stream\"","../external node-commonjs \"string_decoder\"","../external node-commonjs \"tls\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"","../../scrypted-apocaliss-base/node_modules/axios/dist/node/axios.cjs","../../scrypted-apocaliss-base/node_modules/mqtt/node_modules/lru-cache/dist/commonjs/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/node module decorator","../webpack/startup"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (deviceManager.getMixinConsole)\n                this._console = deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let runtimeAPI;\n    try {\n        runtimeAPI = pluginRuntimeAPI;\n    }\n    catch (e) {\n    }\n    Object.assign(exports.sdk, {\n        log: deviceManager.getDeviceLogger(undefined),\n        deviceManager,\n        endpointManager,\n        mediaManager,\n        systemManager,\n        pluginHostAPI,\n        ...runtimeAPI,\n    });\n    try {\n        systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsMixinDeviceBase = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { deviceManager } = _1.default;\nclass SettingsMixinDeviceBase extends _1.MixinDeviceBase {\n    constructor(options) {\n        super(options);\n        this.settingsGroup = options.group;\n        this.settingsGroupKey = options.groupKey;\n        process.nextTick(() => deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null));\n    }\n    async getSettings() {\n        const settingsPromise = this.mixinDeviceInterfaces.includes(_1.ScryptedInterface.Settings) ? this.mixinDevice.getSettings() : undefined;\n        const mixinSettingsPromise = this.getMixinSettings();\n        const allSettings = [];\n        try {\n            const settings = (await settingsPromise) || [];\n            allSettings.push(...settings);\n        }\n        catch (e) {\n            const name = this.name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        try {\n            const mixinSettings = (await mixinSettingsPromise) || [];\n            for (const setting of mixinSettings) {\n                setting.group = setting.group || this.settingsGroup;\n                setting.key = this.settingsGroupKey + ':' + setting.key;\n            }\n            allSettings.push(...mixinSettings);\n        }\n        catch (e) {\n            const name = deviceManager.getDeviceState(this.mixinProviderNativeId).name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        return allSettings;\n    }\n    async putSetting(key, value) {\n        const prefix = this.settingsGroupKey + ':';\n        if (!key?.startsWith(prefix)) {\n            return this.mixinDevice.putSetting(key, value);\n        }\n        if (!await this.putMixinSetting(key.substring(prefix.length), value))\n            deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n    async release() {\n        await deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n}\nexports.SettingsMixinDeviceBase = SettingsMixinDeviceBase;\n//# sourceMappingURL=settings-mixin.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageSettings = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { systemManager } = _1.default;\nfunction parseValue(value, setting, readDefaultValue, rawDevice) {\n    if (value === null || value === undefined) {\n        return readDefaultValue();\n    }\n    const type = setting.multiple ? 'array' : setting.type;\n    if (type === 'boolean') {\n        if (value === 'true')\n            return true;\n        if (value === 'false')\n            return false;\n        return readDefaultValue() || false;\n    }\n    if (type === 'number') {\n        const n = parseFloat(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'integer') {\n        const n = parseInt(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'array') {\n        if (!value)\n            return readDefaultValue() || [];\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue() || [];\n        }\n    }\n    if (type === 'device') {\n        if (rawDevice)\n            return value;\n        return systemManager.getDeviceById(value) || systemManager.getDeviceById(readDefaultValue());\n    }\n    // string type, so check if it is json.\n    if (value && setting.json) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue();\n        }\n    }\n    return value || readDefaultValue();\n}\nclass StorageSettings {\n    constructor(device, settings) {\n        this.device = device;\n        this.settings = settings;\n        this.values = {};\n        this.hasValue = {};\n        for (const key of Object.keys(settings)) {\n            const setting = settings[key];\n            const rawGet = () => this.getItem(key);\n            let get;\n            if (setting.type !== 'clippath') {\n                get = rawGet;\n            }\n            else {\n                // maybe need a mapPut. clippath is the only complex type at the moment.\n                get = () => {\n                    try {\n                        return JSON.parse(rawGet());\n                    }\n                    catch (e) {\n                    }\n                };\n            }\n            Object.defineProperty(this.values, key, {\n                get,\n                set: value => this.putSetting(key, value),\n                enumerable: true,\n            });\n            Object.defineProperty(this.hasValue, key, {\n                get: () => this.device.storage.getItem(key) != null,\n                enumerable: true,\n            });\n        }\n    }\n    get keys() {\n        const ret = {};\n        for (const key of Object.keys(this.settings)) {\n            ret[key] = key;\n        }\n        return ret;\n    }\n    async getSettings() {\n        const onGet = await this.options?.onGet?.();\n        const ret = [];\n        for (const [key, setting] of Object.entries(this.settings)) {\n            let s = Object.assign({}, setting);\n            if (onGet?.[key])\n                s = Object.assign(s, onGet[key]);\n            if (s.onGet)\n                s = Object.assign(s, await s.onGet());\n            if (s.hide || await this.options?.hide?.[key]?.())\n                continue;\n            s.key = key;\n            s.value = this.getItemInternal(key, s, true);\n            ret.push(s);\n            delete s.onPut;\n            delete s.onGet;\n            delete s.mapPut;\n            delete s.mapGet;\n        }\n        return ret;\n    }\n    async putSetting(key, value) {\n        const setting = this.settings[key];\n        let oldValue;\n        if (setting)\n            oldValue = this.getItemInternal(key, setting);\n        return this.putSettingInternal(setting, oldValue, key, value);\n    }\n    putSettingInternal(setting, oldValue, key, value) {\n        if (!setting?.noStore) {\n            if (setting?.mapPut)\n                value = setting.mapPut(oldValue, value);\n            // nullish values should be removed, since Storage can't persist them correctly.\n            if (value == null)\n                this.device.storage.removeItem(key);\n            else if (typeof value === 'object')\n                this.device.storage.setItem(key, JSON.stringify(value));\n            else\n                this.device.storage.setItem(key, value?.toString());\n        }\n        setting?.onPut?.(oldValue, value);\n        if (!setting?.hide)\n            this.device.onDeviceEvent(_1.ScryptedInterface.Settings, undefined);\n    }\n    getItemInternal(key, setting, rawDevice) {\n        if (!setting)\n            return this.device.storage.getItem(key);\n        const readDefaultValue = () => {\n            if (setting.persistedDefaultValue != null) {\n                this.putSettingInternal(setting, undefined, key, setting.persistedDefaultValue);\n                return setting.persistedDefaultValue;\n            }\n            return setting.defaultValue;\n        };\n        const ret = parseValue(this.device.storage.getItem(key), setting, readDefaultValue, rawDevice);\n        return setting.mapGet ? setting.mapGet(ret) : ret;\n    }\n    getItem(key) {\n        return this.getItemInternal(key, this.settings[key]);\n    }\n}\nexports.StorageSettings = StorageSettings;\n//# sourceMappingURL=storage-settings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.59\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    ScryptedDevice: {\n        name: 'ScryptedDevice',\n        methods: [\n            'listen',\n            'probe',\n            'setMixins',\n            'setName',\n            'setRoom',\n            'setType'\n        ],\n        properties: [\n            'id',\n            'info',\n            'interfaces',\n            'mixins',\n            'name',\n            'nativeId',\n            'pluginId',\n            'providedInterfaces',\n            'providedName',\n            'providedRoom',\n            'providedType',\n            'providerId',\n            'room',\n            'type'\n        ]\n    },\n    ScryptedPlugin: {\n        name: 'ScryptedPlugin',\n        methods: [\n            'getPluginJson'\n        ],\n        properties: []\n    },\n    ScryptedPluginRuntime: {\n        name: 'ScryptedPluginRuntime',\n        methods: [],\n        properties: [\n            'scryptedRuntimeArguments'\n        ]\n    },\n    OnOff: {\n        name: 'OnOff',\n        methods: [\n            'turnOff',\n            'turnOn'\n        ],\n        properties: [\n            'on'\n        ]\n    },\n    Brightness: {\n        name: 'Brightness',\n        methods: [\n            'setBrightness'\n        ],\n        properties: [\n            'brightness'\n        ]\n    },\n    ColorSettingTemperature: {\n        name: 'ColorSettingTemperature',\n        methods: [\n            'getTemperatureMaxK',\n            'getTemperatureMinK',\n            'setColorTemperature'\n        ],\n        properties: [\n            'colorTemperature'\n        ]\n    },\n    ColorSettingRgb: {\n        name: 'ColorSettingRgb',\n        methods: [\n            'setRgb'\n        ],\n        properties: [\n            'rgb'\n        ]\n    },\n    ColorSettingHsv: {\n        name: 'ColorSettingHsv',\n        methods: [\n            'setHsv'\n        ],\n        properties: [\n            'hsv'\n        ]\n    },\n    Notifier: {\n        name: 'Notifier',\n        methods: [\n            'sendNotification'\n        ],\n        properties: []\n    },\n    StartStop: {\n        name: 'StartStop',\n        methods: [\n            'start',\n            'stop'\n        ],\n        properties: [\n            'running'\n        ]\n    },\n    Pause: {\n        name: 'Pause',\n        methods: [\n            'pause',\n            'resume'\n        ],\n        properties: [\n            'paused'\n        ]\n    },\n    Dock: {\n        name: 'Dock',\n        methods: [\n            'dock'\n        ],\n        properties: [\n            'docked'\n        ]\n    },\n    TemperatureSetting: {\n        name: 'TemperatureSetting',\n        methods: [\n            'setTemperature'\n        ],\n        properties: [\n            'temperatureSetting'\n        ]\n    },\n    Thermometer: {\n        name: 'Thermometer',\n        methods: [\n            'setTemperatureUnit'\n        ],\n        properties: [\n            'temperature',\n            'temperatureUnit'\n        ]\n    },\n    HumiditySensor: {\n        name: 'HumiditySensor',\n        methods: [],\n        properties: [\n            'humidity'\n        ]\n    },\n    Camera: {\n        name: 'Camera',\n        methods: [\n            'getPictureOptions',\n            'takePicture'\n        ],\n        properties: []\n    },\n    Microphone: {\n        name: 'Microphone',\n        methods: [\n            'getAudioStream'\n        ],\n        properties: []\n    },\n    AudioVolumeControl: {\n        name: 'AudioVolumeControl',\n        methods: [\n            'setAudioVolumes'\n        ],\n        properties: [\n            'audioVolumes'\n        ]\n    },\n    Display: {\n        name: 'Display',\n        methods: [\n            'startDisplay',\n            'stopDisplay'\n        ],\n        properties: []\n    },\n    VideoCamera: {\n        name: 'VideoCamera',\n        methods: [\n            'getVideoStream',\n            'getVideoStreamOptions'\n        ],\n        properties: []\n    },\n    VideoCameraMask: {\n        name: 'VideoCameraMask',\n        methods: [\n            'getPrivacyMasks',\n            'setPrivacyMasks'\n        ],\n        properties: []\n    },\n    VideoRecorder: {\n        name: 'VideoRecorder',\n        methods: [\n            'getRecordingStream',\n            'getRecordingStreamCurrentTime',\n            'getRecordingStreamOptions',\n            'getRecordingStreamThumbnail'\n        ],\n        properties: [\n            'recordingActive'\n        ]\n    },\n    VideoRecorderManagement: {\n        name: 'VideoRecorderManagement',\n        methods: [\n            'deleteRecordingStream',\n            'setRecordingActive'\n        ],\n        properties: []\n    },\n    PanTiltZoom: {\n        name: 'PanTiltZoom',\n        methods: [\n            'ptzCommand'\n        ],\n        properties: [\n            'ptzCapabilities'\n        ]\n    },\n    EventRecorder: {\n        name: 'EventRecorder',\n        methods: [\n            'getRecordedEvents'\n        ],\n        properties: []\n    },\n    VideoClips: {\n        name: 'VideoClips',\n        methods: [\n            'getVideoClip',\n            'getVideoClipThumbnail',\n            'getVideoClips',\n            'removeVideoClips'\n        ],\n        properties: []\n    },\n    VideoCameraConfiguration: {\n        name: 'VideoCameraConfiguration',\n        methods: [\n            'setVideoStreamOptions'\n        ],\n        properties: []\n    },\n    Intercom: {\n        name: 'Intercom',\n        methods: [\n            'startIntercom',\n            'stopIntercom'\n        ],\n        properties: []\n    },\n    Lock: {\n        name: 'Lock',\n        methods: [\n            'lock',\n            'unlock'\n        ],\n        properties: [\n            'lockState'\n        ]\n    },\n    PasswordStore: {\n        name: 'PasswordStore',\n        methods: [\n            'addPassword',\n            'getPasswords',\n            'removePassword'\n        ],\n        properties: []\n    },\n    Scene: {\n        name: 'Scene',\n        methods: [\n            'activate',\n            'deactivate',\n            'isReversible'\n        ],\n        properties: []\n    },\n    Entry: {\n        name: 'Entry',\n        methods: [\n            'closeEntry',\n            'openEntry'\n        ],\n        properties: []\n    },\n    EntrySensor: {\n        name: 'EntrySensor',\n        methods: [],\n        properties: [\n            'entryOpen'\n        ]\n    },\n    DeviceProvider: {\n        name: 'DeviceProvider',\n        methods: [\n            'getDevice',\n            'releaseDevice'\n        ],\n        properties: []\n    },\n    DeviceDiscovery: {\n        name: 'DeviceDiscovery',\n        methods: [\n            'adoptDevice',\n            'discoverDevices'\n        ],\n        properties: []\n    },\n    DeviceCreator: {\n        name: 'DeviceCreator',\n        methods: [\n            'createDevice',\n            'getCreateDeviceSettings'\n        ],\n        properties: []\n    },\n    Battery: {\n        name: 'Battery',\n        methods: [],\n        properties: [\n            'batteryLevel'\n        ]\n    },\n    Charger: {\n        name: 'Charger',\n        methods: [],\n        properties: [\n            'chargeState'\n        ]\n    },\n    Reboot: {\n        name: 'Reboot',\n        methods: [\n            'reboot'\n        ],\n        properties: []\n    },\n    Refresh: {\n        name: 'Refresh',\n        methods: [\n            'getRefreshFrequency',\n            'refresh'\n        ],\n        properties: []\n    },\n    MediaPlayer: {\n        name: 'MediaPlayer',\n        methods: [\n            'getMediaStatus',\n            'load',\n            'seek',\n            'skipNext',\n            'skipPrevious'\n        ],\n        properties: []\n    },\n    Online: {\n        name: 'Online',\n        methods: [],\n        properties: [\n            'online'\n        ]\n    },\n    BufferConverter: {\n        name: 'BufferConverter',\n        methods: [\n            'convert'\n        ],\n        properties: [\n            'fromMimeType',\n            'toMimeType'\n        ]\n    },\n    MediaConverter: {\n        name: 'MediaConverter',\n        methods: [\n            'convertMedia'\n        ],\n        properties: [\n            'converters'\n        ]\n    },\n    Settings: {\n        name: 'Settings',\n        methods: [\n            'getSettings',\n            'putSetting'\n        ],\n        properties: []\n    },\n    BinarySensor: {\n        name: 'BinarySensor',\n        methods: [],\n        properties: [\n            'binaryState'\n        ]\n    },\n    TamperSensor: {\n        name: 'TamperSensor',\n        methods: [],\n        properties: [\n            'tampered'\n        ]\n    },\n    PowerSensor: {\n        name: 'PowerSensor',\n        methods: [],\n        properties: [\n            'powerDetected'\n        ]\n    },\n    AudioSensor: {\n        name: 'AudioSensor',\n        methods: [],\n        properties: [\n            'audioDetected'\n        ]\n    },\n    MotionSensor: {\n        name: 'MotionSensor',\n        methods: [],\n        properties: [\n            'motionDetected'\n        ]\n    },\n    AmbientLightSensor: {\n        name: 'AmbientLightSensor',\n        methods: [],\n        properties: [\n            'ambientLight'\n        ]\n    },\n    OccupancySensor: {\n        name: 'OccupancySensor',\n        methods: [],\n        properties: [\n            'occupied'\n        ]\n    },\n    FloodSensor: {\n        name: 'FloodSensor',\n        methods: [],\n        properties: [\n            'flooded'\n        ]\n    },\n    UltravioletSensor: {\n        name: 'UltravioletSensor',\n        methods: [],\n        properties: [\n            'ultraviolet'\n        ]\n    },\n    LuminanceSensor: {\n        name: 'LuminanceSensor',\n        methods: [],\n        properties: [\n            'luminance'\n        ]\n    },\n    PositionSensor: {\n        name: 'PositionSensor',\n        methods: [],\n        properties: [\n            'position'\n        ]\n    },\n    SecuritySystem: {\n        name: 'SecuritySystem',\n        methods: [\n            'armSecuritySystem',\n            'disarmSecuritySystem'\n        ],\n        properties: [\n            'securitySystemState'\n        ]\n    },\n    PM10Sensor: {\n        name: 'PM10Sensor',\n        methods: [],\n        properties: [\n            'pm10Density'\n        ]\n    },\n    PM25Sensor: {\n        name: 'PM25Sensor',\n        methods: [],\n        properties: [\n            'pm25Density'\n        ]\n    },\n    VOCSensor: {\n        name: 'VOCSensor',\n        methods: [],\n        properties: [\n            'vocDensity'\n        ]\n    },\n    NOXSensor: {\n        name: 'NOXSensor',\n        methods: [],\n        properties: [\n            'noxDensity'\n        ]\n    },\n    CO2Sensor: {\n        name: 'CO2Sensor',\n        methods: [],\n        properties: [\n            'co2ppm'\n        ]\n    },\n    AirQualitySensor: {\n        name: 'AirQualitySensor',\n        methods: [],\n        properties: [\n            'airQuality'\n        ]\n    },\n    AirPurifier: {\n        name: 'AirPurifier',\n        methods: [\n            'setAirPurifierState'\n        ],\n        properties: [\n            'airPurifierState'\n        ]\n    },\n    FilterMaintenance: {\n        name: 'FilterMaintenance',\n        methods: [],\n        properties: [\n            'filterChangeIndication',\n            'filterLifeLevel'\n        ]\n    },\n    Readme: {\n        name: 'Readme',\n        methods: [\n            'getReadmeMarkdown'\n        ],\n        properties: []\n    },\n    OauthClient: {\n        name: 'OauthClient',\n        methods: [\n            'getOauthUrl',\n            'onOauthCallback'\n        ],\n        properties: []\n    },\n    MixinProvider: {\n        name: 'MixinProvider',\n        methods: [\n            'canMixin',\n            'getMixin',\n            'releaseMixin'\n        ],\n        properties: []\n    },\n    HttpRequestHandler: {\n        name: 'HttpRequestHandler',\n        methods: [\n            'onRequest'\n        ],\n        properties: []\n    },\n    EngineIOHandler: {\n        name: 'EngineIOHandler',\n        methods: [\n            'onConnection'\n        ],\n        properties: []\n    },\n    PushHandler: {\n        name: 'PushHandler',\n        methods: [\n            'onPush'\n        ],\n        properties: []\n    },\n    Program: {\n        name: 'Program',\n        methods: [\n            'run'\n        ],\n        properties: []\n    },\n    Scriptable: {\n        name: 'Scriptable',\n        methods: [\n            'eval',\n            'loadScripts',\n            'saveScript'\n        ],\n        properties: []\n    },\n    ObjectTracker: {\n        name: 'ObjectTracker',\n        methods: [\n            'trackObjects'\n        ],\n        properties: []\n    },\n    ObjectDetector: {\n        name: 'ObjectDetector',\n        methods: [\n            'getDetectionInput',\n            'getObjectTypes'\n        ],\n        properties: []\n    },\n    ObjectDetection: {\n        name: 'ObjectDetection',\n        methods: [\n            'detectObjects',\n            'generateObjectDetections',\n            'getDetectionModel'\n        ],\n        properties: []\n    },\n    ObjectDetectionPreview: {\n        name: 'ObjectDetectionPreview',\n        methods: [],\n        properties: []\n    },\n    ObjectDetectionGenerator: {\n        name: 'ObjectDetectionGenerator',\n        methods: [],\n        properties: []\n    },\n    HumiditySetting: {\n        name: 'HumiditySetting',\n        methods: [\n            'setHumidity'\n        ],\n        properties: [\n            'humiditySetting'\n        ]\n    },\n    Fan: {\n        name: 'Fan',\n        methods: [\n            'setFan'\n        ],\n        properties: [\n            'fan'\n        ]\n    },\n    RTCSignalingChannel: {\n        name: 'RTCSignalingChannel',\n        methods: [\n            'startRTCSignalingSession'\n        ],\n        properties: []\n    },\n    RTCSignalingClient: {\n        name: 'RTCSignalingClient',\n        methods: [\n            'createRTCSignalingSession'\n        ],\n        properties: []\n    },\n    LauncherApplication: {\n        name: 'LauncherApplication',\n        methods: [],\n        properties: [\n            'applicationInfo'\n        ]\n    },\n    ScryptedUser: {\n        name: 'ScryptedUser',\n        methods: [\n            'getScryptedUserAccessControl'\n        ],\n        properties: []\n    },\n    VideoFrameGenerator: {\n        name: 'VideoFrameGenerator',\n        methods: [\n            'generateVideoFrames'\n        ],\n        properties: []\n    },\n    StreamService: {\n        name: 'StreamService',\n        methods: [\n            'connectStream'\n        ],\n        properties: []\n    },\n    TTY: {\n        name: 'TTY',\n        methods: [],\n        properties: []\n    },\n    TTYSettings: {\n        name: 'TTYSettings',\n        methods: [\n            'getTTYSettings'\n        ],\n        properties: []\n    },\n    ScryptedSystemDevice: {\n        name: 'ScryptedSystemDevice',\n        methods: [],\n        properties: [\n            'systemDevice'\n        ]\n    },\n    ScryptedDeviceCreator: {\n        name: 'ScryptedDeviceCreator',\n        methods: [],\n        properties: []\n    },\n    ScryptedSettings: {\n        name: 'ScryptedSettings',\n        methods: [],\n        properties: []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","const sharp = __non_webpack_require__('sharp'); module.exports = sharp;","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar VERSION = require('./../env/data').version;\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n    var resolve = function resolve(value) {\n      done();\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      done();\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n    var headerNames = {};\n\n    Object.keys(headers).forEach(function storeLowerName(name) {\n      headerNames[name.toLowerCase()] = name;\n    });\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    if ('user-agent' in headerNames) {\n      // User-Agent is specified; handle case where no UA header is desired\n      if (!headers[headerNames['user-agent']]) {\n        delete headers[headerNames['user-agent']];\n      }\n      // Otherwise, use specified value\n    } else {\n      // Only set header if it hasn't been set in config\n      headers['User-Agent'] = 'axios/' + VERSION;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      if (!headerNames['content-length']) {\n        headers['Content-Length'] = data.length;\n      }\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth && headerNames.authorization) {\n      delete headers[headerNames.authorization];\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        var totalResponseBytes = 0;\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      var timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(createError(\n          'error trying to parse `config.timeout` to int',\n          config,\n          'ERR_PARSE_TIMEOUT',\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        req.abort();\n        var transitional = config.transitional || defaults.transitional;\n        reject(createError(\n          'timeout of ' + timeout + 'ms exceeded',\n          config,\n          transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n          req\n        ));\n      });\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || defaults.transitional;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","module.exports = {\n  \"version\": \"0.23.0\"\n};","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/**\n * splaytree v3.1.2\n * Fast Splay tree for Node and browser\n *\n * @author Alexander Milevski <info@w8r.name>\n * @license MIT\n * @preserve\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar Node = /** @class */ (function () {\r\n    function Node(key, data) {\r\n        this.next = null;\r\n        this.key = key;\r\n        this.data = data;\r\n        this.left = null;\r\n        this.right = null;\r\n    }\r\n    return Node;\r\n}());\n\n/* follows \"An implementation of top-down splaying\"\r\n * by D. Sleator <sleator@cs.cmu.edu> March 1992\r\n */\r\nfunction DEFAULT_COMPARE(a, b) {\r\n    return a > b ? 1 : a < b ? -1 : 0;\r\n}\r\n/**\r\n * Simple top down splay, not requiring i to be in the tree t.\r\n */\r\nfunction splay(i, t, comparator) {\r\n    var N = new Node(null, null);\r\n    var l = N;\r\n    var r = N;\r\n    while (true) {\r\n        var cmp = comparator(i, t.key);\r\n        //if (i < t.key) {\r\n        if (cmp < 0) {\r\n            if (t.left === null)\r\n                break;\r\n            //if (i < t.left.key) {\r\n            if (comparator(i, t.left.key) < 0) {\r\n                var y = t.left; /* rotate right */\r\n                t.left = y.right;\r\n                y.right = t;\r\n                t = y;\r\n                if (t.left === null)\r\n                    break;\r\n            }\r\n            r.left = t; /* link right */\r\n            r = t;\r\n            t = t.left;\r\n            //} else if (i > t.key) {\r\n        }\r\n        else if (cmp > 0) {\r\n            if (t.right === null)\r\n                break;\r\n            //if (i > t.right.key) {\r\n            if (comparator(i, t.right.key) > 0) {\r\n                var y = t.right; /* rotate left */\r\n                t.right = y.left;\r\n                y.left = t;\r\n                t = y;\r\n                if (t.right === null)\r\n                    break;\r\n            }\r\n            l.right = t; /* link left */\r\n            l = t;\r\n            t = t.right;\r\n        }\r\n        else\r\n            break;\r\n    }\r\n    /* assemble */\r\n    l.right = t.left;\r\n    r.left = t.right;\r\n    t.left = N.right;\r\n    t.right = N.left;\r\n    return t;\r\n}\r\nfunction insert(i, data, t, comparator) {\r\n    var node = new Node(i, data);\r\n    if (t === null) {\r\n        node.left = node.right = null;\r\n        return node;\r\n    }\r\n    t = splay(i, t, comparator);\r\n    var cmp = comparator(i, t.key);\r\n    if (cmp < 0) {\r\n        node.left = t.left;\r\n        node.right = t;\r\n        t.left = null;\r\n    }\r\n    else if (cmp >= 0) {\r\n        node.right = t.right;\r\n        node.left = t;\r\n        t.right = null;\r\n    }\r\n    return node;\r\n}\r\nfunction split(key, v, comparator) {\r\n    var left = null;\r\n    var right = null;\r\n    if (v) {\r\n        v = splay(key, v, comparator);\r\n        var cmp = comparator(v.key, key);\r\n        if (cmp === 0) {\r\n            left = v.left;\r\n            right = v.right;\r\n        }\r\n        else if (cmp < 0) {\r\n            right = v.right;\r\n            v.right = null;\r\n            left = v;\r\n        }\r\n        else {\r\n            left = v.left;\r\n            v.left = null;\r\n            right = v;\r\n        }\r\n    }\r\n    return { left: left, right: right };\r\n}\r\nfunction merge(left, right, comparator) {\r\n    if (right === null)\r\n        return left;\r\n    if (left === null)\r\n        return right;\r\n    right = splay(left.key, right, comparator);\r\n    right.left = left;\r\n    return right;\r\n}\r\n/**\r\n * Prints level of the tree\r\n */\r\nfunction printRow(root, prefix, isTail, out, printNode) {\r\n    if (root) {\r\n        out(\"\" + prefix + (isTail ? ' ' : ' ') + printNode(root) + \"\\n\");\r\n        var indent = prefix + (isTail ? '    ' : '   ');\r\n        if (root.left)\r\n            printRow(root.left, indent, false, out, printNode);\r\n        if (root.right)\r\n            printRow(root.right, indent, true, out, printNode);\r\n    }\r\n}\r\nvar Tree = /** @class */ (function () {\r\n    function Tree(comparator) {\r\n        if (comparator === void 0) { comparator = DEFAULT_COMPARE; }\r\n        this._root = null;\r\n        this._size = 0;\r\n        this._comparator = comparator;\r\n    }\r\n    /**\r\n     * Inserts a key, allows duplicates\r\n     */\r\n    Tree.prototype.insert = function (key, data) {\r\n        this._size++;\r\n        return this._root = insert(key, data, this._root, this._comparator);\r\n    };\r\n    /**\r\n     * Adds a key, if it is not present in the tree\r\n     */\r\n    Tree.prototype.add = function (key, data) {\r\n        var node = new Node(key, data);\r\n        if (this._root === null) {\r\n            node.left = node.right = null;\r\n            this._size++;\r\n            this._root = node;\r\n        }\r\n        var comparator = this._comparator;\r\n        var t = splay(key, this._root, comparator);\r\n        var cmp = comparator(key, t.key);\r\n        if (cmp === 0)\r\n            this._root = t;\r\n        else {\r\n            if (cmp < 0) {\r\n                node.left = t.left;\r\n                node.right = t;\r\n                t.left = null;\r\n            }\r\n            else if (cmp > 0) {\r\n                node.right = t.right;\r\n                node.left = t;\r\n                t.right = null;\r\n            }\r\n            this._size++;\r\n            this._root = node;\r\n        }\r\n        return this._root;\r\n    };\r\n    /**\r\n     * @param  {Key} key\r\n     * @return {Node|null}\r\n     */\r\n    Tree.prototype.remove = function (key) {\r\n        this._root = this._remove(key, this._root, this._comparator);\r\n    };\r\n    /**\r\n     * Deletes i from the tree if it's there\r\n     */\r\n    Tree.prototype._remove = function (i, t, comparator) {\r\n        var x;\r\n        if (t === null)\r\n            return null;\r\n        t = splay(i, t, comparator);\r\n        var cmp = comparator(i, t.key);\r\n        if (cmp === 0) { /* found it */\r\n            if (t.left === null) {\r\n                x = t.right;\r\n            }\r\n            else {\r\n                x = splay(i, t.left, comparator);\r\n                x.right = t.right;\r\n            }\r\n            this._size--;\r\n            return x;\r\n        }\r\n        return t; /* It wasn't there */\r\n    };\r\n    /**\r\n     * Removes and returns the node with smallest key\r\n     */\r\n    Tree.prototype.pop = function () {\r\n        var node = this._root;\r\n        if (node) {\r\n            while (node.left)\r\n                node = node.left;\r\n            this._root = splay(node.key, this._root, this._comparator);\r\n            this._root = this._remove(node.key, this._root, this._comparator);\r\n            return { key: node.key, data: node.data };\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Find without splaying\r\n     */\r\n    Tree.prototype.findStatic = function (key) {\r\n        var current = this._root;\r\n        var compare = this._comparator;\r\n        while (current) {\r\n            var cmp = compare(key, current.key);\r\n            if (cmp === 0)\r\n                return current;\r\n            else if (cmp < 0)\r\n                current = current.left;\r\n            else\r\n                current = current.right;\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.find = function (key) {\r\n        if (this._root) {\r\n            this._root = splay(key, this._root, this._comparator);\r\n            if (this._comparator(key, this._root.key) !== 0)\r\n                return null;\r\n        }\r\n        return this._root;\r\n    };\r\n    Tree.prototype.contains = function (key) {\r\n        var current = this._root;\r\n        var compare = this._comparator;\r\n        while (current) {\r\n            var cmp = compare(key, current.key);\r\n            if (cmp === 0)\r\n                return true;\r\n            else if (cmp < 0)\r\n                current = current.left;\r\n            else\r\n                current = current.right;\r\n        }\r\n        return false;\r\n    };\r\n    Tree.prototype.forEach = function (visitor, ctx) {\r\n        var current = this._root;\r\n        var Q = []; /* Initialize stack s */\r\n        var done = false;\r\n        while (!done) {\r\n            if (current !== null) {\r\n                Q.push(current);\r\n                current = current.left;\r\n            }\r\n            else {\r\n                if (Q.length !== 0) {\r\n                    current = Q.pop();\r\n                    visitor.call(ctx, current);\r\n                    current = current.right;\r\n                }\r\n                else\r\n                    done = true;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Walk key range from `low` to `high`. Stops if `fn` returns a value.\r\n     */\r\n    Tree.prototype.range = function (low, high, fn, ctx) {\r\n        var Q = [];\r\n        var compare = this._comparator;\r\n        var node = this._root;\r\n        var cmp;\r\n        while (Q.length !== 0 || node) {\r\n            if (node) {\r\n                Q.push(node);\r\n                node = node.left;\r\n            }\r\n            else {\r\n                node = Q.pop();\r\n                cmp = compare(node.key, high);\r\n                if (cmp > 0) {\r\n                    break;\r\n                }\r\n                else if (compare(node.key, low) >= 0) {\r\n                    if (fn.call(ctx, node))\r\n                        return this; // stop if smth is returned\r\n                }\r\n                node = node.right;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Returns array of keys\r\n     */\r\n    Tree.prototype.keys = function () {\r\n        var keys = [];\r\n        this.forEach(function (_a) {\r\n            var key = _a.key;\r\n            return keys.push(key);\r\n        });\r\n        return keys;\r\n    };\r\n    /**\r\n     * Returns array of all the data in the nodes\r\n     */\r\n    Tree.prototype.values = function () {\r\n        var values = [];\r\n        this.forEach(function (_a) {\r\n            var data = _a.data;\r\n            return values.push(data);\r\n        });\r\n        return values;\r\n    };\r\n    Tree.prototype.min = function () {\r\n        if (this._root)\r\n            return this.minNode(this._root).key;\r\n        return null;\r\n    };\r\n    Tree.prototype.max = function () {\r\n        if (this._root)\r\n            return this.maxNode(this._root).key;\r\n        return null;\r\n    };\r\n    Tree.prototype.minNode = function (t) {\r\n        if (t === void 0) { t = this._root; }\r\n        if (t)\r\n            while (t.left)\r\n                t = t.left;\r\n        return t;\r\n    };\r\n    Tree.prototype.maxNode = function (t) {\r\n        if (t === void 0) { t = this._root; }\r\n        if (t)\r\n            while (t.right)\r\n                t = t.right;\r\n        return t;\r\n    };\r\n    /**\r\n     * Returns node at given index\r\n     */\r\n    Tree.prototype.at = function (index) {\r\n        var current = this._root;\r\n        var done = false;\r\n        var i = 0;\r\n        var Q = [];\r\n        while (!done) {\r\n            if (current) {\r\n                Q.push(current);\r\n                current = current.left;\r\n            }\r\n            else {\r\n                if (Q.length > 0) {\r\n                    current = Q.pop();\r\n                    if (i === index)\r\n                        return current;\r\n                    i++;\r\n                    current = current.right;\r\n                }\r\n                else\r\n                    done = true;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.next = function (d) {\r\n        var root = this._root;\r\n        var successor = null;\r\n        if (d.right) {\r\n            successor = d.right;\r\n            while (successor.left)\r\n                successor = successor.left;\r\n            return successor;\r\n        }\r\n        var comparator = this._comparator;\r\n        while (root) {\r\n            var cmp = comparator(d.key, root.key);\r\n            if (cmp === 0)\r\n                break;\r\n            else if (cmp < 0) {\r\n                successor = root;\r\n                root = root.left;\r\n            }\r\n            else\r\n                root = root.right;\r\n        }\r\n        return successor;\r\n    };\r\n    Tree.prototype.prev = function (d) {\r\n        var root = this._root;\r\n        var predecessor = null;\r\n        if (d.left !== null) {\r\n            predecessor = d.left;\r\n            while (predecessor.right)\r\n                predecessor = predecessor.right;\r\n            return predecessor;\r\n        }\r\n        var comparator = this._comparator;\r\n        while (root) {\r\n            var cmp = comparator(d.key, root.key);\r\n            if (cmp === 0)\r\n                break;\r\n            else if (cmp < 0)\r\n                root = root.left;\r\n            else {\r\n                predecessor = root;\r\n                root = root.right;\r\n            }\r\n        }\r\n        return predecessor;\r\n    };\r\n    Tree.prototype.clear = function () {\r\n        this._root = null;\r\n        this._size = 0;\r\n        return this;\r\n    };\r\n    Tree.prototype.toList = function () {\r\n        return toList(this._root);\r\n    };\r\n    /**\r\n     * Bulk-load items. Both array have to be same size\r\n     */\r\n    Tree.prototype.load = function (keys, values, presort) {\r\n        if (values === void 0) { values = []; }\r\n        if (presort === void 0) { presort = false; }\r\n        var size = keys.length;\r\n        var comparator = this._comparator;\r\n        // sort if needed\r\n        if (presort)\r\n            sort(keys, values, 0, size - 1, comparator);\r\n        if (this._root === null) { // empty tree\r\n            this._root = loadRecursive(keys, values, 0, size);\r\n            this._size = size;\r\n        }\r\n        else { // that re-builds the whole tree from two in-order traversals\r\n            var mergedList = mergeLists(this.toList(), createList(keys, values), comparator);\r\n            size = this._size + size;\r\n            this._root = sortedListToBST({ head: mergedList }, 0, size);\r\n        }\r\n        return this;\r\n    };\r\n    Tree.prototype.isEmpty = function () { return this._root === null; };\r\n    Object.defineProperty(Tree.prototype, \"size\", {\r\n        get: function () { return this._size; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tree.prototype, \"root\", {\r\n        get: function () { return this._root; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Tree.prototype.toString = function (printNode) {\r\n        if (printNode === void 0) { printNode = function (n) { return String(n.key); }; }\r\n        var out = [];\r\n        printRow(this._root, '', true, function (v) { return out.push(v); }, printNode);\r\n        return out.join('');\r\n    };\r\n    Tree.prototype.update = function (key, newKey, newData) {\r\n        var comparator = this._comparator;\r\n        var _a = split(key, this._root, comparator), left = _a.left, right = _a.right;\r\n        if (comparator(key, newKey) < 0) {\r\n            right = insert(newKey, newData, right, comparator);\r\n        }\r\n        else {\r\n            left = insert(newKey, newData, left, comparator);\r\n        }\r\n        this._root = merge(left, right, comparator);\r\n    };\r\n    Tree.prototype.split = function (key) {\r\n        return split(key, this._root, this._comparator);\r\n    };\r\n    Tree.prototype[Symbol.iterator] = function () {\r\n        var current, Q, done;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    current = this._root;\r\n                    Q = [];\r\n                    done = false;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!!done) return [3 /*break*/, 6];\r\n                    if (!(current !== null)) return [3 /*break*/, 2];\r\n                    Q.push(current);\r\n                    current = current.left;\r\n                    return [3 /*break*/, 5];\r\n                case 2:\r\n                    if (!(Q.length !== 0)) return [3 /*break*/, 4];\r\n                    current = Q.pop();\r\n                    return [4 /*yield*/, current];\r\n                case 3:\r\n                    _a.sent();\r\n                    current = current.right;\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    done = true;\r\n                    _a.label = 5;\r\n                case 5: return [3 /*break*/, 1];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    };\r\n    return Tree;\r\n}());\r\nfunction loadRecursive(keys, values, start, end) {\r\n    var size = end - start;\r\n    if (size > 0) {\r\n        var middle = start + Math.floor(size / 2);\r\n        var key = keys[middle];\r\n        var data = values[middle];\r\n        var node = new Node(key, data);\r\n        node.left = loadRecursive(keys, values, start, middle);\r\n        node.right = loadRecursive(keys, values, middle + 1, end);\r\n        return node;\r\n    }\r\n    return null;\r\n}\r\nfunction createList(keys, values) {\r\n    var head = new Node(null, null);\r\n    var p = head;\r\n    for (var i = 0; i < keys.length; i++) {\r\n        p = p.next = new Node(keys[i], values[i]);\r\n    }\r\n    p.next = null;\r\n    return head.next;\r\n}\r\nfunction toList(root) {\r\n    var current = root;\r\n    var Q = [];\r\n    var done = false;\r\n    var head = new Node(null, null);\r\n    var p = head;\r\n    while (!done) {\r\n        if (current) {\r\n            Q.push(current);\r\n            current = current.left;\r\n        }\r\n        else {\r\n            if (Q.length > 0) {\r\n                current = p = p.next = Q.pop();\r\n                current = current.right;\r\n            }\r\n            else\r\n                done = true;\r\n        }\r\n    }\r\n    p.next = null; // that'll work even if the tree was empty\r\n    return head.next;\r\n}\r\nfunction sortedListToBST(list, start, end) {\r\n    var size = end - start;\r\n    if (size > 0) {\r\n        var middle = start + Math.floor(size / 2);\r\n        var left = sortedListToBST(list, start, middle);\r\n        var root = list.head;\r\n        root.left = left;\r\n        list.head = list.head.next;\r\n        root.right = sortedListToBST(list, middle + 1, end);\r\n        return root;\r\n    }\r\n    return null;\r\n}\r\nfunction mergeLists(l1, l2, compare) {\r\n    var head = new Node(null, null); // dummy\r\n    var p = head;\r\n    var p1 = l1;\r\n    var p2 = l2;\r\n    while (p1 !== null && p2 !== null) {\r\n        if (compare(p1.key, p2.key) < 0) {\r\n            p.next = p1;\r\n            p1 = p1.next;\r\n        }\r\n        else {\r\n            p.next = p2;\r\n            p2 = p2.next;\r\n        }\r\n        p = p.next;\r\n    }\r\n    if (p1 !== null) {\r\n        p.next = p1;\r\n    }\r\n    else if (p2 !== null) {\r\n        p.next = p2;\r\n    }\r\n    return head.next;\r\n}\r\nfunction sort(keys, values, left, right, compare) {\r\n    if (left >= right)\r\n        return;\r\n    var pivot = keys[(left + right) >> 1];\r\n    var i = left - 1;\r\n    var j = right + 1;\r\n    while (true) {\r\n        do\r\n            i++;\r\n        while (compare(keys[i], pivot) < 0);\r\n        do\r\n            j--;\r\n        while (compare(keys[j], pivot) > 0);\r\n        if (i >= j)\r\n            break;\r\n        var tmp = keys[i];\r\n        keys[i] = keys[j];\r\n        keys[j] = tmp;\r\n        tmp = values[i];\r\n        values[i] = values[j];\r\n        values[j] = tmp;\r\n    }\r\n    sort(keys, values, left, j, compare);\r\n    sort(keys, values, j + 1, right, compare);\r\n}\n\nexport default Tree;\n//# sourceMappingURL=splay.esm.js.map\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, scale} from './util.js';\n\nconst o3derrboundA = (7 + 56 * epsilon) * epsilon;\nconst o3derrboundB = (3 + 28 * epsilon) * epsilon;\nconst o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst at_b = vec(4);\nconst at_c = vec(4);\nconst bt_c = vec(4);\nconst bt_a = vec(4);\nconst ct_a = vec(4);\nconst ct_b = vec(4);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abt = vec(8);\nconst u = vec(4);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _16 = vec(8);\nconst _12 = vec(12);\n\nlet fin = vec(192);\nlet fin2 = vec(192);\n\nfunction finadd(finlen, alen, a) {\n    finlen = sum(finlen, fin, alen, a, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\n    if (xtail === 0) {\n        if (ytail === 0) {\n            a[0] = 0;\n            b[0] = 0;\n            return 1;\n        } else {\n            negate = -ytail;\n            s1 = negate * ax;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        }\n    } else {\n        if (ytail === 0) {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            negate = -xtail;\n            s1 = negate * by;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        } else {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = ytail * ax;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            a[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            a[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            a[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            a[3] = u3;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = xtail * by;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            b[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            b[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            b[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            b[3] = u3;\n            return 4;\n        }\n    }\n}\n\nfunction tailadd(finlen, a, b, k, z) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\n    s1 = a * b;\n    c = splitter * a;\n    ahi = c - (c - a);\n    alo = a - ahi;\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    c = splitter * k;\n    bhi = c - (c - k);\n    blo = k - bhi;\n    _i = s0 * k;\n    c = splitter * s0;\n    ahi = c - (c - s0);\n    alo = s0 - ahi;\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n    _j = s1 * k;\n    c = splitter * s1;\n    ahi = c - (c - s1);\n    alo = s1 - ahi;\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n    _k = _i + _0;\n    bvirt = _k - _i;\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n    u3 = _j + _k;\n    u[2] = _k - (u3 - _j);\n    u[3] = u3;\n    finlen = finadd(finlen, 4, u);\n    if (z !== 0) {\n        c = splitter * z;\n        bhi = c - (c - z);\n        blo = z - bhi;\n        _i = s0 * z;\n        c = splitter * s0;\n        ahi = c - (c - s0);\n        alo = s0 - ahi;\n        u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n        _j = s1 * z;\n        c = splitter * s1;\n        ahi = c - (c - s1);\n        alo = s1 - ahi;\n        _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n        _k = _i + _0;\n        bvirt = _k - _i;\n        u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n        u3 = _j + _k;\n        u[2] = _k - (u3 - _j);\n        u[3] = u3;\n        finlen = finadd(finlen, 4, u);\n    }\n    return finlen;\n}\n\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail;\n    let adytail, bdytail, cdytail;\n    let adztail, bdztail, cdztail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            scale(4, bc, adz, _8), _8,\n            scale(4, ca, bdz, _8b), _8b, _16), _16,\n        scale(4, ab, cdz, _8), _8, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = o3derrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    bvirt = az - adz;\n    adztail = az - (adz + bvirt) + (bvirt - dz);\n    bvirt = bz - bdz;\n    bdztail = bz - (bdz + bvirt) + (bvirt - dz);\n    bvirt = cz - cdz;\n    cdztail = cz - (cdz + bvirt) + (bvirt - dz);\n\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 &&\n        adytail === 0 && bdytail === 0 && cdytail === 0 &&\n        adztail === 0 && bdztail === 0 && cdztail === 0) {\n        return det;\n    }\n\n    errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\n    det +=\n        adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) +\n        bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) +\n        cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    const at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\n    const bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\n    const ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\n\n    const bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\n    finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\n\n    const catlen = sum(ct_len, ct_a, at_len, at_c, cat);\n    finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\n\n    const abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\n    finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\n\n    if (adztail !== 0) {\n        finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\n        finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\n    }\n    if (bdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\n        finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\n    }\n    if (cdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\n        finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\n    }\n\n    if (adxtail !== 0) {\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\n        }\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\n        }\n    }\n    if (bdxtail !== 0) {\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\n        }\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\n        }\n    }\n    if (cdxtail !== 0) {\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\n        }\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n\n    const det =\n        adz * (bdxcdy - cdxbdy) +\n        bdz * (cdxady - adxcdy) +\n        cdz * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n\n    const errbound = o3derrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n\n    return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\n}\n\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    return adx * (bdy * cdz - bdz * cdy) +\n        bdx * (cdy * adz - cdz * ady) +\n        cdx * (ady * bdz - adz * bdy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale} from './util.js';\n\nconst iccerrboundA = (10 + 96 * epsilon) * epsilon;\nconst iccerrboundB = (4 + 48 * epsilon) * epsilon;\nconst iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst aa = vec(4);\nconst bb = vec(4);\nconst cc = vec(4);\nconst u = vec(4);\nconst v = vec(4);\nconst axtbc = vec(8);\nconst aytbc = vec(8);\nconst bxtca = vec(8);\nconst bytca = vec(8);\nconst cxtab = vec(8);\nconst cytab = vec(8);\nconst abt = vec(8);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abtt = vec(4);\nconst bctt = vec(4);\nconst catt = vec(4);\n\nconst _8 = vec(8);\nconst _16 = vec(16);\nconst _16b = vec(16);\nconst _16c = vec(16);\nconst _32 = vec(32);\nconst _32b = vec(32);\nconst _48 = vec(48);\nconst _64 = vec(64);\n\nlet fin = vec(1152);\nlet fin2 = vec(1152);\n\nfunction finadd(finlen, a, alen) {\n    finlen = sum(finlen, fin, a, alen, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\n    let axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\n    let abtlen, bctlen, catlen;\n    let abttlen, bcttlen, cattlen;\n    let n1, n0;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            sum(\n                scale(scale(4, bc, adx, _8), _8, adx, _16), _16,\n                scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32,\n            sum(\n                scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16,\n                scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64,\n        sum(\n            scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16,\n            scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = iccerrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\n        return det;\n    }\n\n    errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\n    det += ((adx * adx + ady * ady) * ((bdx * cdytail + cdy * bdxtail) - (bdy * cdxtail + cdx * bdytail)) +\n        2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx)) +\n        ((bdx * bdx + bdy * bdy) * ((cdx * adytail + ady * cdxtail) - (cdy * adxtail + adx * cdytail)) +\n        2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) +\n        ((cdx * cdx + cdy * cdy) * ((adx * bdytail + bdy * adxtail) - (ady * bdxtail + bdx * adytail)) +\n        2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n        s1 = adx * adx;\n        c = splitter * adx;\n        ahi = c - (c - adx);\n        alo = adx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = ady * ady;\n        c = splitter * ady;\n        ahi = c - (c - ady);\n        alo = ady - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        aa[3] = u3;\n    }\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n        s1 = bdx * bdx;\n        c = splitter * bdx;\n        ahi = c - (c - bdx);\n        alo = bdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = bdy * bdy;\n        c = splitter * bdy;\n        ahi = c - (c - bdy);\n        alo = bdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        bb[3] = u3;\n    }\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n        s1 = cdx * cdx;\n        c = splitter * cdx;\n        ahi = c - (c - cdx);\n        alo = cdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = cdy * cdy;\n        c = splitter * cdy;\n        ahi = c - (c - cdy);\n        alo = cdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        cc[3] = u3;\n    }\n\n    if (adxtail !== 0) {\n        axtbclen = scale(4, bc, adxtail, axtbc);\n        finlen = finadd(finlen, sum_three(\n            scale(axtbclen, axtbc, 2 * adx, _16), _16,\n            scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b,\n            scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\n    }\n    if (adytail !== 0) {\n        aytbclen = scale(4, bc, adytail, aytbc);\n        finlen = finadd(finlen, sum_three(\n            scale(aytbclen, aytbc, 2 * ady, _16), _16,\n            scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b,\n            scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\n    }\n    if (bdxtail !== 0) {\n        bxtcalen = scale(4, ca, bdxtail, bxtca);\n        finlen = finadd(finlen, sum_three(\n            scale(bxtcalen, bxtca, 2 * bdx, _16), _16,\n            scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b,\n            scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\n    }\n    if (bdytail !== 0) {\n        bytcalen = scale(4, ca, bdytail, bytca);\n        finlen = finadd(finlen, sum_three(\n            scale(bytcalen, bytca, 2 * bdy, _16), _16,\n            scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b,\n            scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\n    }\n    if (cdxtail !== 0) {\n        cxtablen = scale(4, ab, cdxtail, cxtab);\n        finlen = finadd(finlen, sum_three(\n            scale(cxtablen, cxtab, 2 * cdx, _16), _16,\n            scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b,\n            scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\n    }\n    if (cdytail !== 0) {\n        cytablen = scale(4, ab, cdytail, cytab);\n        finlen = finadd(finlen, sum_three(\n            scale(cytablen, cytab, 2 * cdy, _16), _16,\n            scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b,\n            scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\n    }\n\n    if (adxtail !== 0 || adytail !== 0) {\n        if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n            s1 = bdxtail * cdy;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdy;\n            bhi = c - (c - cdy);\n            blo = cdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * cdytail;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            s1 = cdxtail * -bdy;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * -bdy;\n            bhi = c - (c - -bdy);\n            blo = -bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * -bdytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * -bdytail;\n            bhi = c - (c - -bdytail);\n            blo = -bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            bctlen = sum(4, u, 4, v, bct);\n            s1 = bdxtail * cdytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdxtail * bdytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            bctt[3] = u3;\n            bcttlen = 4;\n        } else {\n            bct[0] = 0;\n            bctlen = 1;\n            bctt[0] = 0;\n            bcttlen = 1;\n        }\n        if (adxtail !== 0) {\n            const len = scale(bctlen, bct, adxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(axtbclen, axtbc, adxtail, _16), _16,\n                scale(len, _16c, 2 * adx, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * adx, _16), _16,\n                scale(len2, _8, adxtail, _16b), _16b,\n                scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\n\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\n            }\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\n            }\n        }\n        if (adytail !== 0) {\n            const len = scale(bctlen, bct, adytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(aytbclen, aytbc, adytail, _16), _16,\n                scale(len, _16c, 2 * ady, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * ady, _16), _16,\n                scale(len2, _8, adytail, _16b), _16b,\n                scale(len, _16c, adytail, _32), _32, _32b, _64), _64);\n        }\n    }\n    if (bdxtail !== 0 || bdytail !== 0) {\n        if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n            s1 = cdxtail * ady;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * ady;\n            bhi = c - (c - ady);\n            blo = ady - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * adytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -cdy;\n            n0 = -cdytail;\n            s1 = adxtail * n1;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * n0;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            catlen = sum(4, u, 4, v, cat);\n            s1 = cdxtail * adytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adxtail * cdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            catt[3] = u3;\n            cattlen = 4;\n        } else {\n            cat[0] = 0;\n            catlen = 1;\n            catt[0] = 0;\n            cattlen = 1;\n        }\n        if (bdxtail !== 0) {\n            const len = scale(catlen, cat, bdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bxtcalen, bxtca, bdxtail, _16), _16,\n                scale(len, _16c, 2 * bdx, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdx, _16), _16,\n                scale(len2, _8, bdxtail, _16b), _16b,\n                scale(len, _16c, bdxtail, _32), _32, _32b, _64), _64);\n\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\n            }\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\n            }\n        }\n        if (bdytail !== 0) {\n            const len = scale(catlen, cat, bdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bytcalen, bytca, bdytail, _16), _16,\n                scale(len, _16c, 2 * bdy, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdy, _16), _16,\n                scale(len2, _8, bdytail, _16b), _16b,\n                scale(len, _16c, bdytail, _32), _32,  _32b, _64), _64);\n        }\n    }\n    if (cdxtail !== 0 || cdytail !== 0) {\n        if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n            s1 = adxtail * bdy;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdy;\n            bhi = c - (c - bdy);\n            blo = bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * bdytail;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -ady;\n            n0 = -adytail;\n            s1 = bdxtail * n1;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * n0;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            abtlen = sum(4, u, 4, v, abt);\n            s1 = adxtail * bdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdxtail * adytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            abtt[3] = u3;\n            abttlen = 4;\n        } else {\n            abt[0] = 0;\n            abtlen = 1;\n            abtt[0] = 0;\n            abttlen = 1;\n        }\n        if (cdxtail !== 0) {\n            const len = scale(abtlen, abt, cdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cxtablen, cxtab, cdxtail, _16), _16,\n                scale(len, _16c, 2 * cdx, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdx, _16), _16,\n                scale(len2, _8, cdxtail, _16b), _16b,\n                scale(len, _16c, cdxtail, _32), _32, _32b, _64), _64);\n\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\n            }\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\n            }\n        }\n        if (cdytail !== 0) {\n            const len = scale(abtlen, abt, cdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cytablen, cytab, cdytail, _16), _16,\n                scale(len, _16c, 2 * cdy, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdy, _16), _16,\n                scale(len2, _8, cdytail, _16b), _16b,\n                scale(len, _16c, cdytail, _32), _32, _32b, _64), _64);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n    const alift = adx * adx + ady * ady;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n    const blift = bdx * bdx + bdy * bdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n    const clift = cdx * cdx + cdy * cdy;\n\n    const det =\n        alift * (bdxcdy - cdxbdy) +\n        blift * (cdxady - adxcdy) +\n        clift * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * blift +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\n\n    const errbound = iccerrboundA * permanent;\n\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\n}\n\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const ady = ay - dy;\n    const bdx = bx - dx;\n    const bdy = by - dy;\n    const cdx = cx - dx;\n    const cdy = cy - dy;\n\n    const abdet = adx * bdy - bdx * ady;\n    const bcdet = bdx * cdy - cdx * bdy;\n    const cadet = cdx * ady - adx * cdy;\n    const alift = adx * adx + ady * ady;\n    const blift = bdx * bdx + bdy * bdy;\n    const clift = cdx * cdx + cdy * cdy;\n\n    return alift * bcdet + blift * cadet + clift * abdet;\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate} from './util.js';\n\nconst isperrboundA = (16 + 224 * epsilon) * epsilon;\nconst isperrboundB = (5 + 72 * epsilon) * epsilon;\nconst isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\n\nconst ab = vec(4);\nconst bc = vec(4);\nconst cd = vec(4);\nconst de = vec(4);\nconst ea = vec(4);\nconst ac = vec(4);\nconst bd = vec(4);\nconst ce = vec(4);\nconst da = vec(4);\nconst eb = vec(4);\n\nconst abc = vec(24);\nconst bcd = vec(24);\nconst cde = vec(24);\nconst dea = vec(24);\nconst eab = vec(24);\nconst abd = vec(24);\nconst bce = vec(24);\nconst cda = vec(24);\nconst deb = vec(24);\nconst eac = vec(24);\n\nconst adet = vec(1152);\nconst bdet = vec(1152);\nconst cdet = vec(1152);\nconst ddet = vec(1152);\nconst edet = vec(1152);\nconst abdet = vec(2304);\nconst cddet = vec(2304);\nconst cdedet = vec(3456);\nconst deter = vec(5760);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _8c = vec(8);\nconst _16 = vec(16);\nconst _24 = vec(24);\nconst _48 = vec(48);\nconst _48b = vec(48);\nconst _96 = vec(96);\nconst _192 = vec(192);\nconst _384x = vec(384);\nconst _384y = vec(384);\nconst _384z = vec(384);\nconst _768 = vec(768);\n\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\n    return sum_three(\n        scale(4, a, az, _8), _8,\n        scale(4, b, bz, _8b), _8b,\n        scale(4, c, cz, _8c), _8c, _16, out);\n}\n\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\n    const len = sum(\n        sum(alen, a, blen, b, _48), _48,\n        negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\n\n    return sum_three(\n        scale(scale(len, _96, x, _192), _192, x, _384x), _384x,\n        scale(scale(len, _96, y, _192), _192, y, _384y), _384y,\n        scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\n}\n\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    s1 = ax * by;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ay;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n    s1 = bx * cy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * by;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cx * dy;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * cy;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    cd[3] = u3;\n    s1 = dx * ey;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * dy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    de[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    de[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    de[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    de[3] = u3;\n    s1 = ex * ay;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * ey;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ea[3] = u3;\n    s1 = ax * cy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * ay;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ac[3] = u3;\n    s1 = bx * dy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * by;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bd[3] = u3;\n    s1 = cx * ey;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * cy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ce[3] = u3;\n    s1 = dx * ay;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * dy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    da[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    da[3] = u3;\n    s1 = ex * by;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ey;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    eb[3] = u3;\n\n    const abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\n    const bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\n    const cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\n    const dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\n    const eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\n    const abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\n    const bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\n    const cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\n    const deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\n    const eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\n\n    const deterlen = sum_three(\n        liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet,\n        liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet,\n        sum_three(\n            liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet,\n            liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet,\n            liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\n\n    return deter[deterlen - 1];\n}\n\nconst xdet = vec(96);\nconst ydet = vec(96);\nconst zdet = vec(96);\nconst fin = vec(1152);\n\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\n    const len = sum_three_scale(a, b, c, az, bz, cz, _24);\n    return sum_three(\n        scale(scale(len, _24, x, _48), _48, x, xdet), xdet,\n        scale(scale(len, _24, y, _48), _48, y, ydet), ydet,\n        scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\n}\n\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\n    let ab3, bc3, cd3, da3, ac3, bd3;\n\n    let aextail, bextail, cextail, dextail;\n    let aeytail, beytail, ceytail, deytail;\n    let aeztail, beztail, ceztail, deztail;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\n\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    s1 = aex * bey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bex * aey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ab3 = _j + _i;\n    bvirt = ab3 - _j;\n    ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\n    ab[3] = ab3;\n    s1 = bex * cey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * bey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bc3 = _j + _i;\n    bvirt = bc3 - _j;\n    bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\n    bc[3] = bc3;\n    s1 = cex * dey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * cey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    cd3 = _j + _i;\n    bvirt = cd3 - _j;\n    cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\n    cd[3] = cd3;\n    s1 = dex * aey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = aex * dey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    da3 = _j + _i;\n    bvirt = da3 - _j;\n    da[2] = _j - (da3 - bvirt) + (_i - bvirt);\n    da[3] = da3;\n    s1 = aex * cey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * aey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ac3 = _j + _i;\n    bvirt = ac3 - _j;\n    ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\n    ac[3] = ac3;\n    s1 = bex * dey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * bey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bd3 = _j + _i;\n    bvirt = bd3 - _j;\n    bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\n    bd[3] = bd3;\n\n    const finlen = sum(\n        sum(\n            negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet,\n            liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet,\n        sum(\n            negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet,\n            liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = isperrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - aex;\n    aextail = ax - (aex + bvirt) + (bvirt - ex);\n    bvirt = ay - aey;\n    aeytail = ay - (aey + bvirt) + (bvirt - ey);\n    bvirt = az - aez;\n    aeztail = az - (aez + bvirt) + (bvirt - ez);\n    bvirt = bx - bex;\n    bextail = bx - (bex + bvirt) + (bvirt - ex);\n    bvirt = by - bey;\n    beytail = by - (bey + bvirt) + (bvirt - ey);\n    bvirt = bz - bez;\n    beztail = bz - (bez + bvirt) + (bvirt - ez);\n    bvirt = cx - cex;\n    cextail = cx - (cex + bvirt) + (bvirt - ex);\n    bvirt = cy - cey;\n    ceytail = cy - (cey + bvirt) + (bvirt - ey);\n    bvirt = cz - cez;\n    ceztail = cz - (cez + bvirt) + (bvirt - ez);\n    bvirt = dx - dex;\n    dextail = dx - (dex + bvirt) + (bvirt - ex);\n    bvirt = dy - dey;\n    deytail = dy - (dey + bvirt) + (bvirt - ey);\n    bvirt = dz - dez;\n    deztail = dz - (dez + bvirt) + (bvirt - ez);\n    if (aextail === 0 && aeytail === 0 && aeztail === 0 &&\n        bextail === 0 && beytail === 0 && beztail === 0 &&\n        cextail === 0 && ceytail === 0 && ceztail === 0 &&\n        dextail === 0 && deytail === 0 && deztail === 0) {\n        return det;\n    }\n\n    errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\n\n    const abeps = (aex * beytail + bey * aextail) - (aey * bextail + bex * aeytail);\n    const bceps = (bex * ceytail + cey * bextail) - (bey * cextail + cex * beytail);\n    const cdeps = (cex * deytail + dey * cextail) - (cey * dextail + dex * ceytail);\n    const daeps = (dex * aeytail + aey * dextail) - (dey * aextail + aex * deytail);\n    const aceps = (aex * ceytail + cey * aextail) - (aey * cextail + cex * aeytail);\n    const bdeps = (bex * deytail + dey * bextail) - (bey * dextail + dex * beytail);\n    det +=\n        (((bex * bex + bey * bey + bez * bez) * ((cez * daeps + dez * aceps + aez * cdeps) +\n        (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) *\n        ((aez * bceps - bez * aceps + cez * abeps) + (aeztail * bc3 - beztail * ac3 + ceztail * ab3))) -\n        ((aex * aex + aey * aey + aez * aez) * ((bez * cdeps - cez * bdeps + dez * bceps) +\n        (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) *\n        ((dez * abeps + aez * bdeps + bez * daeps) + (deztail * ab3 + aeztail * bd3 + beztail * da3)))) +\n        2 * (((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) +\n        (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3)) -\n        ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) +\n        (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\n}\n\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    const aexbey = aex * bey;\n    const bexaey = bex * aey;\n    const ab = aexbey - bexaey;\n    const bexcey = bex * cey;\n    const cexbey = cex * bey;\n    const bc = bexcey - cexbey;\n    const cexdey = cex * dey;\n    const dexcey = dex * cey;\n    const cd = cexdey - dexcey;\n    const dexaey = dex * aey;\n    const aexdey = aex * dey;\n    const da = dexaey - aexdey;\n    const aexcey = aex * cey;\n    const cexaey = cex * aey;\n    const ac = aexcey - cexaey;\n    const bexdey = bex * dey;\n    const dexbey = dex * bey;\n    const bd = bexdey - dexbey;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    const det =\n        (clift * (dez * ab + aez * bd + bez * da) - dlift * (aez * bc - bez * ac + cez * ab)) +\n        (alift * (bez * cd - cez * bd + dez * bc) - blift * (cez * da + dez * ac + aez * cd));\n\n    const aezplus = Math.abs(aez);\n    const bezplus = Math.abs(bez);\n    const cezplus = Math.abs(cez);\n    const dezplus = Math.abs(dez);\n    const aexbeyplus = Math.abs(aexbey) + Math.abs(bexaey);\n    const bexceyplus = Math.abs(bexcey) + Math.abs(cexbey);\n    const cexdeyplus = Math.abs(cexdey) + Math.abs(dexcey);\n    const dexaeyplus = Math.abs(dexaey) + Math.abs(aexdey);\n    const aexceyplus = Math.abs(aexcey) + Math.abs(cexaey);\n    const bexdeyplus = Math.abs(bexdey) + Math.abs(dexbey);\n    const permanent =\n        (cexdeyplus * bezplus + bexdeyplus * cezplus + bexceyplus * dezplus) * alift +\n        (dexaeyplus * cezplus + aexceyplus * dezplus + cexdeyplus * aezplus) * blift +\n        (aexbeyplus * dezplus + bexdeyplus * aezplus + dexaeyplus * bezplus) * clift +\n        (bexceyplus * aezplus + aexceyplus * bezplus + aexbeyplus * cezplus) * dlift;\n\n    const errbound = isperrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\n}\n\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\n    const aex = pax - pex;\n    const bex = pbx - pex;\n    const cex = pcx - pex;\n    const dex = pdx - pex;\n    const aey = pay - pey;\n    const bey = pby - pey;\n    const cey = pcy - pey;\n    const dey = pdy - pey;\n    const aez = paz - pez;\n    const bez = pbz - pez;\n    const cez = pcz - pez;\n    const dez = pdz - pez;\n\n    const ab = aex * bey - bex * aey;\n    const bc = bex * cey - cex * bey;\n    const cd = cex * dey - dex * cey;\n    const da = dex * aey - aex * dey;\n    const ac = aex * cey - cex * aey;\n    const bd = bex * dey - dex * bey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    return (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n}\n","import SplayTree from 'splaytree';\nimport { orient2d } from 'robust-predicates';\n\n/**\n * A bounding box has the format:\n *\n *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n *\n */\n\nconst isInBbox = (bbox, point) => {\n  return bbox.ll.x <= point.x && point.x <= bbox.ur.x && bbox.ll.y <= point.y && point.y <= bbox.ur.y;\n};\n\n/* Returns either null, or a bbox (aka an ordered pair of points)\n * If there is only one point of overlap, a bbox with identical points\n * will be returned */\nconst getBboxOverlap = (b1, b2) => {\n  // check if the bboxes overlap at all\n  if (b2.ur.x < b1.ll.x || b1.ur.x < b2.ll.x || b2.ur.y < b1.ll.y || b1.ur.y < b2.ll.y) return null;\n\n  // find the middle two X values\n  const lowerX = b1.ll.x < b2.ll.x ? b2.ll.x : b1.ll.x;\n  const upperX = b1.ur.x < b2.ur.x ? b1.ur.x : b2.ur.x;\n\n  // find the middle two Y values\n  const lowerY = b1.ll.y < b2.ll.y ? b2.ll.y : b1.ll.y;\n  const upperY = b1.ur.y < b2.ur.y ? b1.ur.y : b2.ur.y;\n\n  // put those middle values together to get the overlap\n  return {\n    ll: {\n      x: lowerX,\n      y: lowerY\n    },\n    ur: {\n      x: upperX,\n      y: upperY\n    }\n  };\n};\n\n/* Javascript doesn't do integer math. Everything is\n * floating point with percision Number.EPSILON.\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\n */\n\nlet epsilon = Number.EPSILON;\n\n// IE Polyfill\nif (epsilon === undefined) epsilon = Math.pow(2, -52);\nconst EPSILON_SQ = epsilon * epsilon;\n\n/* FLP comparator */\nconst cmp = (a, b) => {\n  // check if they're both 0\n  if (-epsilon < a && a < epsilon) {\n    if (-epsilon < b && b < epsilon) {\n      return 0;\n    }\n  }\n\n  // check if they're flp equal\n  const ab = a - b;\n  if (ab * ab < EPSILON_SQ * a * b) {\n    return 0;\n  }\n\n  // normal comparison\n  return a < b ? -1 : 1;\n};\n\n/**\n * This class rounds incoming values sufficiently so that\n * floating points problems are, for the most part, avoided.\n *\n * Incoming points are have their x & y values tested against\n * all previously seen x & y values. If either is 'too close'\n * to a previously seen value, it's value is 'snapped' to the\n * previously seen value.\n *\n * All points should be rounded by this class before being\n * stored in any data structures in the rest of this algorithm.\n */\n\nclass PtRounder {\n  constructor() {\n    this.reset();\n  }\n  reset() {\n    this.xRounder = new CoordRounder();\n    this.yRounder = new CoordRounder();\n  }\n  round(x, y) {\n    return {\n      x: this.xRounder.round(x),\n      y: this.yRounder.round(y)\n    };\n  }\n}\nclass CoordRounder {\n  constructor() {\n    this.tree = new SplayTree();\n    // preseed with 0 so we don't end up with values < Number.EPSILON\n    this.round(0);\n  }\n\n  // Note: this can rounds input values backwards or forwards.\n  //       You might ask, why not restrict this to just rounding\n  //       forwards? Wouldn't that allow left endpoints to always\n  //       remain left endpoints during splitting (never change to\n  //       right). No - it wouldn't, because we snap intersections\n  //       to endpoints (to establish independence from the segment\n  //       angle for t-intersections).\n  round(coord) {\n    const node = this.tree.add(coord);\n    const prevNode = this.tree.prev(node);\n    if (prevNode !== null && cmp(node.key, prevNode.key) === 0) {\n      this.tree.remove(coord);\n      return prevNode.key;\n    }\n    const nextNode = this.tree.next(node);\n    if (nextNode !== null && cmp(node.key, nextNode.key) === 0) {\n      this.tree.remove(coord);\n      return nextNode.key;\n    }\n    return coord;\n  }\n}\n\n// singleton available by import\nconst rounder = new PtRounder();\n\n/* Cross Product of two vectors with first point at origin */\nconst crossProduct = (a, b) => a.x * b.y - a.y * b.x;\n\n/* Dot Product of two vectors with first point at origin */\nconst dotProduct = (a, b) => a.x * b.x + a.y * b.y;\n\n/* Comparator for two vectors with same starting point */\nconst compareVectorAngles = (basePt, endPt1, endPt2) => {\n  const res = orient2d(basePt.x, basePt.y, endPt1.x, endPt1.y, endPt2.x, endPt2.y);\n  if (res > 0) return -1;\n  if (res < 0) return 1;\n  return 0;\n};\nconst length = v => Math.sqrt(dotProduct(v, v));\n\n/* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\nconst sineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = {\n    x: pBase.x - pShared.x,\n    y: pBase.y - pShared.y\n  };\n  const vAngle = {\n    x: pAngle.x - pShared.x,\n    y: pAngle.y - pShared.y\n  };\n  return crossProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n};\n\n/* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\nconst cosineOfAngle = (pShared, pBase, pAngle) => {\n  const vBase = {\n    x: pBase.x - pShared.x,\n    y: pBase.y - pShared.y\n  };\n  const vAngle = {\n    x: pAngle.x - pShared.x,\n    y: pAngle.y - pShared.y\n  };\n  return dotProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n};\n\n/* Get the x coordinate where the given line (defined by a point and vector)\n * crosses the horizontal line with the given y coordiante.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nconst horizontalIntersection = (pt, v, y) => {\n  if (v.y === 0) return null;\n  return {\n    x: pt.x + v.x / v.y * (y - pt.y),\n    y: y\n  };\n};\n\n/* Get the y coordinate where the given line (defined by a point and vector)\n * crosses the vertical line with the given x coordiante.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nconst verticalIntersection = (pt, v, x) => {\n  if (v.x === 0) return null;\n  return {\n    x: x,\n    y: pt.y + v.y / v.x * (x - pt.x)\n  };\n};\n\n/* Get the intersection of two lines, each defined by a base point and a vector.\n * In the case of parrallel lines (including overlapping ones) returns null. */\nconst intersection$1 = (pt1, v1, pt2, v2) => {\n  // take some shortcuts for vertical and horizontal lines\n  // this also ensures we don't calculate an intersection and then discover\n  // it's actually outside the bounding box of the line\n  if (v1.x === 0) return verticalIntersection(pt2, v2, pt1.x);\n  if (v2.x === 0) return verticalIntersection(pt1, v1, pt2.x);\n  if (v1.y === 0) return horizontalIntersection(pt2, v2, pt1.y);\n  if (v2.y === 0) return horizontalIntersection(pt1, v1, pt2.y);\n\n  // General case for non-overlapping segments.\n  // This algorithm is based on Schneider and Eberly.\n  // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n  const kross = crossProduct(v1, v2);\n  if (kross == 0) return null;\n  const ve = {\n    x: pt2.x - pt1.x,\n    y: pt2.y - pt1.y\n  };\n  const d1 = crossProduct(ve, v1) / kross;\n  const d2 = crossProduct(ve, v2) / kross;\n\n  // take the average of the two calculations to minimize rounding error\n  const x1 = pt1.x + d2 * v1.x,\n    x2 = pt2.x + d1 * v2.x;\n  const y1 = pt1.y + d2 * v1.y,\n    y2 = pt2.y + d1 * v2.y;\n  const x = (x1 + x2) / 2;\n  const y = (y1 + y2) / 2;\n  return {\n    x: x,\n    y: y\n  };\n};\n\nclass SweepEvent {\n  // for ordering sweep events in the sweep event queue\n  static compare(a, b) {\n    // favor event with a point that the sweep line hits first\n    const ptCmp = SweepEvent.comparePoints(a.point, b.point);\n    if (ptCmp !== 0) return ptCmp;\n\n    // the points are the same, so link them if needed\n    if (a.point !== b.point) a.link(b);\n\n    // favor right events over left\n    if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1;\n\n    // we have two matching left or right endpoints\n    // ordering of this case is the same as for their segments\n    return Segment.compare(a.segment, b.segment);\n  }\n\n  // for ordering points in sweep line order\n  static comparePoints(aPt, bPt) {\n    if (aPt.x < bPt.x) return -1;\n    if (aPt.x > bPt.x) return 1;\n    if (aPt.y < bPt.y) return -1;\n    if (aPt.y > bPt.y) return 1;\n    return 0;\n  }\n\n  // Warning: 'point' input will be modified and re-used (for performance)\n  constructor(point, isLeft) {\n    if (point.events === undefined) point.events = [this];else point.events.push(this);\n    this.point = point;\n    this.isLeft = isLeft;\n    // this.segment, this.otherSE set by factory\n  }\n  link(other) {\n    if (other.point === this.point) {\n      throw new Error(\"Tried to link already linked events\");\n    }\n    const otherEvents = other.point.events;\n    for (let i = 0, iMax = otherEvents.length; i < iMax; i++) {\n      const evt = otherEvents[i];\n      this.point.events.push(evt);\n      evt.point = this.point;\n    }\n    this.checkForConsuming();\n  }\n\n  /* Do a pass over our linked events and check to see if any pair\n   * of segments match, and should be consumed. */\n  checkForConsuming() {\n    // FIXME: The loops in this method run O(n^2) => no good.\n    //        Maintain little ordered sweep event trees?\n    //        Can we maintaining an ordering that avoids the need\n    //        for the re-sorting with getLeftmostComparator in geom-out?\n\n    // Compare each pair of events to see if other events also match\n    const numEvents = this.point.events.length;\n    for (let i = 0; i < numEvents; i++) {\n      const evt1 = this.point.events[i];\n      if (evt1.segment.consumedBy !== undefined) continue;\n      for (let j = i + 1; j < numEvents; j++) {\n        const evt2 = this.point.events[j];\n        if (evt2.consumedBy !== undefined) continue;\n        if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n        evt1.segment.consume(evt2.segment);\n      }\n    }\n  }\n  getAvailableLinkedEvents() {\n    // point.events is always of length 2 or greater\n    const events = [];\n    for (let i = 0, iMax = this.point.events.length; i < iMax; i++) {\n      const evt = this.point.events[i];\n      if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n        events.push(evt);\n      }\n    }\n    return events;\n  }\n\n  /**\n   * Returns a comparator function for sorting linked events that will\n   * favor the event that will give us the smallest left-side angle.\n   * All ring construction starts as low as possible heading to the right,\n   * so by always turning left as sharp as possible we'll get polygons\n   * without uncessary loops & holes.\n   *\n   * The comparator function has a compute cache such that it avoids\n   * re-computing already-computed values.\n   */\n  getLeftmostComparator(baseEvent) {\n    const cache = new Map();\n    const fillCache = linkedEvent => {\n      const nextEvent = linkedEvent.otherSE;\n      cache.set(linkedEvent, {\n        sine: sineOfAngle(this.point, baseEvent.point, nextEvent.point),\n        cosine: cosineOfAngle(this.point, baseEvent.point, nextEvent.point)\n      });\n    };\n    return (a, b) => {\n      if (!cache.has(a)) fillCache(a);\n      if (!cache.has(b)) fillCache(b);\n      const {\n        sine: asine,\n        cosine: acosine\n      } = cache.get(a);\n      const {\n        sine: bsine,\n        cosine: bcosine\n      } = cache.get(b);\n\n      // both on or above x-axis\n      if (asine >= 0 && bsine >= 0) {\n        if (acosine < bcosine) return 1;\n        if (acosine > bcosine) return -1;\n        return 0;\n      }\n\n      // both below x-axis\n      if (asine < 0 && bsine < 0) {\n        if (acosine < bcosine) return -1;\n        if (acosine > bcosine) return 1;\n        return 0;\n      }\n\n      // one above x-axis, one below\n      if (bsine < asine) return -1;\n      if (bsine > asine) return 1;\n      return 0;\n    };\n  }\n}\n\n// Give segments unique ID's to get consistent sorting of\n// segments and sweep events when all else is identical\nlet segmentId = 0;\nclass Segment {\n  /* This compare() function is for ordering segments in the sweep\n   * line tree, and does so according to the following criteria:\n   *\n   * Consider the vertical line that lies an infinestimal step to the\n   * right of the right-more of the two left endpoints of the input\n   * segments. Imagine slowly moving a point up from negative infinity\n   * in the increasing y direction. Which of the two segments will that\n   * point intersect first? That segment comes 'before' the other one.\n   *\n   * If neither segment would be intersected by such a line, (if one\n   * or more of the segments are vertical) then the line to be considered\n   * is directly on the right-more of the two left inputs.\n   */\n  static compare(a, b) {\n    const alx = a.leftSE.point.x;\n    const blx = b.leftSE.point.x;\n    const arx = a.rightSE.point.x;\n    const brx = b.rightSE.point.x;\n\n    // check if they're even in the same vertical plane\n    if (brx < alx) return 1;\n    if (arx < blx) return -1;\n    const aly = a.leftSE.point.y;\n    const bly = b.leftSE.point.y;\n    const ary = a.rightSE.point.y;\n    const bry = b.rightSE.point.y;\n\n    // is left endpoint of segment B the right-more?\n    if (alx < blx) {\n      // are the two segments in the same horizontal plane?\n      if (bly < aly && bly < ary) return 1;\n      if (bly > aly && bly > ary) return -1;\n\n      // is the B left endpoint colinear to segment A?\n      const aCmpBLeft = a.comparePoint(b.leftSE.point);\n      if (aCmpBLeft < 0) return 1;\n      if (aCmpBLeft > 0) return -1;\n\n      // is the A right endpoint colinear to segment B ?\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n\n      // colinear segments, consider the one with left-more\n      // left endpoint to be first (arbitrary?)\n      return -1;\n    }\n\n    // is left endpoint of segment A the right-more?\n    if (alx > blx) {\n      if (aly < bly && aly < bry) return -1;\n      if (aly > bly && aly > bry) return 1;\n\n      // is the A left endpoint colinear to segment B?\n      const bCmpALeft = b.comparePoint(a.leftSE.point);\n      if (bCmpALeft !== 0) return bCmpALeft;\n\n      // is the B right endpoint colinear to segment A?\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n\n      // colinear segments, consider the one with left-more\n      // left endpoint to be first (arbitrary?)\n      return 1;\n    }\n\n    // if we get here, the two left endpoints are in the same\n    // vertical plane, ie alx === blx\n\n    // consider the lower left-endpoint to come first\n    if (aly < bly) return -1;\n    if (aly > bly) return 1;\n\n    // left endpoints are identical\n    // check for colinearity by using the left-more right endpoint\n\n    // is the A right endpoint more left-more?\n    if (arx < brx) {\n      const bCmpARight = b.comparePoint(a.rightSE.point);\n      if (bCmpARight !== 0) return bCmpARight;\n    }\n\n    // is the B right endpoint more left-more?\n    if (arx > brx) {\n      const aCmpBRight = a.comparePoint(b.rightSE.point);\n      if (aCmpBRight < 0) return 1;\n      if (aCmpBRight > 0) return -1;\n    }\n    if (arx !== brx) {\n      // are these two [almost] vertical segments with opposite orientation?\n      // if so, the one with the lower right endpoint comes first\n      const ay = ary - aly;\n      const ax = arx - alx;\n      const by = bry - bly;\n      const bx = brx - blx;\n      if (ay > ax && by < bx) return 1;\n      if (ay < ax && by > bx) return -1;\n    }\n\n    // we have colinear segments with matching orientation\n    // consider the one with more left-more right endpoint to be first\n    if (arx > brx) return 1;\n    if (arx < brx) return -1;\n\n    // if we get here, two two right endpoints are in the same\n    // vertical plane, ie arx === brx\n\n    // consider the lower right-endpoint to come first\n    if (ary < bry) return -1;\n    if (ary > bry) return 1;\n\n    // right endpoints identical as well, so the segments are idential\n    // fall back on creation order as consistent tie-breaker\n    if (a.id < b.id) return -1;\n    if (a.id > b.id) return 1;\n\n    // identical segment, ie a === b\n    return 0;\n  }\n\n  /* Warning: a reference to ringWindings input will be stored,\n   *  and possibly will be later modified */\n  constructor(leftSE, rightSE, rings, windings) {\n    this.id = ++segmentId;\n    this.leftSE = leftSE;\n    leftSE.segment = this;\n    leftSE.otherSE = rightSE;\n    this.rightSE = rightSE;\n    rightSE.segment = this;\n    rightSE.otherSE = leftSE;\n    this.rings = rings;\n    this.windings = windings;\n    // left unset for performance, set later in algorithm\n    // this.ringOut, this.consumedBy, this.prev\n  }\n  static fromRing(pt1, pt2, ring) {\n    let leftPt, rightPt, winding;\n\n    // ordering the two points according to sweep line ordering\n    const cmpPts = SweepEvent.comparePoints(pt1, pt2);\n    if (cmpPts < 0) {\n      leftPt = pt1;\n      rightPt = pt2;\n      winding = 1;\n    } else if (cmpPts > 0) {\n      leftPt = pt2;\n      rightPt = pt1;\n      winding = -1;\n    } else throw new Error(`Tried to create degenerate segment at [${pt1.x}, ${pt1.y}]`);\n    const leftSE = new SweepEvent(leftPt, true);\n    const rightSE = new SweepEvent(rightPt, false);\n    return new Segment(leftSE, rightSE, [ring], [winding]);\n  }\n\n  /* When a segment is split, the rightSE is replaced with a new sweep event */\n  replaceRightSE(newRightSE) {\n    this.rightSE = newRightSE;\n    this.rightSE.segment = this;\n    this.rightSE.otherSE = this.leftSE;\n    this.leftSE.otherSE = this.rightSE;\n  }\n  bbox() {\n    const y1 = this.leftSE.point.y;\n    const y2 = this.rightSE.point.y;\n    return {\n      ll: {\n        x: this.leftSE.point.x,\n        y: y1 < y2 ? y1 : y2\n      },\n      ur: {\n        x: this.rightSE.point.x,\n        y: y1 > y2 ? y1 : y2\n      }\n    };\n  }\n\n  /* A vector from the left point to the right */\n  vector() {\n    return {\n      x: this.rightSE.point.x - this.leftSE.point.x,\n      y: this.rightSE.point.y - this.leftSE.point.y\n    };\n  }\n  isAnEndpoint(pt) {\n    return pt.x === this.leftSE.point.x && pt.y === this.leftSE.point.y || pt.x === this.rightSE.point.x && pt.y === this.rightSE.point.y;\n  }\n\n  /* Compare this segment with a point.\n   *\n   * A point P is considered to be colinear to a segment if there\n   * exists a distance D such that if we travel along the segment\n   * from one * endpoint towards the other a distance D, we find\n   * ourselves at point P.\n   *\n   * Return value indicates:\n   *\n   *   1: point lies above the segment (to the left of vertical)\n   *   0: point is colinear to segment\n   *  -1: point lies below the segment (to the right of vertical)\n   */\n  comparePoint(point) {\n    if (this.isAnEndpoint(point)) return 0;\n    const lPt = this.leftSE.point;\n    const rPt = this.rightSE.point;\n    const v = this.vector();\n\n    // Exactly vertical segments.\n    if (lPt.x === rPt.x) {\n      if (point.x === lPt.x) return 0;\n      return point.x < lPt.x ? 1 : -1;\n    }\n\n    // Nearly vertical segments with an intersection.\n    // Check to see where a point on the line with matching Y coordinate is.\n    const yDist = (point.y - lPt.y) / v.y;\n    const xFromYDist = lPt.x + yDist * v.x;\n    if (point.x === xFromYDist) return 0;\n\n    // General case.\n    // Check to see where a point on the line with matching X coordinate is.\n    const xDist = (point.x - lPt.x) / v.x;\n    const yFromXDist = lPt.y + xDist * v.y;\n    if (point.y === yFromXDist) return 0;\n    return point.y < yFromXDist ? -1 : 1;\n  }\n\n  /**\n   * Given another segment, returns the first non-trivial intersection\n   * between the two segments (in terms of sweep line ordering), if it exists.\n   *\n   * A 'non-trivial' intersection is one that will cause one or both of the\n   * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n   *\n   *   * endpoint of segA with endpoint of segB --> trivial\n   *   * endpoint of segA with point along segB --> non-trivial\n   *   * endpoint of segB with point along segA --> non-trivial\n   *   * point along segA with point along segB --> non-trivial\n   *\n   * If no non-trivial intersection exists, return null\n   * Else, return null.\n   */\n  getIntersection(other) {\n    // If bboxes don't overlap, there can't be any intersections\n    const tBbox = this.bbox();\n    const oBbox = other.bbox();\n    const bboxOverlap = getBboxOverlap(tBbox, oBbox);\n    if (bboxOverlap === null) return null;\n\n    // We first check to see if the endpoints can be considered intersections.\n    // This will 'snap' intersections to endpoints if possible, and will\n    // handle cases of colinearity.\n\n    const tlp = this.leftSE.point;\n    const trp = this.rightSE.point;\n    const olp = other.leftSE.point;\n    const orp = other.rightSE.point;\n\n    // does each endpoint touch the other segment?\n    // note that we restrict the 'touching' definition to only allow segments\n    // to touch endpoints that lie forward from where we are in the sweep line pass\n    const touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n    const touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n    const touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n    const touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0;\n\n    // do left endpoints match?\n    if (touchesThisLSE && touchesOtherLSE) {\n      // these two cases are for colinear segments with matching left\n      // endpoints, and one segment being longer than the other\n      if (touchesThisRSE && !touchesOtherRSE) return trp;\n      if (!touchesThisRSE && touchesOtherRSE) return orp;\n      // either the two segments match exactly (two trival intersections)\n      // or just on their left endpoint (one trivial intersection\n      return null;\n    }\n\n    // does this left endpoint matches (other doesn't)\n    if (touchesThisLSE) {\n      // check for segments that just intersect on opposing endpoints\n      if (touchesOtherRSE) {\n        if (tlp.x === orp.x && tlp.y === orp.y) return null;\n      }\n      // t-intersection on left endpoint\n      return tlp;\n    }\n\n    // does other left endpoint matches (this doesn't)\n    if (touchesOtherLSE) {\n      // check for segments that just intersect on opposing endpoints\n      if (touchesThisRSE) {\n        if (trp.x === olp.x && trp.y === olp.y) return null;\n      }\n      // t-intersection on left endpoint\n      return olp;\n    }\n\n    // trivial intersection on right endpoints\n    if (touchesThisRSE && touchesOtherRSE) return null;\n\n    // t-intersections on just one right endpoint\n    if (touchesThisRSE) return trp;\n    if (touchesOtherRSE) return orp;\n\n    // None of our endpoints intersect. Look for a general intersection between\n    // infinite lines laid over the segments\n    const pt = intersection$1(tlp, this.vector(), olp, other.vector());\n\n    // are the segments parrallel? Note that if they were colinear with overlap,\n    // they would have an endpoint intersection and that case was already handled above\n    if (pt === null) return null;\n\n    // is the intersection found between the lines not on the segments?\n    if (!isInBbox(bboxOverlap, pt)) return null;\n\n    // round the the computed point if needed\n    return rounder.round(pt.x, pt.y);\n  }\n\n  /**\n   * Split the given segment into multiple segments on the given points.\n   *  * Each existing segment will retain its leftSE and a new rightSE will be\n   *    generated for it.\n   *  * A new segment will be generated which will adopt the original segment's\n   *    rightSE, and a new leftSE will be generated for it.\n   *  * If there are more than two points given to split on, new segments\n   *    in the middle will be generated with new leftSE and rightSE's.\n   *  * An array of the newly generated SweepEvents will be returned.\n   *\n   * Warning: input array of points is modified\n   */\n  split(point) {\n    const newEvents = [];\n    const alreadyLinked = point.events !== undefined;\n    const newLeftSE = new SweepEvent(point, true);\n    const newRightSE = new SweepEvent(point, false);\n    const oldRightSE = this.rightSE;\n    this.replaceRightSE(newRightSE);\n    newEvents.push(newRightSE);\n    newEvents.push(newLeftSE);\n    const newSeg = new Segment(newLeftSE, oldRightSE, this.rings.slice(), this.windings.slice());\n\n    // when splitting a nearly vertical downward-facing segment,\n    // sometimes one of the resulting new segments is vertical, in which\n    // case its left and right events may need to be swapped\n    if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n      newSeg.swapEvents();\n    }\n    if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n      this.swapEvents();\n    }\n\n    // in the point we just used to create new sweep events with was already\n    // linked to other events, we need to check if either of the affected\n    // segments should be consumed\n    if (alreadyLinked) {\n      newLeftSE.checkForConsuming();\n      newRightSE.checkForConsuming();\n    }\n    return newEvents;\n  }\n\n  /* Swap which event is left and right */\n  swapEvents() {\n    const tmpEvt = this.rightSE;\n    this.rightSE = this.leftSE;\n    this.leftSE = tmpEvt;\n    this.leftSE.isLeft = true;\n    this.rightSE.isLeft = false;\n    for (let i = 0, iMax = this.windings.length; i < iMax; i++) {\n      this.windings[i] *= -1;\n    }\n  }\n\n  /* Consume another segment. We take their rings under our wing\n   * and mark them as consumed. Use for perfectly overlapping segments */\n  consume(other) {\n    let consumer = this;\n    let consumee = other;\n    while (consumer.consumedBy) consumer = consumer.consumedBy;\n    while (consumee.consumedBy) consumee = consumee.consumedBy;\n    const cmp = Segment.compare(consumer, consumee);\n    if (cmp === 0) return; // already consumed\n    // the winner of the consumption is the earlier segment\n    // according to sweep line ordering\n    if (cmp > 0) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n\n    // make sure a segment doesn't consume it's prev\n    if (consumer.prev === consumee) {\n      const tmp = consumer;\n      consumer = consumee;\n      consumee = tmp;\n    }\n    for (let i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n      const ring = consumee.rings[i];\n      const winding = consumee.windings[i];\n      const index = consumer.rings.indexOf(ring);\n      if (index === -1) {\n        consumer.rings.push(ring);\n        consumer.windings.push(winding);\n      } else consumer.windings[index] += winding;\n    }\n    consumee.rings = null;\n    consumee.windings = null;\n    consumee.consumedBy = consumer;\n\n    // mark sweep events consumed as to maintain ordering in sweep event queue\n    consumee.leftSE.consumedBy = consumer.leftSE;\n    consumee.rightSE.consumedBy = consumer.rightSE;\n  }\n\n  /* The first segment previous segment chain that is in the result */\n  prevInResult() {\n    if (this._prevInResult !== undefined) return this._prevInResult;\n    if (!this.prev) this._prevInResult = null;else if (this.prev.isInResult()) this._prevInResult = this.prev;else this._prevInResult = this.prev.prevInResult();\n    return this._prevInResult;\n  }\n  beforeState() {\n    if (this._beforeState !== undefined) return this._beforeState;\n    if (!this.prev) this._beforeState = {\n      rings: [],\n      windings: [],\n      multiPolys: []\n    };else {\n      const seg = this.prev.consumedBy || this.prev;\n      this._beforeState = seg.afterState();\n    }\n    return this._beforeState;\n  }\n  afterState() {\n    if (this._afterState !== undefined) return this._afterState;\n    const beforeState = this.beforeState();\n    this._afterState = {\n      rings: beforeState.rings.slice(0),\n      windings: beforeState.windings.slice(0),\n      multiPolys: []\n    };\n    const ringsAfter = this._afterState.rings;\n    const windingsAfter = this._afterState.windings;\n    const mpsAfter = this._afterState.multiPolys;\n\n    // calculate ringsAfter, windingsAfter\n    for (let i = 0, iMax = this.rings.length; i < iMax; i++) {\n      const ring = this.rings[i];\n      const winding = this.windings[i];\n      const index = ringsAfter.indexOf(ring);\n      if (index === -1) {\n        ringsAfter.push(ring);\n        windingsAfter.push(winding);\n      } else windingsAfter[index] += winding;\n    }\n\n    // calcualte polysAfter\n    const polysAfter = [];\n    const polysExclude = [];\n    for (let i = 0, iMax = ringsAfter.length; i < iMax; i++) {\n      if (windingsAfter[i] === 0) continue; // non-zero rule\n      const ring = ringsAfter[i];\n      const poly = ring.poly;\n      if (polysExclude.indexOf(poly) !== -1) continue;\n      if (ring.isExterior) polysAfter.push(poly);else {\n        if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n        const index = polysAfter.indexOf(ring.poly);\n        if (index !== -1) polysAfter.splice(index, 1);\n      }\n    }\n\n    // calculate multiPolysAfter\n    for (let i = 0, iMax = polysAfter.length; i < iMax; i++) {\n      const mp = polysAfter[i].multiPoly;\n      if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n    }\n    return this._afterState;\n  }\n\n  /* Is this segment part of the final result? */\n  isInResult() {\n    // if we've been consumed, we're not in the result\n    if (this.consumedBy) return false;\n    if (this._isInResult !== undefined) return this._isInResult;\n    const mpsBefore = this.beforeState().multiPolys;\n    const mpsAfter = this.afterState().multiPolys;\n    switch (operation.type) {\n      case \"union\":\n        {\n          // UNION - included iff:\n          //  * On one side of us there is 0 poly interiors AND\n          //  * On the other side there is 1 or more.\n          const noBefores = mpsBefore.length === 0;\n          const noAfters = mpsAfter.length === 0;\n          this._isInResult = noBefores !== noAfters;\n          break;\n        }\n      case \"intersection\":\n        {\n          // INTERSECTION - included iff:\n          //  * on one side of us all multipolys are rep. with poly interiors AND\n          //  * on the other side of us, not all multipolys are repsented\n          //    with poly interiors\n          let least;\n          let most;\n          if (mpsBefore.length < mpsAfter.length) {\n            least = mpsBefore.length;\n            most = mpsAfter.length;\n          } else {\n            least = mpsAfter.length;\n            most = mpsBefore.length;\n          }\n          this._isInResult = most === operation.numMultiPolys && least < most;\n          break;\n        }\n      case \"xor\":\n        {\n          // XOR - included iff:\n          //  * the difference between the number of multipolys represented\n          //    with poly interiors on our two sides is an odd number\n          const diff = Math.abs(mpsBefore.length - mpsAfter.length);\n          this._isInResult = diff % 2 === 1;\n          break;\n        }\n      case \"difference\":\n        {\n          // DIFFERENCE included iff:\n          //  * on exactly one side, we have just the subject\n          const isJustSubject = mps => mps.length === 1 && mps[0].isSubject;\n          this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n          break;\n        }\n      default:\n        throw new Error(`Unrecognized operation type found ${operation.type}`);\n    }\n    return this._isInResult;\n  }\n}\n\nclass RingIn {\n  constructor(geomRing, poly, isExterior) {\n    if (!Array.isArray(geomRing) || geomRing.length === 0) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.poly = poly;\n    this.isExterior = isExterior;\n    this.segments = [];\n    if (typeof geomRing[0][0] !== \"number\" || typeof geomRing[0][1] !== \"number\") {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    const firstPoint = rounder.round(geomRing[0][0], geomRing[0][1]);\n    this.bbox = {\n      ll: {\n        x: firstPoint.x,\n        y: firstPoint.y\n      },\n      ur: {\n        x: firstPoint.x,\n        y: firstPoint.y\n      }\n    };\n    let prevPoint = firstPoint;\n    for (let i = 1, iMax = geomRing.length; i < iMax; i++) {\n      if (typeof geomRing[i][0] !== \"number\" || typeof geomRing[i][1] !== \"number\") {\n        throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n      }\n      let point = rounder.round(geomRing[i][0], geomRing[i][1]);\n      // skip repeated points\n      if (point.x === prevPoint.x && point.y === prevPoint.y) continue;\n      this.segments.push(Segment.fromRing(prevPoint, point, this));\n      if (point.x < this.bbox.ll.x) this.bbox.ll.x = point.x;\n      if (point.y < this.bbox.ll.y) this.bbox.ll.y = point.y;\n      if (point.x > this.bbox.ur.x) this.bbox.ur.x = point.x;\n      if (point.y > this.bbox.ur.y) this.bbox.ur.y = point.y;\n      prevPoint = point;\n    }\n    // add segment from last to first if last is not the same as first\n    if (firstPoint.x !== prevPoint.x || firstPoint.y !== prevPoint.y) {\n      this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n    }\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.segments.length; i < iMax; i++) {\n      const segment = this.segments[i];\n      sweepEvents.push(segment.leftSE);\n      sweepEvents.push(segment.rightSE);\n    }\n    return sweepEvents;\n  }\n}\nclass PolyIn {\n  constructor(geomPoly, multiPoly) {\n    if (!Array.isArray(geomPoly)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    this.exteriorRing = new RingIn(geomPoly[0], this, true);\n    // copy by value\n    this.bbox = {\n      ll: {\n        x: this.exteriorRing.bbox.ll.x,\n        y: this.exteriorRing.bbox.ll.y\n      },\n      ur: {\n        x: this.exteriorRing.bbox.ur.x,\n        y: this.exteriorRing.bbox.ur.y\n      }\n    };\n    this.interiorRings = [];\n    for (let i = 1, iMax = geomPoly.length; i < iMax; i++) {\n      const ring = new RingIn(geomPoly[i], this, false);\n      if (ring.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = ring.bbox.ll.x;\n      if (ring.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = ring.bbox.ll.y;\n      if (ring.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = ring.bbox.ur.x;\n      if (ring.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = ring.bbox.ur.y;\n      this.interiorRings.push(ring);\n    }\n    this.multiPoly = multiPoly;\n  }\n  getSweepEvents() {\n    const sweepEvents = this.exteriorRing.getSweepEvents();\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringSweepEvents = this.interiorRings[i].getSweepEvents();\n      for (let j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(ringSweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n}\nclass MultiPolyIn {\n  constructor(geom, isSubject) {\n    if (!Array.isArray(geom)) {\n      throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");\n    }\n    try {\n      // if the input looks like a polygon, convert it to a multipolygon\n      if (typeof geom[0][0][0] === \"number\") geom = [geom];\n    } catch (ex) {\n      // The input is either malformed or has empty arrays.\n      // In either case, it will be handled later on.\n    }\n    this.polys = [];\n    this.bbox = {\n      ll: {\n        x: Number.POSITIVE_INFINITY,\n        y: Number.POSITIVE_INFINITY\n      },\n      ur: {\n        x: Number.NEGATIVE_INFINITY,\n        y: Number.NEGATIVE_INFINITY\n      }\n    };\n    for (let i = 0, iMax = geom.length; i < iMax; i++) {\n      const poly = new PolyIn(geom[i], this);\n      if (poly.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = poly.bbox.ll.x;\n      if (poly.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = poly.bbox.ll.y;\n      if (poly.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = poly.bbox.ur.x;\n      if (poly.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = poly.bbox.ur.y;\n      this.polys.push(poly);\n    }\n    this.isSubject = isSubject;\n  }\n  getSweepEvents() {\n    const sweepEvents = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polySweepEvents = this.polys[i].getSweepEvents();\n      for (let j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n        sweepEvents.push(polySweepEvents[j]);\n      }\n    }\n    return sweepEvents;\n  }\n}\n\nclass RingOut {\n  /* Given the segments from the sweep line pass, compute & return a series\n   * of closed rings from all the segments marked to be part of the result */\n  static factory(allSegments) {\n    const ringsOut = [];\n    for (let i = 0, iMax = allSegments.length; i < iMax; i++) {\n      const segment = allSegments[i];\n      if (!segment.isInResult() || segment.ringOut) continue;\n      let prevEvent = null;\n      let event = segment.leftSE;\n      let nextEvent = segment.rightSE;\n      const events = [event];\n      const startingPoint = event.point;\n      const intersectionLEs = [];\n\n      /* Walk the chain of linked events to form a closed ring */\n      while (true) {\n        prevEvent = event;\n        event = nextEvent;\n        events.push(event);\n\n        /* Is the ring complete? */\n        if (event.point === startingPoint) break;\n        while (true) {\n          const availableLEs = event.getAvailableLinkedEvents();\n\n          /* Did we hit a dead end? This shouldn't happen.\n           * Indicates some earlier part of the algorithm malfunctioned. */\n          if (availableLEs.length === 0) {\n            const firstPt = events[0].point;\n            const lastPt = events[events.length - 1].point;\n            throw new Error(`Unable to complete output ring starting at [${firstPt.x},` + ` ${firstPt.y}]. Last matching segment found ends at` + ` [${lastPt.x}, ${lastPt.y}].`);\n          }\n\n          /* Only one way to go, so cotinue on the path */\n          if (availableLEs.length === 1) {\n            nextEvent = availableLEs[0].otherSE;\n            break;\n          }\n\n          /* We must have an intersection. Check for a completed loop */\n          let indexLE = null;\n          for (let j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n            if (intersectionLEs[j].point === event.point) {\n              indexLE = j;\n              break;\n            }\n          }\n          /* Found a completed loop. Cut that off and make a ring */\n          if (indexLE !== null) {\n            const intersectionLE = intersectionLEs.splice(indexLE)[0];\n            const ringEvents = events.splice(intersectionLE.index);\n            ringEvents.unshift(ringEvents[0].otherSE);\n            ringsOut.push(new RingOut(ringEvents.reverse()));\n            continue;\n          }\n          /* register the intersection */\n          intersectionLEs.push({\n            index: events.length,\n            point: event.point\n          });\n          /* Choose the left-most option to continue the walk */\n          const comparator = event.getLeftmostComparator(prevEvent);\n          nextEvent = availableLEs.sort(comparator)[0].otherSE;\n          break;\n        }\n      }\n      ringsOut.push(new RingOut(events));\n    }\n    return ringsOut;\n  }\n  constructor(events) {\n    this.events = events;\n    for (let i = 0, iMax = events.length; i < iMax; i++) {\n      events[i].segment.ringOut = this;\n    }\n    this.poly = null;\n  }\n  getGeom() {\n    // Remove superfluous points (ie extra points along a straight line),\n    let prevPt = this.events[0].point;\n    const points = [prevPt];\n    for (let i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n      const pt = this.events[i].point;\n      const nextPt = this.events[i + 1].point;\n      if (compareVectorAngles(pt, prevPt, nextPt) === 0) continue;\n      points.push(pt);\n      prevPt = pt;\n    }\n\n    // ring was all (within rounding error of angle calc) colinear points\n    if (points.length === 1) return null;\n\n    // check if the starting point is necessary\n    const pt = points[0];\n    const nextPt = points[1];\n    if (compareVectorAngles(pt, prevPt, nextPt) === 0) points.shift();\n    points.push(points[0]);\n    const step = this.isExteriorRing() ? 1 : -1;\n    const iStart = this.isExteriorRing() ? 0 : points.length - 1;\n    const iEnd = this.isExteriorRing() ? points.length : -1;\n    const orderedPoints = [];\n    for (let i = iStart; i != iEnd; i += step) orderedPoints.push([points[i].x, points[i].y]);\n    return orderedPoints;\n  }\n  isExteriorRing() {\n    if (this._isExteriorRing === undefined) {\n      const enclosing = this.enclosingRing();\n      this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n    }\n    return this._isExteriorRing;\n  }\n  enclosingRing() {\n    if (this._enclosingRing === undefined) {\n      this._enclosingRing = this._calcEnclosingRing();\n    }\n    return this._enclosingRing;\n  }\n\n  /* Returns the ring that encloses this one, if any */\n  _calcEnclosingRing() {\n    // start with the ealier sweep line event so that the prevSeg\n    // chain doesn't lead us inside of a loop of ours\n    let leftMostEvt = this.events[0];\n    for (let i = 1, iMax = this.events.length; i < iMax; i++) {\n      const evt = this.events[i];\n      if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n    }\n    let prevSeg = leftMostEvt.segment.prevInResult();\n    let prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    while (true) {\n      // no segment found, thus no ring can enclose us\n      if (!prevSeg) return null;\n\n      // no segments below prev segment found, thus the ring of the prev\n      // segment must loop back around and enclose us\n      if (!prevPrevSeg) return prevSeg.ringOut;\n\n      // if the two segments are of different rings, the ring of the prev\n      // segment must either loop around us or the ring of the prev prev\n      // seg, which would make us and the ring of the prev peers\n      if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n        if (prevPrevSeg.ringOut.enclosingRing() !== prevSeg.ringOut) {\n          return prevSeg.ringOut;\n        } else return prevSeg.ringOut.enclosingRing();\n      }\n\n      // two segments are from the same ring, so this was a penisula\n      // of that ring. iterate downward, keep searching\n      prevSeg = prevPrevSeg.prevInResult();\n      prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n    }\n  }\n}\nclass PolyOut {\n  constructor(exteriorRing) {\n    this.exteriorRing = exteriorRing;\n    exteriorRing.poly = this;\n    this.interiorRings = [];\n  }\n  addInterior(ring) {\n    this.interiorRings.push(ring);\n    ring.poly = this;\n  }\n  getGeom() {\n    const geom = [this.exteriorRing.getGeom()];\n    // exterior ring was all (within rounding error of angle calc) colinear points\n    if (geom[0] === null) return null;\n    for (let i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n      const ringGeom = this.interiorRings[i].getGeom();\n      // interior ring was all (within rounding error of angle calc) colinear points\n      if (ringGeom === null) continue;\n      geom.push(ringGeom);\n    }\n    return geom;\n  }\n}\nclass MultiPolyOut {\n  constructor(rings) {\n    this.rings = rings;\n    this.polys = this._composePolys(rings);\n  }\n  getGeom() {\n    const geom = [];\n    for (let i = 0, iMax = this.polys.length; i < iMax; i++) {\n      const polyGeom = this.polys[i].getGeom();\n      // exterior ring was all (within rounding error of angle calc) colinear points\n      if (polyGeom === null) continue;\n      geom.push(polyGeom);\n    }\n    return geom;\n  }\n  _composePolys(rings) {\n    const polys = [];\n    for (let i = 0, iMax = rings.length; i < iMax; i++) {\n      const ring = rings[i];\n      if (ring.poly) continue;\n      if (ring.isExteriorRing()) polys.push(new PolyOut(ring));else {\n        const enclosingRing = ring.enclosingRing();\n        if (!enclosingRing.poly) polys.push(new PolyOut(enclosingRing));\n        enclosingRing.poly.addInterior(ring);\n      }\n    }\n    return polys;\n  }\n}\n\n/**\n * NOTE:  We must be careful not to change any segments while\n *        they are in the SplayTree. AFAIK, there's no way to tell\n *        the tree to rebalance itself - thus before splitting\n *        a segment that's in the tree, we remove it from the tree,\n *        do the split, then re-insert it. (Even though splitting a\n *        segment *shouldn't* change its correct position in the\n *        sweep line tree, the reality is because of rounding errors,\n *        it sometimes does.)\n */\n\nclass SweepLine {\n  constructor(queue) {\n    let comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Segment.compare;\n    this.queue = queue;\n    this.tree = new SplayTree(comparator);\n    this.segments = [];\n  }\n  process(event) {\n    const segment = event.segment;\n    const newEvents = [];\n\n    // if we've already been consumed by another segment,\n    // clean up our body parts and get out\n    if (event.consumedBy) {\n      if (event.isLeft) this.queue.remove(event.otherSE);else this.tree.remove(segment);\n      return newEvents;\n    }\n    const node = event.isLeft ? this.tree.add(segment) : this.tree.find(segment);\n    if (!node) throw new Error(`Unable to find segment #${segment.id} ` + `[${segment.leftSE.point.x}, ${segment.leftSE.point.y}] -> ` + `[${segment.rightSE.point.x}, ${segment.rightSE.point.y}] ` + \"in SweepLine tree.\");\n    let prevNode = node;\n    let nextNode = node;\n    let prevSeg = undefined;\n    let nextSeg = undefined;\n\n    // skip consumed segments still in tree\n    while (prevSeg === undefined) {\n      prevNode = this.tree.prev(prevNode);\n      if (prevNode === null) prevSeg = null;else if (prevNode.key.consumedBy === undefined) prevSeg = prevNode.key;\n    }\n\n    // skip consumed segments still in tree\n    while (nextSeg === undefined) {\n      nextNode = this.tree.next(nextNode);\n      if (nextNode === null) nextSeg = null;else if (nextNode.key.consumedBy === undefined) nextSeg = nextNode.key;\n    }\n    if (event.isLeft) {\n      // Check for intersections against the previous segment in the sweep line\n      let prevMySplitter = null;\n      if (prevSeg) {\n        const prevInter = prevSeg.getIntersection(segment);\n        if (prevInter !== null) {\n          if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n          if (!prevSeg.isAnEndpoint(prevInter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n\n      // Check for intersections against the next segment in the sweep line\n      let nextMySplitter = null;\n      if (nextSeg) {\n        const nextInter = nextSeg.getIntersection(segment);\n        if (nextInter !== null) {\n          if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n          if (!nextSeg.isAnEndpoint(nextInter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n\n      // For simplicity, even if we find more than one intersection we only\n      // spilt on the 'earliest' (sweep-line style) of the intersections.\n      // The other intersection will be handled in a future process().\n      if (prevMySplitter !== null || nextMySplitter !== null) {\n        let mySplitter = null;\n        if (prevMySplitter === null) mySplitter = nextMySplitter;else if (nextMySplitter === null) mySplitter = prevMySplitter;else {\n          const cmpSplitters = SweepEvent.comparePoints(prevMySplitter, nextMySplitter);\n          mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n        }\n\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        this.queue.remove(segment.rightSE);\n        newEvents.push(segment.rightSE);\n        const newEventsFromSplit = segment.split(mySplitter);\n        for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n          newEvents.push(newEventsFromSplit[i]);\n        }\n      }\n      if (newEvents.length > 0) {\n        // We found some intersections, so re-do the current event to\n        // make sure sweep line ordering is totally consistent for later\n        // use with the segment 'prev' pointers\n        this.tree.remove(segment);\n        newEvents.push(event);\n      } else {\n        // done with left event\n        this.segments.push(segment);\n        segment.prev = prevSeg;\n      }\n    } else {\n      // event.isRight\n\n      // since we're about to be removed from the sweep line, check for\n      // intersections between our previous and next segments\n      if (prevSeg && nextSeg) {\n        const inter = prevSeg.getIntersection(nextSeg);\n        if (inter !== null) {\n          if (!prevSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(prevSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n          if (!nextSeg.isAnEndpoint(inter)) {\n            const newEventsFromSplit = this._splitSafely(nextSeg, inter);\n            for (let i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n              newEvents.push(newEventsFromSplit[i]);\n            }\n          }\n        }\n      }\n      this.tree.remove(segment);\n    }\n    return newEvents;\n  }\n\n  /* Safely split a segment that is currently in the datastructures\n   * IE - a segment other than the one that is currently being processed. */\n  _splitSafely(seg, pt) {\n    // Rounding errors can cause changes in ordering,\n    // so remove afected segments and right sweep events before splitting\n    // removeNode() doesn't work, so have re-find the seg\n    // https://github.com/w8r/splay-tree/pull/5\n    this.tree.remove(seg);\n    const rightSE = seg.rightSE;\n    this.queue.remove(rightSE);\n    const newEvents = seg.split(pt);\n    newEvents.push(rightSE);\n    // splitting can trigger consumption\n    if (seg.consumedBy === undefined) this.tree.add(seg);\n    return newEvents;\n  }\n}\n\n// Limits on iterative processes to prevent infinite loops - usually caused by floating-point math round-off errors.\nconst POLYGON_CLIPPING_MAX_QUEUE_SIZE = typeof process !== \"undefined\" && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1000000;\nconst POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS = typeof process !== \"undefined\" && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1000000;\nclass Operation {\n  run(type, geom, moreGeoms) {\n    operation.type = type;\n    rounder.reset();\n\n    /* Convert inputs to MultiPoly objects */\n    const multipolys = [new MultiPolyIn(geom, true)];\n    for (let i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n      multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n    }\n    operation.numMultiPolys = multipolys.length;\n\n    /* BBox optimization for difference operation\n     * If the bbox of a multipolygon that's part of the clipping doesn't\n     * intersect the bbox of the subject at all, we can just drop that\n     * multiploygon. */\n    if (operation.type === \"difference\") {\n      // in place removal\n      const subject = multipolys[0];\n      let i = 1;\n      while (i < multipolys.length) {\n        if (getBboxOverlap(multipolys[i].bbox, subject.bbox) !== null) i++;else multipolys.splice(i, 1);\n      }\n    }\n\n    /* BBox optimization for intersection operation\n     * If we can find any pair of multipolygons whose bbox does not overlap,\n     * then the result will be empty. */\n    if (operation.type === \"intersection\") {\n      // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n      //       it could be optimized to O(n * ln(n))\n      for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n        const mpA = multipolys[i];\n        for (let j = i + 1, jMax = multipolys.length; j < jMax; j++) {\n          if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n        }\n      }\n    }\n\n    /* Put segment endpoints in a priority queue */\n    const queue = new SplayTree(SweepEvent.compare);\n    for (let i = 0, iMax = multipolys.length; i < iMax; i++) {\n      const sweepEvents = multipolys[i].getSweepEvents();\n      for (let j = 0, jMax = sweepEvents.length; j < jMax; j++) {\n        queue.insert(sweepEvents[j]);\n        if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n          // prevents an infinite loop, an otherwise common manifestation of bugs\n          throw new Error(\"Infinite loop when putting segment endpoints in a priority queue \" + \"(queue size too big).\");\n        }\n      }\n    }\n\n    /* Pass the sweep line over those endpoints */\n    const sweepLine = new SweepLine(queue);\n    let prevQueueSize = queue.size;\n    let node = queue.pop();\n    while (node) {\n      const evt = node.key;\n      if (queue.size === prevQueueSize) {\n        // prevents an infinite loop, an otherwise common manifestation of bugs\n        const seg = evt.segment;\n        throw new Error(`Unable to pop() ${evt.isLeft ? \"left\" : \"right\"} SweepEvent ` + `[${evt.point.x}, ${evt.point.y}] from segment #${seg.id} ` + `[${seg.leftSE.point.x}, ${seg.leftSE.point.y}] -> ` + `[${seg.rightSE.point.x}, ${seg.rightSE.point.y}] from queue.`);\n      }\n      if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n        // prevents an infinite loop, an otherwise common manifestation of bugs\n        throw new Error(\"Infinite loop when passing sweep line over endpoints \" + \"(queue size too big).\");\n      }\n      if (sweepLine.segments.length > POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS) {\n        // prevents an infinite loop, an otherwise common manifestation of bugs\n        throw new Error(\"Infinite loop when passing sweep line over endpoints \" + \"(too many sweep line segments).\");\n      }\n      const newEvents = sweepLine.process(evt);\n      for (let i = 0, iMax = newEvents.length; i < iMax; i++) {\n        const evt = newEvents[i];\n        if (evt.consumedBy === undefined) queue.insert(evt);\n      }\n      prevQueueSize = queue.size;\n      node = queue.pop();\n    }\n\n    // free some memory we don't need anymore\n    rounder.reset();\n\n    /* Collect and compile segments we're keeping into a multipolygon */\n    const ringsOut = RingOut.factory(sweepLine.segments);\n    const result = new MultiPolyOut(ringsOut);\n    return result.getGeom();\n  }\n}\n\n// singleton available by import\nconst operation = new Operation();\n\nconst union = function (geom) {\n  for (var _len = arguments.length, moreGeoms = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    moreGeoms[_key - 1] = arguments[_key];\n  }\n  return operation.run(\"union\", geom, moreGeoms);\n};\nconst intersection = function (geom) {\n  for (var _len2 = arguments.length, moreGeoms = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    moreGeoms[_key2 - 1] = arguments[_key2];\n  }\n  return operation.run(\"intersection\", geom, moreGeoms);\n};\nconst xor = function (geom) {\n  for (var _len3 = arguments.length, moreGeoms = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    moreGeoms[_key3 - 1] = arguments[_key3];\n  }\n  return operation.run(\"xor\", geom, moreGeoms);\n};\nconst difference = function (subjectGeom) {\n  for (var _len4 = arguments.length, clippingGeoms = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    clippingGeoms[_key4 - 1] = arguments[_key4];\n  }\n  return operation.run(\"difference\", subjectGeom, clippingGeoms);\n};\nvar index = {\n  union: union,\n  intersection: intersection,\n  xor: xor,\n  difference: difference\n};\n\nexport { index as default };\n","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","import sdk, { ScryptedInterface, Setting, Settings, EventListenerRegister, ObjectDetector, MotionSensor, ScryptedDevice, ObjectsDetected, Camera, MediaObject, ObjectDetectionResult, ScryptedDeviceBase, ObjectDetection, Image, ScryptedMimeTypes } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { DetectionRule, detectionRulesGroup, DetectionRuleSource, DeviceInterface, detectRuleEnabledRegex, occupancyRuleEnabledRegex, EventType, filterAndSortValidDetections, getDetectionRuleKeys, getDetectionRulesSettings, getMixinBaseSettings, getOccupancyRuleKeys, getOccupancyRulesSettings, getWebookUrls, isDeviceEnabled, normalizeBoxToClipPath, ObserveZoneClasses, ObserveZoneData, OccupancyRule, OccupancyRuleData, occupancyRulesGroup, ZoneMatchType } from \"./utils\";\nimport { detectionClassesDefaultMap } from \"./detecionClasses\";\nimport HomeAssistantUtilitiesProvider from \"./main\";\nimport { discoverDetectionRules, discoverOccupancyRules, getDetectionRuleId, getOccupancyRuleId, publishDeviceState, publishOccupancy, publishRelevantDetections, reportDeviceValues, setupDeviceAutodiscovery, subscribeToDeviceMqttTopics } from \"./mqtt-utils\";\nimport polygonClipping from 'polygon-clipping';\n\nconst { systemManager } = sdk;\nconst secondsPerPicture = 5;\nconst motionDuration = 10;\n\ninterface MatchRule { match: ObjectDetectionResult, rule: DetectionRule, dataToReport: any }\ninterface OccupancyData {\n    lastOccupancy: boolean,\n    occupancyToConfirm?: boolean,\n    confirmationStart?: number,\n    lastChange: number,\n    lastCheck: number,\n    objectsDetected: number,\n    detectedResult: ObjectsDetected,\n    image: MediaObject\n}\n\nexport class AdvancedNotifierCameraMixin extends SettingsMixinDeviceBase<any> implements Settings {\n    storageSettings = new StorageSettings(this, {\n        ...getMixinBaseSettings(this.name, true),\n        minDelayTime: {\n            subgroup: 'Notifier',\n            title: 'Minimum notification delay',\n            description: 'Minimum amount of seconds to wait until a notification is sent for the same detection type',\n            type: 'number',\n            defaultValue: 15,\n        },\n        snapshotWidth: {\n            subgroup: 'Notifier',\n            title: 'Snapshot width',\n            type: 'number',\n            defaultValue: 1280,\n            placeholder: '1280',\n        },\n        snapshotHeight: {\n            subgroup: 'Notifier',\n            title: 'Snapshot height',\n            type: 'number',\n            defaultValue: 720,\n            placeholder: '720',\n        },\n        ignoreCameraDetections: {\n            title: 'Ignore camera detections',\n            description: 'If checked, only the detections coming from NVR will be used',\n            type: 'boolean',\n            subgroup: 'Notifier',\n        },\n        // WEBHOOKS\n        lastSnapshotWebhook: {\n            subgroup: 'Webhooks',\n            title: 'Last snapshot webhook',\n            type: 'boolean',\n            immediate: true,\n        },\n        lastSnapshotWebhookCloudUrl: {\n            subgroup: 'Webhooks',\n            type: 'string',\n            title: 'Cloud URL',\n            readonly: true,\n        },\n        lastSnapshotWebhookLocalUrl: {\n            subgroup: 'Webhooks',\n            type: 'string',\n            title: 'Local URL',\n            readonly: true,\n        },\n        occupancyState: {\n            json: true,\n            hide: true,\n        }\n    });\n\n    detectionListener: EventListenerRegister;\n    mqttDetectionMotionTimeout: NodeJS.Timeout;\n    mainLoopListener: NodeJS.Timeout;\n    isActiveForNotifications: boolean;\n    isActiveForMqttReporting: boolean;\n    mainAutodiscoveryDone: boolean;\n    isActiveForNvrNotifications: boolean;\n    mqttReportInProgress: boolean;\n    lastDetectionMap: Record<string, number> = {};\n    logger: Console;\n    killed: boolean;\n    nvrEnabled: boolean = true;\n    nvrMixinId: string;\n    occupancyRules: OccupancyRule[];\n    detectionRules: DetectionRule[];\n    nvrDetectionRules: DetectionRule[];\n    rulesDiscovered: string[] = [];\n    occupancyRulesDiscovered: string[] = [];\n    detectionClassListeners: Record<string, {\n        motionTimeout: NodeJS.Timeout;\n        motionListener: EventListenerRegister\n    }> = {};\n    lastPictureTaken: number;\n    lastFrameAnalysis: number;\n    lastObserveZonesFetched: number;\n    observeZoneData: ObserveZoneData[];\n    occupancyState: Record<string, OccupancyData> = {};\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: HomeAssistantUtilitiesProvider\n    ) {\n        super(options);\n\n        this.storageSettings.settings.room.onGet = async () => {\n            const rooms = this.plugin.storageSettings.getItem('fetchedRooms');\n            return {\n                choices: rooms ?? []\n            }\n        }\n        this.storageSettings.settings.entityId.onGet = async () => {\n            const entities = this.plugin.storageSettings.getItem('fetchedEntities');\n            return {\n                choices: entities ?? []\n            }\n        }\n\n        this.nvrMixinId = systemManager.getDeviceByName('Scrypted NVR Object Detection')?.id;\n\n        const canUseNvr = this.nvrMixinId && this.mixins.includes(this.nvrMixinId);\n        this.nvrEnabled = canUseNvr;\n\n        this.initValues().then().catch(this.console.log);\n        this.startCheckInterval().then().catch(this.console.log);\n\n        this.plugin.currentMixinsMap[this.name] = this;\n\n        this.occupancyState = this.storageSettings.values.occupancyState ?? {};\n    }\n\n    async startCheckInterval() {\n        const logger = this.getLogger();\n\n        const funct = async () => {\n            try {\n                const deviceSettings = await this.getMixinSettings();\n                const {\n                    isActiveForMqttReporting,\n                    isPluginEnabled,\n                    detectionRules,\n                    nvrRules,\n                    skippedRules,\n                    isActiveForNotifications,\n                    isActiveForNvrNotifications,\n                    allDeviceRules,\n                    occupancyRules,\n                    skippedOccupancyRules,\n                    allOccupancyRules,\n                } = await isDeviceEnabled(this.id, deviceSettings, this.plugin);\n\n                logger.debug(`Detected rules: ${JSON.stringify({ detectionRules, skippedRules, occupancyRules, skippedOccupancyRules })}`);\n                this.detectionRules = detectionRules;\n                this.nvrDetectionRules = nvrRules;\n                this.occupancyRules = occupancyRules;\n\n                this.isActiveForNotifications = isActiveForNotifications;\n                this.isActiveForMqttReporting = isActiveForMqttReporting;\n\n                const isCurrentlyRunning = !!this.detectionListener;\n                const shouldRun = this.isActiveForMqttReporting || this.isActiveForNotifications;\n\n                if (isActiveForMqttReporting) {\n                    const device = sdk.systemManager.getDeviceById<ScryptedDeviceBase & Settings>(this.id);\n                    const mqttClient = await this.plugin.getMqttClient();\n                    if (mqttClient) {\n                        if (!this.mainAutodiscoveryDone) {\n                            await setupDeviceAutodiscovery({\n                                mqttClient,\n                                device,\n                                console: logger,\n                                withDetections: true,\n                                deviceClass: 'motion',\n                                detectionRules: allDeviceRules,\n                                occupancyRules: allOccupancyRules,\n                            });\n\n                            this.getLogger().log(`Subscribing to mqtt topics`);\n                            await subscribeToDeviceMqttTopics({\n                                mqttClient,\n                                detectionRules: allDeviceRules,\n                                occupancyRules: allOccupancyRules,\n                                device,\n                                detectionRuleCb: async ({ active, ruleName }) => {\n                                    const { enabledKey } = getDetectionRuleKeys(ruleName);\n                                    logger.log(`Setting detection rule ${ruleName} to ${active}`);\n                                    await device.putSetting(`homeassistantMetadata:${enabledKey}`, active);\n                                },\n                                occupancyRuleCb: async ({ active, ruleName }) => {\n                                    const { enabledKey } = getOccupancyRuleKeys(ruleName);\n                                    logger.log(`Setting occupancy rule ${ruleName} to ${active}`);\n                                    await device.putSetting(`homeassistantMetadata:${enabledKey}`, active);\n                                },\n                                switchRecordingCb: async (active) => {\n                                    logger.log(`Setting NVR privacy mode to ${!active}`);\n                                    await device.putSetting(`recording:privacyMode`, !active);\n                                }\n                            });\n\n                            this.mainAutodiscoveryDone = true;\n                        }\n\n                        const missingRules = detectionRules.filter(rule => !this.rulesDiscovered.includes(getDetectionRuleId(rule)));\n                        if (missingRules.length) {\n                            await discoverDetectionRules({ mqttClient, console: logger, device, rules: missingRules });\n                            this.rulesDiscovered.push(...missingRules.map(rule => getDetectionRuleId(rule)))\n                        }\n\n                        const missingOccupancyRules = occupancyRules.filter(rule => !this.occupancyRulesDiscovered.includes(getOccupancyRuleId(rule)));\n                        if (missingOccupancyRules.length) {\n                            await discoverOccupancyRules({ mqttClient, console: logger, device, rules: missingOccupancyRules });\n                            this.occupancyRulesDiscovered.push(...missingOccupancyRules.map(rule => getOccupancyRuleId(rule)))\n                        }\n                    }\n                    const settings = await this.mixinDevice.getSettings();\n                    const isRecording = !settings.find(setting => setting.key === 'recording:privacyMode')?.value;\n\n                    reportDeviceValues({ console: logger, device, mqttClient, isRecording });\n                }\n\n                if (isCurrentlyRunning && !shouldRun) {\n                    logger.log('Stopping and cleaning listeners.');\n                    this.resetListeners();\n                } else if (!isCurrentlyRunning && shouldRun) {\n                    logger.log(`Starting ${ScryptedInterface.ObjectDetector} listeners: ${JSON.stringify({\n                        notificationsActive: isActiveForNotifications,\n                        mqttReportsActive: isActiveForMqttReporting,\n                        isPluginEnabled,\n                        isActiveForNvrNotifications,\n                    })}`);\n                    await this.startListeners();\n                }\n\n                if (isActiveForNvrNotifications && !this.isActiveForNvrNotifications) {\n                    logger.log(`Starting listener for NVR events`);\n                } else if (!isActiveForNvrNotifications && this.isActiveForNvrNotifications) {\n                    logger.log(`Stopping listener for NVR events`);\n                }\n\n                if (isActiveForMqttReporting && !!occupancyRules.length) {\n                    await this.forceOccupancyCheck();\n                }\n\n                this.isActiveForNvrNotifications = isActiveForNvrNotifications;\n            } catch (e) {\n                logger.log('Error in startCheckInterval funct', e);\n            }\n        };\n\n        this.mainLoopListener = setInterval(async () => {\n            try {\n                if (this.killed) {\n                    await this.release();\n                } else {\n                    await funct();\n                }\n            } catch (e) {\n                logger.log('Error in startCheckInterval', e);\n            }\n        }, 10000);\n    }\n\n    resetTimeouts(detectionClass?: string) {\n        if (detectionClass) {\n            const { motionListener, motionTimeout } = this.detectionClassListeners[detectionClass] ?? {};\n\n            motionTimeout && clearTimeout(motionTimeout);\n            motionListener?.removeListener && motionListener.removeListener();\n\n            this.detectionClassListeners[detectionClass] = { motionListener: undefined, motionTimeout: undefined };\n        } else {\n            Object.keys(this.detectionClassListeners).forEach(detectionClass => {\n                const { motionListener, motionTimeout } = this.detectionClassListeners[detectionClass] ?? {};\n                motionTimeout && clearTimeout(motionTimeout);\n                motionListener?.removeListener && motionListener.removeListener();\n\n                this.detectionClassListeners[detectionClass] = { motionListener: undefined, motionTimeout: undefined };\n            });\n        }\n    }\n\n    resetListeners() {\n        if (this.detectionListener) {\n            this.getLogger().log('Resetting listeners.');\n        }\n\n        this.resetTimeouts();\n        this.detectionListener?.removeListener && this.detectionListener.removeListener();\n        this.detectionListener = undefined;\n    }\n\n    async initValues() {\n        const { lastSnapshotCloudUrl, lastSnapshotLocalUrl } = await getWebookUrls(this.name, console);\n        this.storageSettings.putSetting('lastSnapshotWebhookCloudUrl', lastSnapshotCloudUrl);\n        this.storageSettings.putSetting('lastSnapshotWebhookLocalUrl', lastSnapshotLocalUrl);\n    }\n\n    async getObserveZones() {\n        try {\n            const now = new Date().getTime();\n            const isUpdated = this.lastObserveZonesFetched && (now - this.lastObserveZonesFetched) <= (1000 * 60);\n            if (this.observeZoneData && isUpdated) {\n                return this.observeZoneData;\n            }\n\n            const res: ObserveZoneData[] = [];\n            const settings = await this.mixinDevice.getSettings();\n            const zonesSetting = settings.find((setting: { key: string; }) => new RegExp('objectdetectionplugin:.*:zones').test(setting.key))?.value ?? [];\n\n            const zoneNames = zonesSetting.filter(zone => {\n                return settings.find((setting: { key: string; }) => new RegExp(`objectdetectionplugin:.*:zoneinfo-filterMode-${zone}`).test(setting.key))?.value === 'observe';\n            });\n\n            zoneNames.forEach(zoneName => {\n                const zonePath = JSON.parse(settings.find((setting) => setting.subgroup === `Zone: ${zoneName}` && setting.type === 'clippath')?.value ?? '[]');\n\n                res.push({\n                    name: zoneName,\n                    path: zonePath\n                })\n            });\n\n            this.observeZoneData = res;\n            this.lastObserveZonesFetched = now;\n            return this.observeZoneData;\n        } catch (e) {\n            this.getLogger().log('Error in getObserveZones', e);\n            return [];\n        }\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        try {\n            this.storageSettings.settings.ignoreCameraDetections.hide = !this.nvrEnabled;\n\n            const lastSnapshotWebhook = this.storageSettings.values.lastSnapshotWebhook;\n            this.storageSettings.settings.lastSnapshotWebhookCloudUrl.hide = !lastSnapshotWebhook;\n            this.storageSettings.settings.lastSnapshotWebhookLocalUrl.hide = !lastSnapshotWebhook;\n\n            const settings: Setting[] = await this.storageSettings.getSettings();\n            const zones = (await this.getObserveZones()).map(item => item.name);\n\n            const detectionRulesSettings = await getDetectionRulesSettings({\n                storage: this.storageSettings,\n                zones,\n                groupName: detectionRulesGroup,\n                withDetection: true,\n            });\n            settings.push(...detectionRulesSettings);\n\n            const occupancyRulesSettings = await getOccupancyRulesSettings({\n                storage: this.storageSettings,\n                zones,\n                groupName: occupancyRulesGroup,\n                isNvrEnabled: this.nvrEnabled\n            });\n            settings.push(...occupancyRulesSettings);\n\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putMixinSetting(key: string, value: string, skipMqtt?: boolean) {\n        if (!skipMqtt) {\n            const enabledResultDetected = detectRuleEnabledRegex.exec(key);\n            const enabledResultOccupancy = occupancyRuleEnabledRegex.exec(key);\n            if (enabledResultDetected) {\n                const ruleName = enabledResultDetected[1];\n                await this.plugin.updateDetectionRuleOnMqtt({\n                    active: JSON.parse(value as string ?? 'false'),\n                    logger: this.getLogger(),\n                    ruleName,\n                    deviceId: this.id\n                });\n            } else if (enabledResultOccupancy) {\n                const ruleName = enabledResultOccupancy[1];\n                await this.plugin.updateOccupancyRuleOnMqtt({\n                    active: JSON.parse(value as string ?? 'false'),\n                    logger: this.getLogger(),\n                    ruleName,\n                    deviceId: this.id\n                });\n            }\n        }\n\n        this.storage.setItem(key, typeof value === 'string' ? value : JSON.stringify(value));\n    }\n\n    async release() {\n        this.killed = true;\n        this.resetListeners();\n        this.mainLoopListener && clearInterval(this.mainLoopListener);\n        this.mainLoopListener = undefined;\n    }\n\n    private getLogger() {\n        const deviceConsole = sdk.deviceManager.getMixinConsole(this.id, this.nativeId);\n\n        if (!this.logger) {\n            const log = (debug: boolean, message?: any, ...optionalParams: any[]) => {\n                const now = new Date().toLocaleString();\n                if (!debug || this.storageSettings.getItem('debug')) {\n                    deviceConsole.log(` ${now} - `, message, ...optionalParams);\n                }\n            };\n            this.logger = {\n                log: (message?: any, ...optionalParams: any[]) => log(false, message, ...optionalParams),\n                debug: (message?: any, ...optionalParams: any[]) => log(true, message, ...optionalParams),\n            } as Console\n        }\n\n        return this.logger;\n    }\n\n    async reportDetectionsToMqtt(props: {\n        detections: ObjectDetectionResult[],\n        triggerTime: number,\n        logger: Console,\n        device: ScryptedDeviceBase,\n        b64Image?: string\n        image?: MediaObject\n    }) {\n        const { detections, device, logger, triggerTime, b64Image, image } = props;\n        if (!this.mqttReportInProgress) {\n\n            this.mqttDetectionMotionTimeout && clearTimeout(this.mqttDetectionMotionTimeout);\n\n            this.mqttReportInProgress = true;\n            const mqttClient = await this.plugin.getMqttClient();\n\n            if (mqttClient) {\n                try {\n                    await publishRelevantDetections({\n                        mqttClient,\n                        console: logger,\n                        detections,\n                        device,\n                        triggerTime,\n                        b64Image,\n                        image,\n                        room: this.storageSettings.values.room\n                    }).finally(() => this.mqttReportInProgress = false);\n                } catch (e) {\n                    logger.log(`Error in reportDetectionsToMqtt`, e);\n                }\n\n                this.mqttDetectionMotionTimeout = setTimeout(async () => {\n                    await publishRelevantDetections({\n                        mqttClient,\n                        console: logger,\n                        device,\n                        triggerTime,\n                        reset: true,\n                    });\n                }, motionDuration * 1000);\n            }\n        }\n    }\n\n    async triggerMotion(props: { matchRule: MatchRule, device: ScryptedDeviceBase, b64Image?: string }) {\n        const logger = this.getLogger();\n        try {\n            const { matchRule, b64Image, device } = props;\n            const { match: { className } } = matchRule;\n\n            const report = async (triggered: boolean) => {\n                logger.debug(`Stopping listeners.`);\n                this.resetTimeouts(className);\n                const mqttClient = await this.plugin.getMqttClient();\n\n                if (mqttClient) {\n                    try {\n                        const { match, rule } = matchRule;\n                        await publishDeviceState({\n                            mqttClient,\n                            device,\n                            triggered,\n                            console: logger,\n                            b64Image,\n                            detection: match,\n                            resettAllClasses: !triggered,\n                            rule,\n                            allRuleIds: this.rulesDiscovered,\n                        });\n                        this.mqttReportInProgress = false\n                    } catch (e) {\n                        logger.log(`Error in reportDetectionsToMqtt`, e);\n                    }\n                }\n            }\n\n            await report(true);\n\n            logger.debug(`Starting motion OFF listeners.`);\n            const motionListener = systemManager.listenDevice(this.id, {\n                event: ScryptedInterface.MotionSensor,\n                watch: true,\n            }, async (_, __, data) => {\n                if (!data) {\n                    logger.debug(`Motion end triggered by the device.`);\n                    await report(false);\n                }\n            });\n\n            const motionTimeout = setTimeout(async () => {\n                logger.debug(`Motion end triggered automatically after ${motionDuration}s.`);\n                await report(false);\n            }, motionDuration * 1000);\n\n            this.detectionClassListeners[className] = {\n                motionListener,\n                motionTimeout\n            }\n        } catch (e) {\n            logger.log('error in trigger', e);\n        }\n    }\n\n    getObjectDetector() {\n        return systemManager.getDeviceById(this.id) as (ObjectDetector & MotionSensor & ScryptedDevice & Camera);\n    }\n\n    getLastDetectionkey(detection: ObjectDetectionResult) {\n        const { className, label } = detection;\n        let key = className;\n        if (label) {\n            key += `-${label}`;\n        }\n\n        return key;\n    }\n\n    private async getImage() {\n        const objectDetector = this.getObjectDetector();\n        try {\n            const image = await objectDetector.takePicture({\n                reason: 'event',\n                picture: {\n                    height: this.storageSettings.values.snapshotHeight,\n                    width: this.storageSettings.values.snapshotWidth,\n                },\n            });\n            const b64Image = (await sdk.mediaManager.convertMediaObjectToBuffer(image, 'image/jpeg'))?.toString('base64');\n\n            return { image, b64Image };\n        } catch (e) {\n            this.getLogger().log('Error taking a picture', e);\n            return {};\n        }\n    }\n\n    async forceOccupancyCheck() {\n        const now = new Date().getTime();\n        const logger = this.getLogger();\n        const anyOutdatedRule = this.occupancyRules.some(rule => {\n            const { forceUpdate, name } = rule;\n            const currentState = this.occupancyState[name];\n\n            logger.debug(`Should force update occupancy: ${!currentState || (now - (currentState?.lastCheck ?? 0)) >= (1000 * forceUpdate)}, ${JSON.stringify({\n                lastCheck: currentState.lastCheck,\n                forceUpdate,\n                now,\n                name\n            })}`);\n\n            return !currentState || (now - (currentState?.lastCheck ?? 0)) >= (1000 * forceUpdate);\n        });\n\n        if (anyOutdatedRule) {\n            logger.debug('Forcing update of occupancy data');\n            const { image } = await this.getImage();\n            if (image) {\n                this.checkOccupancyData(image).catch(logger.log);\n            }\n        }\n    }\n\n    async checkOccupancyData(imageParent: MediaObject) {\n        try {\n            const logger = this.getLogger();\n            const now = new Date().getTime();\n\n            const device = systemManager.getDeviceById<DeviceInterface>(this.id);\n            const mqttClient = await this.plugin.getMqttClient();\n\n            // const observeZonesClasses: ObserveZoneClasses = {};\n            const occupancyRulesDataMap: Record<string, OccupancyRuleData> = {};\n            const zonesData = await this.getObserveZones();\n\n            // zonesData.forEach(({ name }) => {\n            //     observeZonesClasses[name] = {};\n            //     detectionClassForObjectsReporting.forEach(className => {\n            //         observeZonesClasses[name][className] = 0;\n            //     })\n            // });\n            // const scoreThreshold = this.storageSettings.values.objectOccupancyThreshold ?? 0.5;\n            // const intersectedZones = zonesData.filter(zone => !!polygonClipping.intersection([boundingBoxInCoords], [zone.path]).length);\n\n            // if (detection.score >= scoreThreshold) {\n            //     intersectedZones.forEach(intersectedZone => {\n            //         if (detectionClassForObjectsReporting.includes(className)) {\n            //             observeZonesClasses[intersectedZone.name][className] += 1;\n            //         }\n            //     });\n            // }\n            const objectDetectorParent: ObjectDetection = this.plugin.storageSettings.values.objectDetectionDevice;\n\n            if (!objectDetectorParent) {\n                logger.log(`No detection plugin selected.`);\n                return;\n            }\n\n            const detectedResultParent = await objectDetectorParent.detectObjects(imageParent);\n\n            for (const occupancyRule of this.occupancyRules) {\n                const { name, zoneType, observeZone, scoreThreshold, detectionClass, maxObjects = 1, objectDetector: ruleObjectDetector, captureZone } = occupancyRule;\n\n                let objectDetector = objectDetectorParent;\n                let detectedResult = detectedResultParent;\n\n                if (ruleObjectDetector) {\n                    objectDetector = systemManager.getDeviceById<ObjectDetection>(ruleObjectDetector);\n                }\n                let imageToUse = imageParent;\n\n                if (captureZone?.length >= 3) {\n                    const zone = zonesData.find(zoneData => zoneData.name === observeZone)?.path;\n                    const image = await sdk.mediaManager.convertMediaObject<Image>(imageParent, ScryptedMimeTypes.Image);\n                    let left = image.width;\n                    let top = image.height;\n                    let right = 0;\n                    let bottom = 0;\n                    for (const point of zone) {\n                        left = Math.min(left, point[0]);\n                        top = Math.min(top, point[1]);\n                        right = Math.max(right, point[0]);\n                        bottom = Math.max(bottom, point[1]);\n                    }\n\n                    left = left * image.width;\n                    top = top * image.height;\n                    right = right * image.width;\n                    bottom = bottom * image.height;\n\n                    let width = right - left;\n                    let height = bottom - top;\n                    // square it for standard detection\n                    width = height = Math.max(width, height);\n                    // recenter it\n                    left = left + (right - left - width) / 2;\n                    top = top + (bottom - top - height) / 2;\n                    // ensure bounds are within image.\n                    left = Math.max(0, left);\n                    top = Math.max(0, top);\n                    width = Math.min(width, image.width - left);\n                    height = Math.min(height, image.height - top);\n\n                    const cropped = await image.toImage({\n                        crop: {\n                            left,\n                            top,\n                            width,\n                            height,\n                        },\n                    });\n                    imageToUse = cropped;\n                    detectedResult = await objectDetector.detectObjects(cropped);\n\n                    // adjust the origin of the bounding boxes for the crop.\n                    for (const d of detectedResult.detections) {\n                        d.boundingBox[0] += left;\n                        d.boundingBox[1] += top;\n                    }\n                    detectedResult.inputDimensions = [image.width, image.height];\n                } else if (ruleObjectDetector) {\n                    detectedResult = await objectDetector.detectObjects(imageParent);\n                }\n\n                let objectsDetected = 0;\n\n                for (const detection of detectedResult.detections) {\n                    const className = detectionClassesDefaultMap[detection.className];\n                    if (detection.score >= scoreThreshold && detectionClass === className) {\n                        const boundingBoxInCoords = normalizeBoxToClipPath(detection.boundingBox, detectedResult.inputDimensions);\n                        const zone = zonesData.find(zoneData => zoneData.name === observeZone);\n                        let zoneMatches = false;\n\n                        if (zoneType === ZoneMatchType.Intersect) {\n                            zoneMatches = !!polygonClipping.intersection([boundingBoxInCoords], [zone.path]).length;\n                        } else {\n                            zoneMatches = zone.path.some(point => !polygonClipping.intersection([boundingBoxInCoords], [[point, [point[0] + 1, point[1]], [point[0] + 1, point[1] + 1]]]).length);\n                        }\n\n                        if (zoneMatches) {\n                            objectsDetected += 1;\n                        }\n                    }\n                }\n\n                const occupies = (maxObjects - objectsDetected) <= 0;\n\n                this.occupancyState[name] = {\n                    ...this.occupancyState[name] ?? {} as OccupancyData,\n                    objectsDetected,\n                    detectedResult,\n                    image: imageToUse\n                };\n\n                const existingRule = occupancyRulesDataMap[name];\n                if (!existingRule) {\n                    occupancyRulesDataMap[name] = {\n                        rule: occupancyRule,\n                        occupies,\n                        detectedResult,\n\n                    }\n                } else if (!existingRule.occupies && occupies) {\n                    existingRule.occupies = true;\n                }\n            }\n\n            const occupancyRulesData: OccupancyRuleData[] = [];\n            const rulesToNotNotify: string[] = [];\n            Object.values(occupancyRulesDataMap).forEach(occupancyRuleData => {\n                const { name, changeStateConfirm } = occupancyRuleData.rule;\n                const currentState = this.occupancyState[occupancyRuleData.rule.name];\n                const tooOld = currentState && (now - (currentState?.lastChange ?? 0)) >= (1000 * 60 * 60 * 1); // Force an update every hour\n                const toConfirm = currentState.occupancyToConfirm != undefined && !!currentState.confirmationStart;\n\n                let occupancyData: Partial<OccupancyData> = {\n                    lastCheck: now\n                }\n                const logPayload: any = {\n                    occupancyRuleData,\n                    currentState,\n                    tooOld,\n                };\n\n                // If the zone is not inizialized or last state change is too old, proceed with update regardless\n                if (!currentState || tooOld) {\n                    logger.debug(`Force pushing rule ${occupancyRuleData.rule.name}: ${JSON.stringify(logPayload)}`);\n                    occupancyRulesData.push(occupancyRuleData);\n\n                    occupancyData = {\n                        ...occupancyData,\n                        lastChange: now,\n                        lastOccupancy: occupancyRuleData.occupies,\n                    };\n\n                    // Avoid sending a notification if it's just a force updated due to time elpased\n                    if (currentState) {\n                        rulesToNotNotify.push(occupancyRuleData.rule.name);\n                    }\n                } else if (toConfirm) {\n                    const isConfirmationTimePassed = (now - (currentState?.confirmationStart ?? 0)) >= (1000 * changeStateConfirm);\n                    const isStateConfirmed = occupancyRuleData.occupies === currentState.occupancyToConfirm;\n\n                    // If confirmation time is not done but value is changed, discard new state\n                    if (!isConfirmationTimePassed) {\n                        if (isStateConfirmed) {\n                            // Do nothing and wait for next iteration\n                            logger.log(`Confirmation time is not passed yet ${occupancyRuleData.rule.name}: ${JSON.stringify(logPayload)}`);\n                        } else {\n                            // Reset confirmation data because the value changed before confirmation time passed\n                            logger.log(`Confirmation failed, value changed during confirmation time ${occupancyRuleData.rule.name}: ${JSON.stringify(logPayload)}`);\n\n                            occupancyData = {\n                                ...occupancyData,\n                                confirmationStart: undefined,\n                                occupancyToConfirm: undefined,\n                            };\n                        }\n                    } else {\n                        if (isStateConfirmed) {\n                            // Time is passed and value didn't change, update the state\n                            occupancyRulesData.push(occupancyRuleData);\n\n                            occupancyData = {\n                                ...occupancyData,\n                                lastChange: now,\n                                lastOccupancy: occupancyRuleData.occupies,\n                                confirmationStart: undefined,\n                                occupancyToConfirm: undefined,\n                            };\n\n                            const stateActuallyChanged = occupancyRuleData.occupies !== currentState.lastOccupancy;\n\n                            if (!stateActuallyChanged) {\n                                rulesToNotNotify.push(occupancyRuleData.rule.name);\n                            }\n\n                            logger.log(`Confirming occupancy rule ${occupancyRuleData.rule.name}: ${JSON.stringify({\n                                stateActuallyChanged,\n                                ...logPayload,\n                            })}`);\n                        } else {\n                            // Time is passed and value changed, restart confirmation flow\n                            occupancyData = {\n                                ...occupancyData,\n                                confirmationStart: now,\n                                occupancyToConfirm: occupancyRuleData.occupies\n                            };\n\n                            logger.log(`Restarting confirmation flow for occupancy rule ${occupancyRuleData.rule.name}: ${JSON.stringify(logPayload)}`);\n                        }\n                    }\n                } else if (occupancyRuleData.occupies !== currentState.lastOccupancy) {\n                    logger.log(`Marking the rule to confirm for next iteration ${occupancyRuleData.rule.name}: ${JSON.stringify(logPayload)}`);\n\n                    occupancyData = {\n                        ...occupancyData,\n                        confirmationStart: now,\n                        occupancyToConfirm: occupancyRuleData.occupies\n                    };\n                } else {\n                    logger.debug(`Refreshing lastCheck only for rule ${occupancyRuleData.rule.name}: ${JSON.stringify(logPayload)}`);\n                }\n\n                this.occupancyState[name] = {\n                    ...this.occupancyState[name],\n                    ...occupancyData\n                };\n            });\n\n            await this.storageSettings.putSetting('occupancyState', JSON.stringify(this.occupancyState));\n\n            await publishOccupancy({\n                console: logger,\n                device,\n                mqttClient,\n                objectsDetected: detectedResultParent,\n                observeZonesClasses: {},\n                occupancyRulesData\n            });\n\n            for (const occupancyRuleData of occupancyRulesData) {\n                const rule = occupancyRuleData.rule;\n                const currentState = this.occupancyState[rule.name];\n\n                if (!rulesToNotNotify.includes(rule.name)) {\n                    let message = occupancyRuleData.occupies ?\n                        rule.zoneOccupiedText :\n                        rule.zoneNotOccupiedText;\n\n                    message = message.toString()\n                        .replace('${detectedObjects}', String(currentState.objectsDetected) ?? '')\n                        .replace('${maxObjects}', String(rule.maxObjects) ?? '')\n\n                    if (message) {\n                        await this.plugin.notifyOccupancyEvent({\n                            cameraDevice: device,\n                            message,\n                            rule,\n                            triggerTime: now,\n                            image: currentState?.image ?? imageParent\n                        });\n                    }\n                }\n            }\n        }\n        catch (e) {\n            this.console.error('Error in checkOccupancyData', e);\n        }\n    }\n\n    public async processDetections(props: {\n        detections: ObjectDetectionResult[],\n        triggerTime: number,\n        isFromNvr: boolean,\n        image?: MediaObject\n    }) {\n        const device = systemManager.getDeviceById(this.id) as unknown as ScryptedDeviceBase;\n        const { detections, triggerTime, isFromNvr, image: parentImage } = props;\n        const logger = this.getLogger();\n\n        if (!detections?.length) {\n            return;\n        }\n\n        const now = new Date().getTime();\n\n        const {\n            minDelayTime,\n            ignoreCameraDetections,\n        } = this.storageSettings.values;\n\n        const { candidates, hasLabel } = filterAndSortValidDetections(detections ?? [], logger);\n\n        let image: MediaObject;\n        let b64Image: string;\n\n        if (this.isActiveForMqttReporting) {\n            if (hasLabel ||\n                !this.lastPictureTaken ||\n                (now - this.lastPictureTaken) >= 1000 * secondsPerPicture\n            ) {\n                this.lastPictureTaken = now;\n                logger.debug('Refreshing the image');\n                const { b64Image: b64ImageNew, image: imageNew } = await this.getImage();\n                image = imageNew;\n                b64Image = b64ImageNew;\n                this.checkOccupancyData(image).catch(logger.log);\n            }\n\n            this.reportDetectionsToMqtt({ detections: candidates, triggerTime, logger, device, b64Image, image });\n        }\n\n        let dataToReport = {};\n        try {\n            logger.debug(`Detections incoming ${JSON.stringify(candidates)}`);\n\n            const matchRules: MatchRule[] = [];\n\n            const rules = (isFromNvr ? this.nvrDetectionRules : this.detectionRules) ?? [];\n            for (const rule of rules) {\n                const { detectionClasses, scoreThreshold, whitelistedZones, blacklistedZones } = rule;\n\n                const match = candidates.find(d => {\n                    if (ignoreCameraDetections && !d.boundingBox) {\n                        return false;\n                    }\n\n                    const { className: classnameRaw, score, zones } = d;\n                    const className = detectionClassesDefaultMap[classnameRaw];\n\n                    if (!className) {\n                        logger.log(`Classname ${classnameRaw} not mapped. Candidates ${JSON.stringify(candidates)}`);\n\n                        return;\n                    }\n\n                    if (detectionClasses?.length && !detectionClasses.includes(className)) {\n                        logger.debug(`Classname ${className} not contained in ${detectionClasses}`);\n                        return false;\n                    }\n\n                    const scoreOk = !score || score > scoreThreshold;\n\n                    if (!scoreOk) {\n                        logger.debug(`Score ${score} not ok ${scoreThreshold}`);\n                        return false;\n                    }\n\n                    dataToReport = {\n                        zones,\n\n                        score,\n                        scoreThreshold,\n                        scoreOk,\n\n                        className,\n                        detectionClasses\n                    };\n\n                    let zonesOk = true;\n                    if (rule.source === DetectionRuleSource.Device) {\n                        const isIncluded = whitelistedZones.length ? zones.some(zone => whitelistedZones.includes(zone)) : true;\n                        const isExcluded = blacklistedZones.length ? zones.some(zone => blacklistedZones.includes(zone)) : false;\n\n                        zonesOk = isIncluded && !isExcluded;\n\n                        dataToReport = {\n                            ...dataToReport,\n                            zonesOk,\n                            isIncluded,\n                            isExcluded,\n                        }\n                    }\n\n                    if (!zonesOk) {\n                        logger.debug(`Zones ${zones} not ok`);\n                        return false;\n                    }\n\n                    return true;\n                });\n\n                if (match) {\n                    matchRules.push({ match, rule, dataToReport })\n                }\n            }\n\n            let imageToNotify = parentImage ?? image;\n            if (!!matchRules.length) {\n                if (!imageToNotify) {\n                    const { b64Image: b64ImageNew, image: imageNew } = await this.getImage();\n                    imageToNotify = imageNew;\n                    b64Image = b64ImageNew;\n                }\n\n                const imageUrl = await sdk.mediaManager.convertMediaObjectToLocalUrl(imageToNotify, 'image/jpg');\n                logger.debug(`Updating webook last image URL: ${imageUrl}`);\n                this.storageSettings.putSetting('lastSnapshotImageUrl', imageUrl);\n            }\n\n            for (const matchRule of matchRules) {\n                try {\n                    const { match, rule } = matchRule;\n                    const lastDetectionkey = this.getLastDetectionkey(match);\n                    const lastDetection = this.lastDetectionMap[lastDetectionkey];\n                    if (lastDetection && (now - lastDetection) < 1000 * minDelayTime) {\n                        logger.debug(`Waiting for delay: ${(now - lastDetection) / 1000}s`);\n                        return false;\n                    }\n                    this.lastDetectionMap[this.getLastDetectionkey(match)] = now;\n\n                    if (this.isActiveForMqttReporting) {\n                        this.triggerMotion({ matchRule, b64Image, device });\n                    }\n\n\n                    logger.log(`Matching detections found: ${JSON.stringify({\n                        matchRulesMap: matchRules,\n                        candidates,\n                    })}`);\n\n                    logger.log(`Starting notifiers: ${JSON.stringify({\n                        match,\n                        rule,\n                        eventType: EventType.ObjectDetection,\n                        triggerTime,\n                    })})}`);\n\n                    this.plugin.matchDetectionFound({\n                        triggerDeviceId: this.id,\n                        match,\n                        rule,\n                        image: imageToNotify,\n                        logger,\n                        eventType: EventType.ObjectDetection,\n                        triggerTime,\n                    });\n\n                } catch (e) {\n                    logger.log(`Error processing matchRule ${JSON.stringify(matchRule)}`, e);\n                }\n            }\n        } catch (e) {\n            logger.log('Error finding a match', e);\n        }\n    }\n\n    async startListeners() {\n        try {\n            this.detectionListener = systemManager.listenDevice(this.id, ScryptedInterface.ObjectDetector, async (_, __, data) => {\n                const detection: ObjectsDetected = data;\n\n                const { timestamp } = detection;\n\n                this.processDetections({ detections: detection.detections, triggerTime: timestamp, isFromNvr: false })\n            });\n        } catch (e) {\n            this.getLogger().log('Error in startListeners', e);\n        }\n    }\n}\n","export enum DetectionClass {\n    Motion = 'motion',\n    Person = 'person',\n    Vehicle = 'vehicle',\n    Animal = 'animal',\n    Face = 'face',\n    Plate = 'plate',\n    Package = 'package',\n    DoorSensor = 'sensor_open',\n    DoorLock = 'lock_open',\n}\n\nexport const defaultDetectionClasses = Object.values(DetectionClass);\n\nexport const animalClasses = [\n    // General\n    DetectionClass.Animal,\n\n    // Camera specific\n    'dog_cat',\n    \n    // Mammals\n    'dog',\n    'cat',\n    'horse',\n    'sheep',\n    'cow',\n    'elephant',\n    'bear',\n    'zebra',\n    'giraffe',\n    'mouse',\n    'rabbit',\n    'deer',\n    'lion',\n    'tiger',\n\n    // Birds\n    'bird',\n    'eagle',\n    'owl',\n    'pigeon',\n\n    // Marine Animals\n    'fish',\n    'whale',\n    'dolphin',\n\n    // Reptiles/Amphibians\n    'snake',\n    'turtle',\n    'lizard'\n];\n\nexport const personClasses = [\n    // General\n    DetectionClass.Person,\n\n    // Camera specific\n    'people',\n\n    // Activities\n    'pedestrian',\n    'rider',\n    'driver',\n    'cyclist',\n    'skier',\n    'skateboarder',\n\n    // Body Parts\n    'face',\n    'hand',\n    'head',\n    'body'\n];\n\nexport const vehicleClasses = [\n    // General\n    DetectionClass.Vehicle,\n\n    // Road Vehicles\n    'car',\n    'truck',\n    'bus',\n    'motorcycle',\n    'bicycle',\n    'van',\n\n    // Special Vehicles\n    'ambulance',\n    'police_car',\n    'fire_truck',\n\n    // Public Transportation\n    'train',\n    'subway',\n    'tram',\n\n    // Others\n    'airplane',\n    'boat',\n    'ship',\n    'helicopter'\n];\n\nexport const faceClasses = [\n    DetectionClass.Face,\n\n    // Main Face Components\n    'eyes',\n    'nose',\n    'mouth',\n    'ears',\n    'eyebrows',\n\n    // Detailed Eye Features\n    'left_eye',\n    'right_eye',\n    'pupil',\n    'iris',\n    'eyelid',\n    'eye_corner',\n\n    // Detailed Mouth Features\n    'upper_lip',\n    'lower_lip',\n    'teeth',\n\n    // Other Facial Features\n    'chin',\n    'cheek',\n    'forehead',\n    'jaw',\n\n    // Facial Accessories\n    'glasses',\n    'sunglasses',\n    'facial_hair',\n    'beard',\n    'mustache',\n\n    // Facial Landmarks\n    'facial_landmark',\n    'facial_keypoint'\n];\n\nexport const licensePlateClasses = [\n    DetectionClass.Plate,\n\n    // Plate Types\n    'license_plate',\n    'front_plate',\n    'rear_plate',\n    'motorcycle_plate',\n    'temporary_plate',\n    'dealer_plate',\n\n    // Plate Components\n    'plate_number',\n    'plate_character',\n    'plate_digit',\n    'plate_letter',\n    'plate_symbol',\n    'plate_region',\n    'plate_country_identifier',\n\n    // Plate Features\n    'plate_frame',\n    'plate_bolt',\n    'plate_sticker',\n    'plate_validation_tag',\n\n    // Plate Conditions\n    'damaged_plate',\n    'obscured_plate',\n    'dirty_plate'\n];\n\nexport const motionClasses = [\n    DetectionClass.Motion,\n    'movement'\n]\n\nexport const packageClasses = [\n    DetectionClass.Package,\n    'packet',\n]\n\nexport const isFaceClassname = (classname: string) => faceClasses.includes(classname);\nexport const isPlateClassname = (classname: string) => licensePlateClasses.includes(classname);\nexport const isAnimalClassname = (classname: string) => animalClasses.includes(classname);\nexport const isPersonClassname = (classname: string) => personClasses.includes(classname);\nexport const isVehicleClassname = (classname: string) => vehicleClasses.includes(classname);\nexport const isMotionClassname = (classname: string) => motionClasses.includes(classname);\nexport const isPackageClassname = (classname: string) => packageClasses.includes(classname);\nexport const isLabelDetection = (classname: string) => isFaceClassname(classname) || isPlateClassname(classname);\n\nexport const detectionClassesDefaultMap: Record<string, DetectionClass> = {\n    ...animalClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Animal }), {}),\n    ...personClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Person }), {}),\n    ...vehicleClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Vehicle }), {}),\n    ...motionClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Motion }), {}),\n    ...packageClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Package }), {}),\n    ...faceClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Face }), {}),\n    ...licensePlateClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Plate }), {}),\n}\n\nexport const parentDetectionClassMap: Partial<Record<DetectionClass, DetectionClass>> = {\n    [DetectionClass.Face]: DetectionClass.Person,\n    [DetectionClass.Plate]: DetectionClass.Vehicle,\n}","import sdk, { DeviceBase, DeviceProvider, HttpRequest, HttpRequestHandler, HttpResponse, MediaObject, MixinProvider, Notifier, NotifierOptions, ObjectDetectionResult, ScryptedDevice, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, Setting, Settings, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport axios from \"axios\";\nimport { isEqual, keyBy, sortBy } from 'lodash';\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { DeviceInterface, NotificationSource, getWebooks, getTextSettings, getTextKey, EventType, detectionRulesKey, getDetectionRulesSettings, DetectionRule, getElegibleDevices, deviceFilter, notifierFilter, ADVANCED_NOTIFIER_INTERFACE, parseNvrNotificationMessage, NotificationPriority, getFolderPaths, getDeviceRules, NvrEvent, ParseNotificationMessageResult, getPushoverPriority, getDetectionRuleKeys, detectRuleEnabledRegex, OccupancyRule, occupancyRuleEnabledRegex, nvrAcceleratedMotionSensorId } from \"./utils\";\nimport { AdvancedNotifierCameraMixin } from \"./cameraMixin\";\nimport { AdvancedNotifierSensorMixin } from \"./sensorMixin\";\nimport { AdvancedNotifierNotifierMixin } from \"./notifierMixin\";\nimport { DetectionClass, detectionClassesDefaultMap } from \"./detecionClasses\";\nimport { BasePlugin, getBaseSettings } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport { getMqttTopicTopics, getOccupancyRuleStrings, getRuleStrings, setupPluginAutodiscovery, subscribeToMainMqttTopics } from \"./mqtt-utils\";\nimport path from 'path';\nimport { AdvancedNotifierNotifier } from \"./notifier\";\nimport { version } from '../package.json';\n\nconst { systemManager } = sdk;\nconst defaultNotifierNativeId = 'advancedNotifierDefaultNotifier';\n\ninterface NotifyCameraProps {\n    cameraDevice?: DeviceInterface,\n    triggerDevice: DeviceInterface,\n    notifierId: string,\n    time: number,\n    image?: MediaObject,\n    detection?: ObjectDetectionResult\n    textKey: string,\n    rule?: DetectionRule,\n    source?: NotificationSource,\n    notifierSettings: Setting[],\n    logger: Console,\n    skipImage?: boolean,\n}\n\nexport default class AdvancedNotifierPlugin extends BasePlugin implements MixinProvider, HttpRequestHandler, DeviceProvider {\n    private deviceHaEntityMap: Record<string, string> = {};\n    private haEntityDeviceMap: Record<string, string> = {};\n    private deviceVideocameraMap: Record<string, string> = {};\n    private videocameraDevicesMap: Record<string, string[]> = {};\n    public deviceRoomMap: Record<string, string> = {}\n    private doorbellDevices: string[] = [];\n    private firstCheckAlwaysActiveDevices = false;\n    public currentMixinsMap: Record<string, AdvancedNotifierCameraMixin | AdvancedNotifierSensorMixin> = {};\n    private haProviderId: string;\n    private pushoverProviderId: string;\n    private refreshDeviceLinksInterval: NodeJS.Timeout;\n    defaultNotifier: AdvancedNotifierNotifier;\n    nvrRules: DetectionRule[] = [];\n\n    storageSettings = new StorageSettings(this, {\n        ...getBaseSettings({\n            onPluginSwitch: (_, enabled) => this.startStop(enabled),\n            hideHa: false,\n        }),\n        pluginEnabled: {\n            title: 'Plugin enabled',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n        },\n        mqttEnabled: {\n            title: 'MQTT enabled',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n        },\n        debug: {\n            title: 'Log debug messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n        },\n        serverId: {\n            title: 'Server identifier',\n            type: 'string',\n            hide: true,\n        },\n        localIp: {\n            title: 'Server local ip',\n            type: 'string',\n            hide: true,\n        },\n        scryptedToken: {\n            title: 'Scrypted token',\n            type: 'string',\n        },\n        nvrUrl: {\n            title: 'NVR url',\n            description: 'Url pointing to the NVR instance, useful to generate direct links to timeline',\n            type: 'string',\n            defaultValue: 'https://nvr.scrypted.app/',\n            placeholder: 'https://nvr.scrypted.app/',\n        },\n        domains: {\n            group: 'Base',\n            subgroup: 'Homeassistant',\n            title: 'Entity regex patterns',\n            description: 'Regex to filter out entities fetched',\n            type: 'string',\n            multiple: true,\n        },\n        fetchHaEntities: {\n            group: 'Base',\n            subgroup: 'Homeassistant',\n            title: 'Fetch entities from HA',\n            type: 'button',\n            onPut: async () => await this.fetchHomeassistantData()\n        },\n        mqttActiveEntitiesTopic: {\n            title: 'Active entities topic',\n            group: 'MQTT',\n            description: 'Topic containing the active entities, will trigger the related devices activation for notifications',\n            onPut: async () => {\n                await this.setupMqttEntities();\n            },\n        },\n        activeDevicesForReporting: {\n            group: 'MQTT',\n            title: 'Active devices for MQTT reporting',\n            type: 'device',\n            multiple: true,\n            combobox: true,\n            deviceFilter: deviceFilter,\n        },\n        fetchedEntities: {\n            group: 'Metadata',\n            title: '',\n            subgroup: 'Entities',\n            multiple: true,\n        },\n        fetchedRooms: {\n            group: 'Metadata',\n            title: '',\n            subgroup: 'Rooms',\n            multiple: true,\n        },\n        notifiers: {\n            group: 'Notifier',\n            title: 'Active notifiers',\n            type: 'device',\n            multiple: true,\n            combobox: true,\n            deviceFilter: notifierFilter,\n        },\n        ...getTextSettings(false),\n        [detectionRulesKey]: {\n            title: 'Rules',\n            group: 'Detection rules',\n            type: 'string',\n            multiple: true,\n            combobox: true,\n            choices: [],\n            defaultValue: [],\n        },\n        activeDevicesForNotifications: {\n            title: '\"OnActive\" devices',\n            group: 'Detection rules',\n            type: 'device',\n            multiple: true,\n            combobox: true,\n            deviceFilter: deviceFilter,\n        },\n        objectDetectionDevice: {\n            title: 'Object Detector',\n            group: 'Detection rules',\n            description: 'Select the object detection plugin to use for detecting objects.',\n            type: 'device',\n            deviceFilter: `interfaces.includes('ObjectDetectionPreview') && id !== '${nvrAcceleratedMotionSensorId}'`,\n            immediate: true,\n        },\n        securitySystem: {\n            title: 'Security system',\n            group: 'Detection rules',\n            description: 'Select the security system device that will be used to enable rules.',\n            type: 'device',\n            deviceFilter: `type === '${ScryptedDeviceType.SecuritySystem}'`,\n            immediate: true,\n        },\n        testDevice: {\n            title: 'Device',\n            group: 'Test',\n            immediate: true,\n            type: 'device',\n            deviceFilter: deviceFilter,\n        },\n        testNotifier: {\n            group: 'Test',\n            title: 'Notiier',\n            type: 'device',\n            deviceFilter: notifierFilter,\n            immediate: true,\n        },\n        testMessage: {\n            group: 'Test',\n            title: 'Message key',\n            type: 'string',\n            immediate: true,\n        },\n        testPriority: {\n            group: 'Test',\n            title: 'Pushover priority',\n            type: 'string',\n            immediate: true,\n            choices: [NotificationPriority.VeryLow, NotificationPriority.Low, NotificationPriority.Normal, NotificationPriority.High],\n            defaultValue: NotificationPriority.Normal\n        },\n        testButton: {\n            group: 'Test',\n            title: 'Send notification',\n            type: 'button',\n            onPut: async () => {\n                await this.executeNotificationTest();\n            },\n        },\n    });\n\n\n    constructor(nativeId: string) {\n        super(nativeId, {\n            pluginFriendlyName: 'Advanced notifier'\n        });\n\n        // if (version === '1.5.1') {\n        //     this.log.a('In version 1.5.1 there have been many changes/fixes on the MQTT devices declaration. Please clear all the devices on Homeassistant with prefix \"Scrypted AN\" to have fresh sensors');\n        // }\n\n        (async () => {\n            await sdk.deviceManager.onDeviceDiscovered(\n                {\n                    name: 'Advanced notifier NVR notifier',\n                    nativeId: defaultNotifierNativeId,\n                    interfaces: [ScryptedInterface.Notifier],\n                    type: ScryptedDeviceType.Notifier,\n                },\n            );\n        })();\n\n        this.start().then().catch(this.getLogger().log);\n    }\n\n    async getDevice(nativeId: string) {\n        if (nativeId === defaultNotifierNativeId)\n            return this.defaultNotifier ||= new AdvancedNotifierNotifier(defaultNotifierNativeId, this);\n    }\n\n    async releaseDevice(id: string, nativeId: string): Promise<void> {\n    }\n\n    async startStop(enabled: boolean) {\n        if (enabled) {\n            await this.start();\n        } else {\n            await this.stop();\n        }\n    }\n\n    async stop() {\n        this.refreshDeviceLinksInterval && clearInterval(this.refreshDeviceLinksInterval);\n        await this.mqttClient?.disconnect();\n    }\n\n    async start() {\n        try {\n            await this.initPluginSettings();\n            await this.refreshDevicesLinks();\n            await this.setupMqttEntities();\n\n            this.refreshDeviceLinksInterval = setInterval(async () => await this.refreshDevicesLinks(), 10000);\n        } catch (e) {\n            this.getLogger().log(`Error in initFLow`, e);\n        }\n    }\n\n    async onRequest(request: HttpRequest, response: HttpResponse): Promise<void> {\n        const decodedUrl = decodeURIComponent(request.url);\n        const [_, __, ___, ____, _____, webhook, deviceNameOrAction] = decodedUrl.split('/');\n        try {\n            const { lastSnapshot, haAction } = await getWebooks();\n\n            if (webhook === haAction) {\n                const { url, accessToken } = await this.getHaApiUrl();\n\n                await axios.post(`${url}/api/events/mobile_app_notification_action`,\n                    { \"action\": deviceNameOrAction },\n                    {\n                        headers: {\n                            'Authorization': 'Bearer ' + accessToken,\n                        }\n                    });\n\n                response.send(`Action ${deviceNameOrAction} executed`, {\n                    code: 200,\n                });\n                return;\n            } else if (webhook === lastSnapshot) {\n                const device = this.currentMixinsMap[deviceNameOrAction] as AdvancedNotifierCameraMixin;\n                const isWebhookEnabled = device?.storageSettings.getItem('lastSnapshotWebhook');\n\n                if (isWebhookEnabled) {\n                    // response.send(`${JSON.stringify(this.storageSettings.getItem('deviceLastSnapshotMap'))}`, {\n                    //     code: 404,\n                    // });\n                    // return;\n                    const { snapshotsFolder } = await getFolderPaths(device.id);\n\n                    const lastSnapshotFilePath = path.join(snapshotsFolder, `${webhook}.jpg`);\n\n                    if (lastSnapshotFilePath) {\n                        const mo = await sdk.mediaManager.createFFmpegMediaObject({\n                            inputArguments: [\n                                '-i', lastSnapshotFilePath,\n                            ]\n                        });\n                        const jpeg = await sdk.mediaManager.convertMediaObjectToBuffer(mo, 'image/jpeg');\n                        response.send(jpeg, {\n                            headers: {\n                                'Content-Type': 'image/jpeg',\n                            }\n                        });\n                        return;\n                    } else {\n                        response.send(`Last snapshot not found for device ${deviceNameOrAction}`, {\n                            code: 404,\n                        });\n                        return;\n                    }\n                }\n            }\n        } catch (e) {\n            response.send(`${JSON.stringify(e)}, ${e.message}`, {\n                code: 400,\n            });\n\n            return;\n        }\n\n        response.send(`Webhook not found`, {\n            code: 404,\n        });\n\n        return;\n    }\n\n    private async sendAutoDiscovery() {\n        const mqttClient = await this.getMqttClient();\n        const logger = this.getLogger();\n        const objDetectionPlugin = systemManager.getDeviceByName('Scrypted NVR Object Detection') as unknown as Settings;\n        const settings = await objDetectionPlugin.getSettings();\n        const knownPeople = settings?.find(setting => setting.key === 'knownPeople')?.choices\n            ?.filter(choice => !!choice)\n            .map(person => person.trim());\n\n        const mainSettings = await this.getSettings();\n        const mainSettingsByKey = keyBy(mainSettings, 'key');\n        const { allPluginRules } = getDeviceRules({ mainPluginStorage: mainSettingsByKey });\n\n        await setupPluginAutodiscovery({\n            mqttClient,\n            people: knownPeople,\n            console: logger,\n            detectionRules: allPluginRules,\n        });\n\n        return { allPluginRules };\n    }\n\n    async putSetting(key: string, value: SettingValue, skipMqtt?: boolean): Promise<void> {\n        if (!skipMqtt) {\n            const enabledResultDetected = detectRuleEnabledRegex.exec(key);\n            const enabledResultOccupancy = occupancyRuleEnabledRegex.exec(key);\n            if (enabledResultDetected) {\n                const ruleName = enabledResultDetected[1];\n                this.updateDetectionRuleOnMqtt({ active: value as boolean, ruleName, logger: this.getLogger() });\n            } else if (enabledResultOccupancy) {\n                const ruleName = enabledResultOccupancy[1];\n                this.updateOccupancyRuleOnMqtt({ active: value as boolean, ruleName, logger: this.getLogger() });\n            }\n        }\n\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    async updateDetectionRuleOnMqtt(props: { deviceId?: string, active: boolean, ruleName: string, logger: Console }) {\n        const { active, ruleName, deviceId, logger } = props;\n        const mqttClient = await this.getMqttClient();\n        const { entityId, ruleDeviceId } = getRuleStrings({ name: ruleName, deviceId } as DetectionRule);\n\n        const { getEntityTopic } = getMqttTopicTopics(ruleDeviceId);\n        const stateTopic = getEntityTopic(entityId);\n        logger.log(`Setting detection rule ${ruleName} to ${active} for device ${deviceId}`);\n        await mqttClient.publish(stateTopic, active ? 'ON' : 'OFF');\n    }\n\n    async updateOccupancyRuleOnMqtt(props: { deviceId?: string, active: boolean, ruleName: string, logger: Console }) {\n        const { active, ruleName, deviceId, logger } = props;\n        const mqttClient = await this.getMqttClient();\n        const { entityId, ruleDeviceId } = getOccupancyRuleStrings({ name: ruleName } as OccupancyRule);\n\n        const { getEntityTopic } = getMqttTopicTopics(ruleDeviceId);\n        const stateTopic = getEntityTopic(entityId);\n        logger.log(`Setting occupancy rule ${ruleName} to ${active} for device ${deviceId}`);\n        await mqttClient.publish(stateTopic, active ? 'ON' : 'OFF');\n    }\n\n    private async setupMqttEntities() {\n        const { mqttEnabled, mqttActiveEntitiesTopic } = this.storageSettings.values;\n        if (mqttEnabled) {\n            try {\n                const mqttClient = await this.getMqttClient();\n                const { allPluginRules } = await this.sendAutoDiscovery();\n                const logger = this.getLogger();\n\n                this.getLogger().log(`Subscribing to mqtt topics`);\n                await subscribeToMainMqttTopics({\n                    entitiesActiveTopic: mqttActiveEntitiesTopic,\n                    mqttClient,\n                    detectionRules: allPluginRules,\n                    activeEntitiesCb: async (message) => {\n                        logger.log(`Received update for ${mqttActiveEntitiesTopic} topic: ${JSON.stringify(message)}`);\n                        await this.syncHaEntityIds(message);\n                    },\n                    ruleCb: async ({ active, ruleName }) => {\n                        const { enabledKey } = getDetectionRuleKeys(ruleName);\n                        logger.log(`Setting rule ${ruleName} to ${active}`);\n                        await this.putSetting(enabledKey, active, true);\n                    },\n                });\n            } catch (e) {\n                this.getLogger().log('Error setting up MQTT client', e);\n            }\n        }\n    }\n\n    private async syncHaEntityIds(devices: string[]) {\n        const deviceIds: string[] = [];\n        for (const device of devices) {\n            const deviceNameFromEntity = this.haEntityDeviceMap[device];\n            const entityFromDeviceName = this.deviceHaEntityMap[device];\n\n            if (deviceNameFromEntity) {\n                deviceIds.push(deviceNameFromEntity);\n            } else if (entityFromDeviceName) {\n                deviceIds.push(device);\n            }\n        }\n\n        this.getLogger().log(`SyncHaEntityIds: ${JSON.stringify({\n            devices,\n            deviceIds,\n            stored: this.storageSettings.values.activeDevicesForNotifications ?? [],\n            isEqual: isEqual(sortBy(deviceIds), sortBy(this.storageSettings.values.activeDevicesForNotifications ?? []))\n        })}`);\n\n        if (isEqual(sortBy(deviceIds), sortBy(this.storageSettings.values.activeDevicesForNotifications ?? []))) {\n            this.getLogger().log('Devices did not change');\n        } else {\n            this.putSetting('activeDevicesForNotifications', deviceIds);\n        }\n    }\n\n    private async initPluginSettings() {\n        const logger = this.getLogger();\n        const cloudPlugin = systemManager.getDeviceByName('Scrypted Cloud') as unknown as Settings;\n        if (cloudPlugin) {\n            const oauthUrl = await (cloudPlugin as any).getOauthUrl();\n            const url = new URL(oauthUrl);\n            const serverId = url.searchParams.get('server_id');\n            this.putSetting('serverId', serverId);\n            logger.log(`Server id found: ${serverId}`);\n        } else {\n            logger.log(`Cloud plugin not found`);\n        }\n\n        const localIp = (await sdk.endpointManager.getLocalAddresses())[0];\n        this.putSetting('localIp', localIp);\n        logger.log(`Local IP found: ${localIp}`);\n\n        const pushoverPlugin = systemManager.getDeviceByName('Pushover Plugin') as unknown as ScryptedDeviceBase;\n        const haPlugin = systemManager.getDeviceByName('Notify Service') as unknown as ScryptedDeviceBase;\n\n        this.haProviderId = haPlugin?.id\n        this.pushoverProviderId = pushoverPlugin?.id\n        logger.log(`HA providerId: ${this.haProviderId} and Pushover providerId: ${this.pushoverProviderId}`);\n    }\n\n    private async refreshDevicesLinks() {\n        const logger = this.getLogger();\n        try {\n            const doorbellDevices: string[] = [];\n            const haEntities: string[] = [];\n            const deviceHaEntityMap: Record<string, string> = {};\n            const haEntityDeviceMap: Record<string, string> = {};\n            const deviceVideocameraMap: Record<string, string> = {};\n            const videocameraDevicesMap: Record<string, string[]> = {};\n            const deviceRoomMap: Record<string, string> = {};\n\n            const allDevices = getElegibleDevices();\n            for (const device of allDevices) {\n                const deviceId = device.id;\n                const deviceType = device.type;\n                try {\n                    const settings = await device.getSettings();\n                    const haEntityId = settings.find(setting => setting.key === 'homeassistantMetadata:entityId')?.value as string;\n                    const room = settings.find(setting => setting.key === 'homeassistantMetadata:room')?.value as string;\n                    const linkedCamera = settings.find(setting => setting.key === 'homeassistantMetadata:linkedCamera')?.value as string;\n                    const nearbySensors = (settings.find(setting => setting.key === 'recording:nearbySensors')?.value as string[]) ?? [];\n                    const nearbyLocks = (settings.find(setting => setting.key === 'recording:nearbyLocks')?.value as string[]) ?? [];\n\n                    deviceRoomMap[deviceId] = room;\n                    if (haEntityId) {\n                        haEntities.push(haEntityId);\n\n                        deviceHaEntityMap[deviceId] = haEntityId;\n                        haEntityDeviceMap[haEntityId] = deviceId;\n                    }\n\n                    if (deviceType === ScryptedDeviceType.Doorbell) {\n                        const doorbellButtonId = settings.find(setting => setting.key === 'replaceBinarySensor:replaceBinarySensor')?.value as string;\n                        if (doorbellButtonId) {\n                            doorbellDevices.push(doorbellButtonId);\n                            deviceVideocameraMap[doorbellButtonId] = deviceId;\n                        }\n                    }\n\n                    if (linkedCamera) {\n                        const cameraDevice = systemManager.getDeviceById(linkedCamera);\n                        if (cameraDevice) {\n                            const cameraId = cameraDevice.id;\n                            deviceVideocameraMap[deviceId] = cameraId;\n                            if (!videocameraDevicesMap[cameraId]) {\n                                videocameraDevicesMap[cameraId] = [];\n                            }\n                            !videocameraDevicesMap[cameraId].includes(deviceId) && videocameraDevicesMap[cameraId].push(deviceId);\n                        } else {\n                            logger.log(`Device ${device.name} is linked to the cameraId ${linkedCamera}, not available anymore`);\n                        }\n                    }\n\n                    if ([ScryptedDeviceType.Doorbell, ScryptedDeviceType.Camera].includes(deviceType)) {\n                        const allLinkedSensorIds = [...nearbySensors, ...nearbyLocks];\n\n                        for (const linkedSensorId of allLinkedSensorIds) {\n                            deviceVideocameraMap[linkedSensorId] = deviceId;\n                            if (!videocameraDevicesMap[deviceId]) {\n                                videocameraDevicesMap[deviceId] = [];\n                            }\n                            !videocameraDevicesMap[deviceId].includes(linkedSensorId) && videocameraDevicesMap[deviceId].push(linkedSensorId);\n                        }\n                    }\n                } catch (e) {\n                    logger.log(`Error in refreshDevicesLinks-${device}`, e);\n                }\n            }\n\n            const sensorsNotMapped = allDevices.filter(device => device.type === ScryptedDeviceType.Sensor && !deviceVideocameraMap[device.id])\n                .map(sensor => sensor.name);\n\n            if (sensorsNotMapped.length && !this.firstCheckAlwaysActiveDevices) {\n                logger.log(`Following binary sensors are not mapped to any camera yet: ${sensorsNotMapped}`);\n            }\n\n            const mainSettings = await this.getSettings();\n            const mainSettingsByKey = keyBy(mainSettings, 'key');\n            const { nvrRules } = getDeviceRules({ mainPluginStorage: mainSettingsByKey });\n            this.nvrRules = nvrRules;\n\n            this.deviceHaEntityMap = deviceHaEntityMap;\n            this.haEntityDeviceMap = haEntityDeviceMap;\n            this.deviceVideocameraMap = deviceVideocameraMap;\n            this.videocameraDevicesMap = videocameraDevicesMap;\n            this.deviceRoomMap = deviceRoomMap;\n            this.doorbellDevices = doorbellDevices;\n            this.firstCheckAlwaysActiveDevices = true;\n\n            if (this.storageSettings.values.mqttEnabled) {\n                await this.sendAutoDiscovery();\n            }\n        } catch (e) {\n            logger.log('Error in refreshDevicesLinks', e);\n        }\n    }\n\n    async getSettings() {\n        try {\n            const { haEnabled } = this.storageSettings.values;\n            this.storageSettings.settings.domains.hide = !haEnabled;\n            this.storageSettings.settings.fetchHaEntities.hide = !haEnabled;\n\n            this.storageSettings.settings.testMessage.choices = Object.keys(getTextSettings(false)).map(key => key);\n\n            const settings: Setting[] = await super.getSettings();\n\n            const detectionRulesSettings = await getDetectionRulesSettings({\n                storage: this.storageSettings,\n                groupName: 'Detection rules',\n                withDevices: true,\n                withDetection: true,\n                withNvrEvents: true,\n            });\n            settings.push(...detectionRulesSettings);\n\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    fetchHomeassistantData = async () => {\n        const { domains } = this.storageSettings.values;\n\n        let rooms: string[] = [];\n        let entityIds: string[] = [];\n\n        try {\n            const haApi = await this.getHaApi();\n            const roomsResponse = await haApi.getTemplateData(\"{{ areas() }}\");\n\n            const getRoomName = async (areaId: string) => {\n                return await haApi.getTemplateData(`{{ area_name('${areaId}') }}`);\n            }\n\n            const entitiesResponse = await haApi.getStatesDate();\n            const roomIds = sortBy(JSON.parse(roomsResponse.data.replace(new RegExp('\\'', 'g'), '\"')), elem => elem);\n\n            for (const roomId of roomIds) {\n                const roomName = await getRoomName(roomId);\n                rooms.push(roomName.data);\n            }\n\n            entityIds = sortBy(\n                entitiesResponse.data\n                    .filter(entityStatus => domains.length > 0 ? domains.some(domain => new RegExp(domain).test(entityStatus.entity_id)) : true),\n                elem => elem.entity_id)\n                .map(entityStatus => entityStatus.entity_id);\n        } catch (e) {\n            this.getLogger().log(e);\n        } finally {\n            this.getLogger().log(`Entities found: ${JSON.stringify(entityIds)}`);\n            this.getLogger().log(`Rooms found: ${JSON.stringify(rooms)}`);\n            await this.putSetting('fetchedEntities', entityIds);\n            await this.putSetting('fetchedRooms', rooms);\n        }\n    }\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        if (\n            [\n                ScryptedInterface.Camera,\n                ScryptedInterface.VideoCamera,\n                ScryptedInterface.BinarySensor,\n                ScryptedInterface.Lock,\n                ScryptedInterface.Notifier,\n            ].some(int => interfaces.includes(int))\n        ) {\n            return [ScryptedInterface.Settings, ADVANCED_NOTIFIER_INTERFACE]\n        }\n\n        return undefined;\n    }\n\n    async notifyOccupancyEvent(props: {\n        cameraDevice: DeviceInterface,\n        triggerTime: number,\n        message: string,\n        rule: OccupancyRule,\n        image: MediaObject,\n    }) {\n        const { cameraDevice, rule, message, triggerTime, image } = props;\n        const logger = this.getLogger();\n\n        const notifyCameraProps: Partial<NotifyCameraProps> = {\n            cameraDevice,\n            time: triggerTime,\n            source: NotificationSource.NVR,\n            logger,\n        }\n\n        for (const notifierId of rule.notifiers) {\n            const notifier = systemManager.getDeviceById(notifierId) as unknown as Notifier & DeviceInterface;\n            const notifierSettings = await notifier.getSettings();\n            notifyCameraProps.notifierId = notifierId;\n            notifyCameraProps.notifierSettings = notifierSettings;\n            const deviceSettings = await cameraDevice.getSettings();\n\n            const notifierData = await this.getNotifierData({\n                device: cameraDevice,\n                deviceSettings,\n                notifier,\n                triggerTime,\n                rule,\n            });\n\n            const notifierOptions: NotifierOptions = {\n                body: message,\n                data: notifierData\n            }\n\n            const title = cameraDevice.name;\n\n            logger.log(`Finally sending Occupancy event notification ${triggerTime} to ${notifier.name}. ${JSON.stringify({\n                notifierOptions,\n                title,\n                message,\n            })}`);\n\n            await notifier.sendNotification(title, notifierOptions, image, undefined);\n        }\n    }\n\n    async notifyNvrEvent(props: ParseNotificationMessageResult & { cameraDevice: DeviceInterface, triggerTime: number }) {\n        const { eventType, textKey, triggerDevice, cameraDevice, triggerTime, label } = props;\n        const logger = this.getLogger();\n        const rules = this.nvrRules.filter(rule => rule.nvrEvents.includes(eventType as NvrEvent));\n\n        const notifyCameraProps: Partial<NotifyCameraProps> = {\n            triggerDevice,\n            cameraDevice,\n            time: triggerTime,\n            source: NotificationSource.NVR,\n            textKey,\n            logger,\n        }\n\n        const { externalUrl } = this.getUrls(cameraDevice.id, triggerTime);\n\n        if (eventType === NvrEvent.RecordingInterrupted) {\n            notifyCameraProps.detection = {\n                label,\n            } as ObjectDetectionResult\n        }\n\n        for (const rule of rules) {\n            const notifiers = rule.notifiers\n            for (const notifierId of notifiers) {\n                const notifier = systemManager.getDeviceById(notifierId) as unknown as Notifier & DeviceInterface;\n                const notifierSettings = await notifier.getSettings();\n                notifyCameraProps.notifierId = notifierId;\n                notifyCameraProps.notifierSettings = notifierSettings;\n                const deviceSettings = await cameraDevice.getSettings();\n\n                const message = await this.getNotificationText({\n                    detection: notifyCameraProps.detection,\n                    detectionTime: triggerTime,\n                    notifierId,\n                    textKey,\n                    device: triggerDevice,\n                    notifierSettings,\n                    externalUrl,\n                });\n\n                const notifierData = await this.getNotifierData({\n                    device: cameraDevice,\n                    deviceSettings,\n                    notifier,\n                    triggerTime,\n                    rule,\n                });\n\n                const notifierOptions: NotifierOptions = {\n                    body: message,\n                    data: notifierData\n                }\n\n                const title = cameraDevice.name;\n\n                logger.log(`Finally sending Nvr event notification ${triggerTime} to ${notifier.name}. ${JSON.stringify({\n                    notifierOptions,\n                    title,\n                    message,\n                })}`);\n\n                await notifier.sendNotification(title, notifierOptions, undefined, undefined);\n            }\n        }\n    }\n\n    async onNvrNotification(cameraName: string, options?: NotifierOptions, image?: MediaObject, icon?: MediaObject | string) {\n        const logger = this.getLogger();\n        const triggerTime = options?.recordedEvent?.data.timestamp ?? new Date().getTime();\n        const cameraDevice = sdk.systemManager.getDeviceByName(cameraName) as unknown as DeviceInterface;\n        const deviceSensors = this.videocameraDevicesMap[cameraDevice.id] ?? [];\n        const { devNotifier } = this.storageSettings.values;\n        const result = await parseNvrNotificationMessage(cameraDevice, deviceSensors, options, logger);\n        const {\n            allDetections,\n            eventType,\n            triggerDevice,\n        } = result;\n\n        logger.debug(`NVR notification received: ${JSON.stringify({ cameraName, options })}`);\n        if (eventType === EventType.Package) {\n            logger.log(`Package detection  parsed: ${JSON.stringify({ cameraName, result, eventType, })}`)\n        }\n\n        if ([EventType.ObjectDetection, EventType.Package].includes(eventType as EventType)) {\n            // if (eventType === EventType.ObjectDetection) {\n            await (this.currentMixinsMap[triggerDevice.name] as AdvancedNotifierCameraMixin)?.processDetections({\n                detections: allDetections,\n                isFromNvr: true,\n                triggerTime,\n                image,\n            });\n        } else if ([EventType.Contact, EventType.Doorbell, EventType.Doorlock].includes(eventType as EventType)) {\n            await (this.currentMixinsMap[triggerDevice.name] as AdvancedNotifierSensorMixin)?.processEvent({\n                triggered: true,\n                isFromNvr: true,\n                triggerTime,\n                image,\n            });\n        } else {\n            if (eventType) {\n                await this.notifyNvrEvent(\n                    {\n                        ...result,\n                        cameraDevice,\n                        triggerTime\n                    }\n                );\n            } else {\n                logger.log(`Notification coming from NVR not mapped yet: ${JSON.stringify({\n                    cameraName,\n                    options,\n                    allDetections,\n                    eventType,\n                    triggerDevice,\n                })}`);\n                if (devNotifier) {\n                    (devNotifier as Notifier).sendNotification('Unmapped notification', {\n                        body: JSON.stringify({\n                            cameraName,\n                            options,\n                            allDetections,\n                            eventType,\n                            triggerDevice,\n                        })\n                    });\n                }\n            }\n        }\n    }\n\n    public getLinkedCamera = async (deviceId: string) => {\n        const device = systemManager.getDeviceById(deviceId) as unknown as DeviceInterface;\n        const cameraDevice = await this.getCameraDevice(device);\n\n        if (!device || !cameraDevice) {\n            this.getLogger().log(`Camera device for ID ${deviceId} not found. Device found: ${!!device} and camera was found: ${!!cameraDevice}`);\n        }\n\n        return { device: cameraDevice, isDoorbell: this.doorbellDevices.includes(deviceId) };\n    }\n\n    public matchDetectionFound = async (props: {\n        image?: MediaObject,\n        match?: ObjectDetectionResult,\n        rule: DetectionRule,\n        logger: Console,\n        eventType: EventType,\n        triggerDeviceId: string,\n        triggerTime: number,\n    }) => {\n        const {\n            eventType,\n            logger,\n            triggerDeviceId,\n            triggerTime,\n            match,\n            image,\n            rule,\n        } = props;\n        const triggerDevice = systemManager.getDeviceById(triggerDeviceId) as unknown as DeviceInterface;\n        const cameraDevice = await this.getCameraDevice(triggerDevice);\n\n        const textKey = getTextKey({ eventType, classname: match?.className });\n        logger.log(`${rule.notifiers.length} notifiers will be notified: ${JSON.stringify({ match, rule })}`);\n\n        for (const notifierId of rule.notifiers) {\n            const notifier = systemManager.getDeviceById(notifierId) as unknown as Settings & ScryptedDeviceBase;\n            const notifierSettings = await notifier.getSettings();\n\n            this.notifyCamera({\n                triggerDevice,\n                cameraDevice,\n                notifierId,\n                time: triggerTime,\n                image,\n                detection: match,\n                source: NotificationSource.DETECTION,\n                textKey,\n                logger,\n                notifierSettings,\n                rule,\n            }).catch(e => logger.log(`Error on notifier ${notifier.name}`, e));\n        }\n    };\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        const props = {\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: 'Advanced notifier',\n            groupKey: 'homeassistantMetadata'\n        };\n\n        if (\n            [ScryptedInterface.Camera, ScryptedInterface.VideoCamera,].some(int => mixinDeviceInterfaces.includes(int))\n        ) {\n            return new AdvancedNotifierCameraMixin(\n                props,\n                this\n            );\n        } else if (\n            [ScryptedInterface.BinarySensor, ScryptedInterface.Lock].some(int => mixinDeviceInterfaces.includes(int))\n        ) {\n            return new AdvancedNotifierSensorMixin(\n                props,\n                this\n            );\n        } else if (mixinDeviceInterfaces.includes(ScryptedInterface.Notifier)) {\n            return new AdvancedNotifierNotifierMixin(\n                props,\n                this\n            );\n        }\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n\n    private getUrls(cameraId: string, time: number) {\n        const serverId = this.storageSettings.getItem('serverId');\n        const nvrUrl = this.storageSettings.getItem('nvrUrl');\n        const scryptedToken = this.storageSettings.getItem('scryptedToken');\n\n        const timelinePart = `#/timeline/${cameraId}?time=${time}&from=notification&serverId=${serverId}&disableTransition=true`;\n        const haUrl = `/api/scrypted/${scryptedToken}/endpoint/@scrypted/nvr/public/${timelinePart}`\n        const externalUrl = `${nvrUrl}/${timelinePart}`\n        return { externalUrl: externalUrl, haUrl: `/scrypted_${scryptedToken}?url=${encodeURIComponent(haUrl)}` }\n    }\n\n    private getTriggerZone = (detection: ObjectDetectionResult, rule: DetectionRule) => {\n        const { zones } = detection ?? {};\n        let zone: string;\n        if (rule?.whitelistedZones) {\n            zone = detection?.zones?.find(zoneInner => rule.whitelistedZones.includes(zoneInner));\n        } else {\n            zone = zones?.[0];\n        }\n\n        return zone;\n    }\n\n    private async getNotificationText(\n        props: {\n            device: DeviceInterface,\n            detectionTime: number,\n            detection?: ObjectDetectionResult,\n            notifierId: string,\n            externalUrl?: string,\n            textKey: string,\n            rule?: DetectionRule,\n            notifierSettings: Setting[],\n        }\n    ) {\n        const { detection, detectionTime, notifierId, device, externalUrl, textKey, notifierSettings, rule } = props;\n        const { label, className } = detection ?? {};\n\n        const roomName = this.deviceRoomMap[device.id];\n\n        let textToUse;\n        if (rule?.customText) {\n            textToUse = rule?.customText\n        } else {\n            const notifierSettingsByKey = keyBy(notifierSettings, 'key');\n            textToUse = notifierSettingsByKey[`homeassistantMetadata:${textKey}`]?.value || this.storageSettings.getItem(textKey as any);\n        }\n\n        const classNameParsed = detectionClassesDefaultMap[className];\n        const detectionTimeText = this.storageSettings.getItem(`notifier:${notifierId}:detectionTimeText` as any) || this.storageSettings.getItem('detectionTimeText');\n        const detectionClassText = classNameParsed === DetectionClass.Person ? this.storageSettings.getItem('personText') :\n            className === DetectionClass.Animal ? this.storageSettings.getItem('animalText') :\n                className === DetectionClass.Vehicle ? this.storageSettings.getItem('vehicleText') :\n                    className\n        const time = eval(detectionTimeText.replace('${time}', detectionTime));\n\n        const zone = this.getTriggerZone(detection, rule);\n\n        return textToUse.toString()\n            .replace('${time}', time)\n            .replace('${nvrLink}', externalUrl ?? '')\n            .replace('${person}', label ?? '')\n            .replace('${plate}', label ?? '')\n            .replace('${streamName}', label ?? '')\n            .replace('${label}', label ?? '')\n            .replace('${class}', detectionClassText ?? '')\n            .replace('${zone}', zone ?? '')\n            .replace('${room}', roomName ?? '');\n    }\n\n    async getNotifierData(props: {\n        notifier: DeviceBase,\n        rule?: DetectionRule | OccupancyRule,\n        deviceSettings: Setting[],\n        device: DeviceBase,\n        triggerTime: number,\n    }) {\n        const { notifier, rule, deviceSettings, triggerTime, device } = props;\n        const { priority, actions } = rule ?? {};\n\n        const { haUrl, externalUrl } = this.getUrls(device.id, triggerTime);\n\n        const haActions = (deviceSettings.find(setting => setting.key === 'homeassistantMetadata:haActions')?.value as string[]) ?? [];\n        if (actions) {\n            haActions.push(...actions);\n        }\n        let haActionsToNotify: any[] = [];\n\n        try {\n            haActions.forEach(haAction => haActionsToNotify.push(JSON.parse(haAction)));\n        } catch (e) {\n            this.getLogger().log(`Error building ha actions: ${JSON.stringify({ haActions, actions })}.`, e);\n        }\n        let data: any = {};\n\n        if (notifier.providerId === this.pushoverProviderId) {\n            // message += '\\n';\n            // for (const stringifiedAction of haActions) {\n            //     const { action, title } = JSON.parse(stringifiedAction);\n            //     const { haActionUrl } = await getWebookUrls(action, logger);\n            //     message += `<a href=\"${haActionUrl}\">${title}</a>\\n`;\n            // }\n\n            data.pushover = {\n                timestamp: triggerTime,\n                url: externalUrl,\n                html: 1,\n                priority: getPushoverPriority(priority)\n            };\n        } else if (notifier.providerId === this.haProviderId) {\n            data.ha = {\n                url: haUrl,\n                clickAction: haUrl,\n                actions: haActionsToNotify\n            }\n\n        }\n\n        return data;\n    }\n\n    async notifyCamera(props: NotifyCameraProps) {\n        try {\n            const {\n                triggerDevice,\n                cameraDevice,\n                notifierId,\n                time,\n                image: imageParent,\n                detection,\n                textKey,\n                source,\n                logger,\n                notifierSettings,\n                rule,\n                skipImage,\n            } = props;\n\n            const device = cameraDevice ?? await this.getCameraDevice(triggerDevice);\n\n            if (!device) {\n                logger.log(`There is no camera linked to the device ${triggerDevice.name}`);\n                return;\n            }\n\n            const deviceSettings = await device.getSettings();\n            const notifier = systemManager.getDeviceById(notifierId) as unknown as (Notifier & ScryptedDevice);\n\n            const { externalUrl } = this.getUrls(device.id, time);\n\n            let message = await this.getNotificationText({\n                detection,\n                externalUrl,\n                detectionTime: time,\n                notifierId,\n                textKey,\n                device: triggerDevice,\n                notifierSettings,\n                rule,\n            });\n\n            const notifierSnapshotScale = this.storageSettings.getItem(`notifier:${notifierId}:snapshotScale` as any) ?? 1;\n            const cameraSnapshotHeight = (deviceSettings.find(setting => setting.key === 'homeassistantMetadata:snapshotHeight')?.value as number) ?? 720;\n            const cameraSnapshotWidth = (deviceSettings.find(setting => setting.key === 'homeassistantMetadata:snapshotWidth')?.value as number) ?? 1280;\n\n            const { image } = !skipImage ? await this.getCameraSnapshot({\n                cameraDevice: device,\n                snapshotHeight: cameraSnapshotHeight * notifierSnapshotScale,\n                snapshotWidth: cameraSnapshotWidth * notifierSnapshotScale,\n                image: notifierSnapshotScale === 1 ? imageParent : undefined,\n            }) : {};\n\n\n            let title = (triggerDevice ?? device).name;\n\n            const zone = this.getTriggerZone(detection, rule);\n            if (zone) {\n                title += ` (${zone})`;\n            }\n\n            const notifierData = await this.getNotifierData({\n                device,\n                deviceSettings,\n                notifier,\n                rule,\n                triggerTime: time\n            });\n\n            const notifierOptions: NotifierOptions = {\n                body: message,\n                data: notifierData\n            }\n\n            logger.log(`Finally sending notification ${time} to ${notifier.name}. ${JSON.stringify({\n                notifierOptions,\n                source,\n                title,\n                message,\n                rule,\n                detection,\n            })}`);\n\n            await notifier.sendNotification(title, notifierOptions, image, undefined);\n        } catch (e) {\n            this.getLogger().log('Error in notifyCamera', e);\n        }\n    }\n\n    async executeNotificationTest() {\n        const logger = this.getLogger();\n        try {\n            const testDevice = this.storageSettings.getItem('testDevice') as DeviceInterface;\n            const testNotifier = this.storageSettings.getItem('testNotifier') as DeviceInterface;\n            const textKey = this.storageSettings.getItem('testMessage') as string;\n            const testPriority = this.storageSettings.getItem('testPriority') as NotificationPriority;\n\n            if (testDevice && textKey && testNotifier) {\n                const currentTime = new Date().getTime();\n                const testNotifierId = testNotifier.id\n                const notifierSettings = await testNotifier.getSettings();\n\n                logger.log(`Sending test notification to ${testNotifier.name} - ${testDevice.name} with key ${textKey}}`);\n\n                this.notifyCamera({\n                    triggerDevice: testDevice,\n                    notifierId: testNotifierId,\n                    time: currentTime,\n                    textKey,\n                    detection: { label: 'Familiar' } as ObjectDetectionResult,\n                    source: NotificationSource.TEST,\n                    logger,\n                    notifierSettings,\n                    rule: { priority: testPriority } as DetectionRule\n                })\n            }\n        } catch (e) {\n            logger.log('Error in executeNotificationTest', e);\n        }\n    }\n\n    async getCameraDevice(device: DeviceInterface) {\n        const deviceType = device.type;\n        const deviceId = device.id;\n        const isCamera = [ScryptedDeviceType.Camera, ScryptedDeviceType.Doorbell].includes(deviceType);\n\n        if (isCamera) {\n            return device;\n        }\n\n        const linkedCameraId = this.deviceVideocameraMap[deviceId];\n        return systemManager.getDeviceById(linkedCameraId) as unknown as DeviceInterface;\n    }\n\n    private async getCameraSnapshot(props: {\n        cameraDevice: DeviceInterface,\n        snapshotWidth: number,\n        snapshotHeight: number,\n        image?: MediaObject,\n    }) {\n        const { cameraDevice, snapshotWidth, snapshotHeight, image: imageParent } = props;\n\n        let image = imageParent;\n\n        if (!image) {\n            try {\n                image = await cameraDevice.takePicture({\n                    reason: 'event',\n                    picture: {\n                        height: snapshotHeight,\n                        width: snapshotWidth,\n                    },\n                });\n            } catch (e) {\n                this.getLogger().log('Error taking a picture', e);\n            }\n        }\n\n        let imageBuffer = await sdk.mediaManager.convertMediaObjectToBuffer(image, 'image/jpeg');\n\n        const b64Image = imageBuffer.toString('base64');\n\n        return { image, b64Image };\n    }\n\n    async getAllActiveDevices() {\n        const activeDevicesForNotifications = this.storageSettings.getItem('activeDevicesForNotifications') as string[];\n        const activeDevicesForReporting = this.storageSettings.getItem('activeDevicesForReporting') as string[];\n\n        const allActiveDevicesForNotifications = [...activeDevicesForNotifications];\n\n        const allActiveDevices: string[] = [];\n        allActiveDevicesForNotifications.forEach(device => !allActiveDevices.includes(device) && allActiveDevices.push(device));\n        activeDevicesForReporting.forEach(device => !allActiveDevices.includes(device) && allActiveDevices.push(device));\n\n        const notifiers = this.storageSettings.getItem('notifiers') as string[];\n\n        return {\n            allActiveDevices,\n            allActiveDevicesForNotifications,\n            activeDevicesForNotifications,\n            activeDevicesForReporting,\n            notifiers\n        }\n    }\n}\n\n","import { MediaObject, ObjectDetectionResult, ObjectsDetected, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface } from '@scrypted/sdk';\nimport { defaultDetectionClasses, DetectionClass, detectionClassesDefaultMap, isFaceClassname, isLabelDetection, parentDetectionClassMap } from './detecionClasses';\nimport { DetectionRule, firstUpperCase, getWebooks, ObserveZoneClasses, ObserveZoneData, OccupancyRule, OccupancyRuleData, storeWebhookImage } from './utils';\nimport { cloneDeep, groupBy } from 'lodash';\nimport MqttClient from '../../scrypted-apocaliss-base/src/mqtt-client';\n\ninterface MqttEntity {\n    entity: 'triggered' | 'lastImage' | 'lastClassname' | 'lastZones' | 'lastLabel' | string;\n    domain: 'sensor' | 'binary_sensor' | 'image' | 'switch';\n    name: string;\n    className?: DetectionClass,\n    key?: string,\n    deviceClass?: string,\n    icon?: string;\n}\n\nexport const detectionClassForObjectsReporting = [DetectionClass.Animal, DetectionClass.Person, DetectionClass.Vehicle];\n\nconst idPrefix = 'scrypted-an';\nconst namePrefix = 'Scrypted AN';\nconst peopleTrackerId = 'people-tracker';\nconst mainRuleId = 'main-rule';\nconst deviceRuleId = 'device-rule';\nconst occupancyRuleId = 'occupancy-rule';\n\nconst triggeredEntity: MqttEntity = { entity: 'triggered', name: 'Notification triggered', domain: 'binary_sensor' };\n\nconst batteryEntity: MqttEntity = {\n    domain: 'sensor',\n    entity: 'battery',\n    name: 'Battery',\n    deviceClass: 'battery'\n};\nconst onlineEntity: MqttEntity = {\n    domain: 'binary_sensor',\n    entity: 'online',\n    name: 'Online',\n    deviceClass: 'power'\n};\nconst recordingEntity: MqttEntity = {\n    domain: 'switch',\n    entity: 'recording',\n    name: 'Recording',\n    deviceClass: 'running'\n};\n\nconst deviceClassMqttEntities: MqttEntity[] = defaultDetectionClasses.flatMap(className => {\n    const parsedClassName = firstUpperCase(className);\n    const entries: MqttEntity[] = [\n        { entity: `${className}Detected`, name: `${parsedClassName} detected`, domain: 'binary_sensor', className, },\n        { entity: `${className}LastImage`, name: `${parsedClassName} last image `, domain: 'image', className },\n        {\n            entity: `${className}LastDetection`,\n            name: `${parsedClassName} last detection `,\n            domain: 'sensor',\n            className,\n            icon: 'mdi:clock',\n            deviceClass: 'timestamp'\n        },\n    ];\n\n    if (isLabelDetection(className)) {\n        entries.push({ entity: `${className}LastLabel`, name: `${parsedClassName} last recognized`, domain: 'sensor', className });\n    }\n\n    if (detectionClassForObjectsReporting.includes(className)) {\n        entries.push({ entity: `${className}Objects`, name: `${parsedClassName} objects`, domain: 'sensor', className });\n    }\n\n    return entries;\n});\n\nconst deviceClassMqttEntitiesGrouped = groupBy(deviceClassMqttEntities, entry => entry.className);\n\nexport const getDetectionRuleId = (rule: DetectionRule) => `${rule.source}_${rule.name.replace(/\\s/g, '')}`;\nexport const getOccupancyRuleId = (rule: OccupancyRule) => `occupancy_${rule.name.replace(/\\s/g, '')}`;\n\nexport const getMqttTopicTopics = (deviceId: string) => {\n    const getEntityTopic = (entity: string) => `scrypted/advancedNotifier/${deviceId}/${entity}`;\n    const getCommandTopic = (entity: string) => `${getEntityTopic(entity)}/set`;\n    const getInfoTopic = (entity: string) => `${getEntityTopic(entity)}/info`;\n    const getDiscoveryTopic = (domain: MqttEntity['domain'], entity: string) => `homeassistant/${domain}/${idPrefix}-${deviceId}/${entity}/config`;\n\n    return {\n        getEntityTopic,\n        getDiscoveryTopic,\n        getInfoTopic,\n        getCommandTopic,\n    }\n}\n\n\nconst getPersonStrings = (person: string) => {\n    const personId = person.trim().replace(' ', '_');\n\n    return {\n        personId,\n        personName: person,\n    }\n}\n\nexport const getRuleStrings = (rule: DetectionRule) => {\n    const entityId = rule.name.trim().replace(' ', '_');\n    const ruleDeviceId = rule.deviceId ? `${deviceRuleId}-${rule.name}` : mainRuleId;\n\n    return { entityId, ruleDeviceId };\n}\n\nexport const getOccupancyRuleStrings = (rule: OccupancyRule) => {\n    const entityId = rule.name.trim().replace(' ', '_');\n    const ruleDeviceId = `${occupancyRuleId}-${rule.name}`;\n\n    return { entityId, ruleDeviceId };\n}\n\nexport const getObserveZoneStrings = (zoneName: string, className: DetectionClass) => {\n    const parsedClassName = firstUpperCase(className);\n    const parsedZoneName = zoneName.trim().replace(' ', '_');\n    const entityId = `${parsedZoneName}_${className}_Objects`;\n    const name = `${parsedZoneName} ${parsedClassName} objects`;\n\n    return { entityId, name };\n}\n\nconst mqttMainSettingsDevice = {\n    manufacturer: namePrefix,\n    ids: `${idPrefix}-main-settings`,\n    name: `${namePrefix} main settings`,\n};\n\nexport const setupPluginAutodiscovery = async (props: {\n    mqttClient: MqttClient,\n    people: string[],\n    console: Console,\n    detectionRules: DetectionRule[];\n}) => {\n    const { people, mqttClient, detectionRules } = props;\n\n    const mqttPeopleTrackerDevice = {\n        ...getMqttDevice(),\n        ids: `${idPrefix}-${peopleTrackerId}`,\n        name: `${namePrefix} people tracker`\n    };\n\n    const { getDiscoveryTopic, getEntityTopic } = getMqttTopicTopics(peopleTrackerId);\n\n    for (const person of people) {\n        const { personId, personName } = getPersonStrings(person);\n        const config = {\n            dev: mqttPeopleTrackerDevice,\n            unique_id: `${idPrefix}-${peopleTrackerId}-${personId}`,\n            name: personName,\n            object_id: `${idPrefix}-${peopleTrackerId}-${personId}`,\n            state_topic: getEntityTopic(personId)\n        };\n\n        await mqttClient.publish(getDiscoveryTopic('sensor', personId), JSON.stringify(config));\n    }\n\n    for (const detectionRule of detectionRules) {\n        const { entityId, ruleDeviceId } = getRuleStrings(detectionRule);\n        const { getCommandTopic, getEntityTopic, getDiscoveryTopic } = getMqttTopicTopics(ruleDeviceId);\n        const commandTopic = getCommandTopic(entityId);\n        const stateTopic = getEntityTopic(entityId);\n\n        const detectionRuleEnabledConfig = {\n            dev: mqttMainSettingsDevice,\n            unique_id: `${mainRuleId}-rule-${entityId}`,\n            name: `Main rule ${detectionRule.name}`,\n            platform: 'switch',\n            command_topic: commandTopic,\n            state_topic: stateTopic,\n            optimistic: false,\n            retain: true,\n            qos: 0\n        };\n\n        await mqttClient.publish(getDiscoveryTopic('switch', entityId), JSON.stringify(detectionRuleEnabledConfig));\n    }\n}\n\nexport const subscribeToMainMqttTopics = async (\n    props: {\n        mqttClient: MqttClient,\n        entitiesActiveTopic?: string,\n        detectionRules: DetectionRule[],\n        activeEntitiesCb: (activeEntities: string[]) => void,\n        ruleCb: (props: {\n            ruleName: string;\n            active: boolean\n        }) => void\n    }\n) => {\n    const { activeEntitiesCb, entitiesActiveTopic, mqttClient, detectionRules, ruleCb } = props;\n    if (entitiesActiveTopic) {\n        mqttClient.subscribe([entitiesActiveTopic], async (messageTopic, message) => {\n            const messageString = message.toString();\n            if (messageTopic === entitiesActiveTopic) {\n                activeEntitiesCb(messageString !== 'null' ? JSON.parse(messageString) : [])\n            }\n        });\n    }\n\n    for (const detectionRule of detectionRules) {\n        const { entityId, ruleDeviceId } = getRuleStrings(detectionRule);\n        const { getCommandTopic, getEntityTopic } = getMqttTopicTopics(ruleDeviceId);\n\n        const commandTopic = getCommandTopic(entityId);\n        const stateTopic = getEntityTopic(entityId);\n\n        await mqttClient.subscribe([commandTopic, stateTopic], async (messageTopic, message) => {\n            if (messageTopic === commandTopic) {\n                ruleCb({\n                    active: message === 'ON',\n                    ruleName: detectionRule.name,\n                });\n\n                await mqttClient.publish(stateTopic, message);\n            }\n        });\n    }\n}\n\nexport const subscribeToDeviceMqttTopics = async (\n    props: {\n        mqttClient: MqttClient,\n        detectionRules: DetectionRule[],\n        occupancyRules?: OccupancyRule[],\n        device: ScryptedDeviceBase,\n        switchRecordingCb?: (active: boolean) => void,\n        detectionRuleCb: (props: {\n            ruleName: string;\n            active: boolean\n        }) => void,\n        occupancyRuleCb?: (props: {\n            ruleName: string;\n            active: boolean\n        }) => void\n    }\n) => {\n    const { mqttClient, detectionRules, occupancyRules, detectionRuleCb, switchRecordingCb, occupancyRuleCb, device } = props;\n\n    for (const detectionRule of detectionRules) {\n        const { entityId, ruleDeviceId } = getRuleStrings(detectionRule);\n        const { getCommandTopic, getEntityTopic } = getMqttTopicTopics(ruleDeviceId);\n\n        const commandTopic = getCommandTopic(entityId);\n        const stateTopic = getEntityTopic(entityId);\n\n        await mqttClient.subscribe([commandTopic, stateTopic], async (messageTopic, message) => {\n            if (messageTopic === commandTopic) {\n                detectionRuleCb({\n                    active: message === 'ON',\n                    ruleName: detectionRule.name,\n                });\n\n                await mqttClient.publish(stateTopic, message);\n            }\n        });\n    }\n\n    if (occupancyRuleCb) {\n        for (const occupancyRule of occupancyRules) {\n            const { entityId, ruleDeviceId } = getOccupancyRuleStrings(occupancyRule);\n            const { getCommandTopic, getEntityTopic } = getMqttTopicTopics(ruleDeviceId);\n\n            const commandTopic = getCommandTopic(entityId);\n            const stateTopic = getEntityTopic(entityId);\n\n            await mqttClient.subscribe([commandTopic, stateTopic], async (messageTopic, message) => {\n                if (messageTopic === commandTopic) {\n                    occupancyRuleCb({\n                        active: message === 'ON',\n                        ruleName: occupancyRule.name,\n                    });\n\n                    await mqttClient.publish(stateTopic, message);\n                }\n            });\n        }\n    }\n\n    const { getCommandTopic, getEntityTopic } = getMqttTopicTopics(device.id);\n\n    if (switchRecordingCb) {\n        const commandTopic = getCommandTopic(recordingEntity.entity);\n        const stateTopic = getEntityTopic(recordingEntity.entity);\n        await mqttClient.subscribe([commandTopic, stateTopic], async (messageTopic, message) => {\n            if (messageTopic === commandTopic) {\n                switchRecordingCb(message === 'ON');\n\n                await mqttClient.publish(stateTopic, message);\n            }\n        });\n    }\n}\n\nconst getMqttDevice = (device?: ScryptedDeviceBase) => {\n    if (device) {\n        return {\n            ids: `${idPrefix}-${device.id}`,\n            name: `${device.name}`,\n            manufacturer: namePrefix,\n            model: `${device?.info?.manufacturer ?? ''} ${device?.info?.model ?? ''}`,\n            via_device: mqttMainSettingsDevice.ids\n        }\n    } else {\n        return {\n            manufacturer: namePrefix,\n            via_device: mqttMainSettingsDevice.ids\n        }\n    }\n}\n\nconst getDeviceClassEntities = (device: ScryptedDeviceBase) => {\n    let classes: DetectionClass[] = [];\n    if (device.type === ScryptedDeviceType.Camera || device.type === ScryptedDeviceType.Doorbell) {\n        classes = [\n            DetectionClass.Motion,\n            DetectionClass.Person,\n            DetectionClass.Vehicle,\n            DetectionClass.Animal,\n            DetectionClass.Face,\n            DetectionClass.Plate,\n            DetectionClass.Package,\n        ]\n    } else if (device.type === ScryptedDeviceType.Sensor) {\n        classes = [DetectionClass.DoorSensor];\n    } else if (device.type === ScryptedDeviceType.Lock) {\n        classes = [DetectionClass.DoorLock]\n    }\n\n    return deviceClassMqttEntities.filter(entry => !entry.className || classes.includes(entry.className));\n}\n\nexport const setupDeviceAutodiscovery = async (props: {\n    mqttClient: MqttClient,\n    device: ScryptedDeviceBase,\n    console: Console,\n    withDetections?: boolean,\n    deviceClass: string,\n    detectionRules: DetectionRule[],\n    occupancyRules?: OccupancyRule[],\n}) => {\n    const { device, withDetections, deviceClass, mqttClient, detectionRules, occupancyRules } = props;\n    const { id } = device;\n\n    const mqttdevice = getMqttDevice(device);\n\n    const { getDiscoveryTopic, getEntityTopic, getCommandTopic } = getMqttTopicTopics(device.id);\n    const allEntities = [triggeredEntity, ...getDeviceClassEntities(device)];\n    const entitiesToRun = withDetections ?\n        allEntities :\n        [triggeredEntity];\n\n    if (device.interfaces.includes(ScryptedInterface.Battery)) {\n        entitiesToRun.push(cloneDeep(batteryEntity));\n    }\n\n    if (device.interfaces.includes(ScryptedInterface.Online)) {\n        entitiesToRun.push(cloneDeep(onlineEntity));\n    }\n\n    const getConfig = (entity: string, name: string, deviceClassParent?: string, icon?: string) => ({\n        dev: mqttdevice,\n        unique_id: `${idPrefix}-${id}-${entity}`,\n        object_id: `${device.name}_${entity}`,\n        name,\n        device_class: deviceClassParent ?? (entity === 'triggered' || entity.includes('Detected') ? deviceClass : undefined),\n        icon\n    } as any);\n\n    for (const mqttEntity of entitiesToRun) {\n        const { domain, entity, name, deviceClass: deviceClassParent, icon } = mqttEntity;\n\n        const config = getConfig(entity, name, deviceClassParent, icon);\n        const topic = getEntityTopic(entity);\n\n        if (domain === 'binary_sensor') {\n            config.payload_on = 'true';\n            config.payload_off = 'false';\n            config.state_topic = topic;\n        }\n        if (domain === 'image') {\n            config.image_topic = topic;\n            config.image_encoding = 'b64';\n            config.state_topic = topic;\n        }\n        if (domain === 'sensor') {\n            config.state_topic = topic;\n        }\n\n        await mqttClient.publish(getDiscoveryTopic(domain, entity), JSON.stringify(config));\n    }\n\n    if (device.interfaces.includes(ScryptedInterface.VideoRecorder)) {\n        const stateTopic = getEntityTopic(recordingEntity.entity);\n        const commandTopic = getCommandTopic(recordingEntity.entity);\n\n        const config = {\n            dev: mqttdevice,\n            unique_id: `${idPrefix}-${id}-${recordingEntity.entity}`,\n            object_id: `${device.name}_${recordingEntity.entity}`,\n            name: `${recordingEntity.name}`,\n            platform: 'switch',\n            command_topic: commandTopic,\n            state_topic: stateTopic,\n            optimistic: false,\n            retain: true,\n            qos: 0\n        };\n\n        await mqttClient.publish(getDiscoveryTopic(recordingEntity.domain, recordingEntity.entity), JSON.stringify(config));\n    }\n\n    for (const detectionRule of detectionRules) {\n        const { entityId, ruleDeviceId } = getRuleStrings(detectionRule);\n        const { getCommandTopic, getEntityTopic, getDiscoveryTopic } = getMqttTopicTopics(ruleDeviceId);\n        const commandTopic = getCommandTopic(entityId);\n        const stateTopic = getEntityTopic(entityId);\n\n        const detectionRuleEnabledConfig = {\n            dev: mqttdevice,\n            unique_id: `${idPrefix}-${id}-${ruleDeviceId}`,\n            object_id: `${device.name}_${ruleDeviceId}`,\n            name: `${detectionRule.name} rule`,\n            platform: 'switch',\n            command_topic: commandTopic,\n            state_topic: stateTopic,\n            optimistic: false,\n            retain: true,\n            qos: 0,\n        };\n\n        await mqttClient.publish(getDiscoveryTopic('switch', entityId), JSON.stringify(detectionRuleEnabledConfig));\n    }\n\n    for (const occupancyRule of occupancyRules) {\n        const { entityId, ruleDeviceId } = getOccupancyRuleStrings(occupancyRule);\n        const { getCommandTopic, getEntityTopic, getDiscoveryTopic } = getMqttTopicTopics(ruleDeviceId);\n        const commandTopic = getCommandTopic(entityId);\n        const stateTopic = getEntityTopic(entityId);\n\n        const detectionRuleEnabledConfig = {\n            dev: mqttdevice,\n            unique_id: `${idPrefix}-${id}-${ruleDeviceId}`,\n            object_id: `${device.name}_${ruleDeviceId}`,\n            name: `${occupancyRule.name} rule`,\n            platform: 'switch',\n            command_topic: commandTopic,\n            state_topic: stateTopic,\n            optimistic: false,\n            retain: true,\n            qos: 0,\n        };\n\n        await mqttClient.publish(getDiscoveryTopic('switch', entityId), JSON.stringify(detectionRuleEnabledConfig));\n    }\n}\n\nexport const discoverDetectionRules = async (props: {\n    mqttClient: MqttClient\n    device: ScryptedDeviceBase,\n    console: Console,\n    rules?: DetectionRule[],\n}) => {\n    const { device, rules, mqttClient } = props;\n    const { id } = device;\n\n    const mqttdevice = getMqttDevice(device);\n\n    const { getDiscoveryTopic, getEntityTopic } = getMqttTopicTopics(device.id);\n\n    for (const rule of rules) {\n        const entity = getDetectionRuleId(rule);\n        const topic = getEntityTopic(entity);\n\n        const config: any = {\n            dev: mqttdevice,\n            unique_id: `${idPrefix}-${id}-${entity}`,\n            name: `Rule ${rule.name}`,\n            object_id: `${device.name}_${entity}`,\n            device_class: 'motion',\n            payload_on: 'true',\n            payload_off: 'false',\n            state_topic: topic,\n        };\n\n        await mqttClient.publish(getDiscoveryTopic('binary_sensor', entity), JSON.stringify(config));\n    }\n}\n\nexport const discoverOccupancyRules = async (props: {\n    mqttClient: MqttClient\n    device: ScryptedDeviceBase,\n    console: Console,\n    rules?: OccupancyRule[],\n}) => {\n    const { device, rules, mqttClient } = props;\n    const { id } = device;\n\n    const mqttdevice = getMqttDevice(device);\n\n    const { getDiscoveryTopic, getEntityTopic } = getMqttTopicTopics(device.id);\n\n    for (const rule of rules) {\n        const entity = getOccupancyRuleId(rule);\n        const topic = getEntityTopic(entity);\n\n        const config: any = {\n            dev: mqttdevice,\n            unique_id: `${idPrefix}-${id}-${entity}`,\n            name: `Rule ${rule.name}`,\n            object_id: `${device.name}_${entity}`,\n            device_class: 'occupancy',\n            payload_on: 'true',\n            payload_off: 'false',\n            state_topic: topic,\n        };\n\n        await mqttClient.publish(getDiscoveryTopic('binary_sensor', entity), JSON.stringify(config));\n    }\n}\n\nexport const publishRelevantDetections = async (props: {\n    mqttClient: MqttClient,\n    device: ScryptedDeviceBase,\n    console: Console,\n    detections?: ObjectDetectionResult[],\n    triggerTime: number,\n    b64Image?: string,\n    image?: MediaObject,\n    reset?: boolean,\n    room?: string,\n}) => {\n    const { mqttClient, device, detections = [], triggerTime, console, b64Image, image, reset, room } = props;\n    try {\n        const { getEntityTopic } = getMqttTopicTopics(device.id);\n\n        for (const detection of detections) {\n            const detectionClass = detectionClassesDefaultMap[detection.className];\n            if (detectionClass) {\n                const entitiesToPublish = deviceClassMqttEntitiesGrouped[detectionClass] ?? [];\n                console.debug(`Relevant detections to publish: ${JSON.stringify({ detections, entitiesToPublish })}`);\n\n                for (const entry of entitiesToPublish) {\n                    const { entity } = entry;\n                    let value: any;\n                    let retain: true;\n\n                    if (entity.includes('Detected')) {\n                        value = true;\n                    } else if (entity.includes('LastLabel')) {\n                        value = detection?.label || null;\n                    } else if (entity.includes('LastDetection')) {\n                        value = new Date(triggerTime).toISOString();\n                    } else if (entity.includes('LastImage') && b64Image) {\n                        // if (isFaceClassname(detectionClass)) {\n                        // const { b64Image: newB64Image } = await addBoundingToImage(detection.boundingBox,\n                        //     await sdk.mediaManager.convertMediaObjectToBuffer(image, 'image/jpeg'),\n                        //     console,\n                        //     detectionClass);\n                        // console.log(newB64Image);\n                        // }\n                        value = b64Image || null;\n                        retain = true;\n                    }\n\n                    if (value) {\n                        await mqttClient.publish(getEntityTopic(entity), value, retain);\n                    }\n                }\n\n                const person = detection.label;\n                if (isFaceClassname(detection.className) && person && room) {\n                    const { personId } = getPersonStrings(person);\n                    const { getEntityTopic } = getMqttTopicTopics(peopleTrackerId);\n                    console.debug(`Person ${person} (${personId}) detected in room ${room}. Publishing topic ${getEntityTopic(personId)} with room ${room}`);\n                    await mqttClient.publish(getEntityTopic(personId), room, true);\n                }\n\n                if (image && !reset) {\n                    const { lastSnapshot } = await getWebooks();\n                    await storeWebhookImage({\n                        deviceId: device.id,\n                        image,\n                        logger: console,\n                        webhook: lastSnapshot\n                    }).catch(console.log);\n                    await storeWebhookImage({\n                        deviceId: device.id,\n                        image,\n                        logger: console,\n                        webhook: `${lastSnapshot}_${detectionClass}`\n                    }).catch(console.log);\n                }\n            } else {\n                console.log(`${detection.className} not found`);\n            }\n        }\n\n        if (reset) {\n            for (const entry of getDeviceClassEntities(device)) {\n                const { entity } = entry;\n\n                if (entity.includes('Detected')) {\n                    await mqttClient.publish(getEntityTopic(entity), false);\n                }\n            }\n        }\n    } catch (e) {\n        console.log(`Error publishing ${JSON.stringify({\n            detections,\n            triggerTime,\n        })}`, e);\n    }\n}\n\nexport const reportDeviceValues = async (props: {\n    mqttClient: MqttClient,\n    device: ScryptedDeviceBase,\n    isRecording: boolean,\n    console: Console\n}) => {\n    const { device, mqttClient, isRecording } = props;\n    const { getEntityTopic } = getMqttTopicTopics(device.id);\n\n    if (device.interfaces.includes(ScryptedInterface.Battery) && device.batteryLevel) {\n        await mqttClient.publish(getEntityTopic(batteryEntity.entity), device.batteryLevel, true);\n    }\n    if (device.interfaces.includes(ScryptedInterface.Online)) {\n        await mqttClient.publish(getEntityTopic(onlineEntity.entity), device.online, true);\n    }\n    if (device.interfaces.includes(ScryptedInterface.VideoRecorder)) {\n        await mqttClient.publish(getEntityTopic(recordingEntity.entity), isRecording ? 'ON' : 'OFF', true);\n    }\n}\n\nexport const publishDeviceState = async (props: {\n    mqttClient: MqttClient,\n    device: ScryptedDeviceBase,\n    console: Console,\n    triggered: boolean,\n    b64Image?: string,\n    detection?: ObjectDetectionResult,\n    resettAllClasses?: boolean,\n    rule?: DetectionRule,\n    allRuleIds?: string[],\n}) => {\n    const { mqttClient, device, triggered, console, detection, b64Image, resettAllClasses, rule, allRuleIds } = props;\n    try {\n        const detectionClass = detection?.className ? detectionClassesDefaultMap[detection.className] : undefined;\n        console.debug(`Trigger entities to publish: ${JSON.stringify(triggeredEntity)}`)\n        const { getEntityTopic } = getMqttTopicTopics(device.id);\n\n        const { entity } = triggeredEntity;\n\n        const value: any = triggered;\n        const retain = true;\n\n        if (value !== null) {\n            await mqttClient.publish(getEntityTopic(entity), value, retain);\n        }\n\n        if (rule) {\n            await mqttClient.publish(getEntityTopic(getDetectionRuleId(rule)), true, true);\n        }\n\n        if (detection) {\n            const parentClass = parentDetectionClassMap[detectionClass];\n            const specificClassEntries = deviceClassMqttEntitiesGrouped[detectionClass] ?? [];\n            const parentClassEntries = parentClass ? deviceClassMqttEntitiesGrouped[parentClass] ?? [] : [];\n\n            const classEntries = [...specificClassEntries, ...parentClassEntries];\n            console.debug(`Updating following entities related to ${detectionClass}. ${JSON.stringify({ classEntries, b64Image: !!b64Image })}`);\n            for (const entry of classEntries) {\n                const { entity } = entry;\n                let value;\n                let retain = true;\n\n                if (entity.includes('Detected')) {\n                    value = true;\n                } else if (entity.includes('LastImage')) {\n                    value = b64Image || null;\n                    retain = false;\n                } else if (entity.includes('LastLabel')) {\n                    value = detection?.label || null;\n                }\n\n                if (value != null) {\n                    await mqttClient.publish(getEntityTopic(entity), value, retain);\n                }\n            }\n        }\n\n        if (resettAllClasses) {\n            // Resetting all detection classes\n            for (const entry of getDeviceClassEntities(device)) {\n                const { entity } = entry;\n\n                if (entity.includes('Detected')) {\n                    await mqttClient.publish(getEntityTopic(entity), false);\n                }\n            }\n\n            // Resetting all the rule triggers\n            if (allRuleIds) {\n                for (const ruleId of allRuleIds) {\n                    await mqttClient.publish(getEntityTopic(ruleId), false);\n                }\n            }\n\n            // Resetting main trigger\n            await mqttClient.publish(getEntityTopic(triggeredEntity.entity), false);\n        }\n    } catch (e) {\n        console.log(`Error publishing`, e);\n    }\n}\n\nexport const publishOccupancy = async (props: {\n    mqttClient: MqttClient,\n    device: ScryptedDeviceBase,\n    console: Console,\n    objectsDetected: ObjectsDetected,\n    observeZonesClasses: ObserveZoneClasses,\n    occupancyRulesData: OccupancyRuleData[]\n}) => {\n    const { mqttClient, device, objectsDetected, occupancyRulesData } = props;\n    try {\n        const { getEntityTopic } = getMqttTopicTopics(device.id);\n\n        const entities = deviceClassMqttEntities.filter(entity => entity.entity.includes('Objects'));\n        for (const classEntity of entities) {\n            const classObjects = objectsDetected.detections.filter(det => classEntity.className === detectionClassesDefaultMap[det.className])?.length;\n\n            await mqttClient.publish(getEntityTopic(classEntity.entity), classObjects, true);\n        }\n\n        // for (const zoneData of Object.entries(observeZonesClasses)) {\n        //     const [zoneName, zoneDataOfClasses] = zoneData;\n        //     for (const zoneClassData of Object.entries(zoneDataOfClasses)) {\n        //         const [className, objects] = zoneClassData;\n        //         const { entityId } = getObserveZoneStrings(zoneName, className as DetectionClass);\n\n        //         await mqttClient.publish(getEntityTopic(entityId), objects, true);\n        //     }\n        // }\n\n        for (const occupancyRule of occupancyRulesData) {\n            const { occupies, rule } = occupancyRule;\n\n            await mqttClient.publish(getEntityTopic(getOccupancyRuleId(rule)), occupies, true);\n        }\n    } catch (e) {\n        console.log(`Error publishing ${JSON.stringify({\n            objectsDetected,\n        })}`, e);\n    }\n}\n","\nimport sdk, { ScryptedDeviceBase, Notifier, NotifierOptions, MediaObject, ScryptedDevice, Settings, Setting, SettingValue, ScryptedInterface } from '@scrypted/sdk';\nimport AdvancedNotifierPlugin from './main';\nimport { delay } from 'lodash';\nimport { DeviceInterface } from './utils';\nconst { systemManager } = sdk;\n\nexport class AdvancedNotifierNotifier extends ScryptedDeviceBase implements Notifier {\n    constructor(nativeId: string, private plugin: AdvancedNotifierPlugin) {\n        super(nativeId);\n\n        (async () => {\n            const scryptedNvrUserDevice = systemManager.getDeviceByName('Scrypted NVR Users');\n            const mixins = (this.mixins || []).slice();\n            if (scryptedNvrUserDevice && !mixins.includes(scryptedNvrUserDevice.id)) {\n                mixins.push(scryptedNvrUserDevice.id);\n            }\n            // if (!mixins.includes(this.plugin.id)) {\n            //     mixins.push(this.plugin.id);\n            // }\n            const plugins = await systemManager.getComponent('plugins');\n            await plugins.setMixins(this.id, mixins);\n\n            setTimeout(async () => {\n                const thisDevice = systemManager.getDeviceById<Settings>(this.id);\n                const settings = await thisDevice.getSettings();\n\n                const defaultNotificationsSetting = settings.find(setting => setting.key === 'nvr:defaultNotifications');\n                await thisDevice.putSetting('nvr:defaultNotifications', defaultNotificationsSetting.choices);\n\n                const allUsers = Object.keys(sdk.systemManager.getSystemState())\n                    .map(deviceId => sdk.systemManager.getDeviceById(deviceId) as unknown as DeviceInterface)\n                    .filter(device => device.interfaces.includes(ScryptedInterface.ScryptedUser));\n\n                await thisDevice.putSetting('nvr:userId', allUsers[0].id);\n                this.plugin.getLogger().log(`Default notifier initialized to all notification types and user ${allUsers[0].name}. The user should be most likely be enabled to all cameras to proxy them on the plugin`);\n            }, 2000);\n        })();\n    }\n\n    async sendNotification(title: string, options?: NotifierOptions, media?: MediaObject, icon?: MediaObject | string): Promise<void> {\n        await this.plugin.onNvrNotification(title, options, media, icon);\n    }\n}\n","import { NotifierOptions, MediaObject, Setting, Settings } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { getTextSettings } from \"./utils\";\nimport HomeAssistantUtilitiesProvider from \"./main\";\n\nexport type SendNotificationToPluginFn = (notifierId: string, title: string, options?: NotifierOptions, media?: MediaObject, icon?: MediaObject | string) => Promise<void>\n\nexport class AdvancedNotifierNotifierMixin extends SettingsMixinDeviceBase<any> implements Settings {\n    storageSettings = new StorageSettings(this, {\n        snapshotScale: {\n            subgroup: 'Notifier',\n            title: 'Snapshot scale',\n            type: 'number',\n            defaultValue: 1,\n        },\n        ...getTextSettings(true) as any\n    });\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: HomeAssistantUtilitiesProvider\n    ) {\n        super(options);\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        const settings: Setting[] = await this.storageSettings.getSettings();\n\n        return settings;\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storage.setItem(key, typeof value === 'string' ? value : JSON.stringify(value));\n    }\n}","import sdk, { ScryptedInterface, Setting, Settings, EventListenerRegister, ScryptedDeviceBase, ScryptedDeviceType, MediaObject, LockState } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { DetectionRule, detectRuleEnabledRegex, EventType, getDetectionRuleKeys, getDetectionRulesSettings, getMixinBaseSettings, isDeviceEnabled } from \"./utils\";\nimport HomeAssistantUtilitiesProvider from \"./main\";\nimport { discoverDetectionRules, getDetectionRuleId, publishDeviceState, setupDeviceAutodiscovery, subscribeToDeviceMqttTopics } from \"./mqtt-utils\";\n\nconst { systemManager } = sdk;\n\nexport class AdvancedNotifierSensorMixin extends SettingsMixinDeviceBase<any> implements Settings {\n    storageSettings = new StorageSettings(this, {\n        ...getMixinBaseSettings(this.name, false),\n        minDelayTime: {\n            subgroup: 'Notifier',\n            title: 'Minimum notification delay',\n            description: 'Minimum amount of seconds to wait until a notification is sent. Set 0 to disable',\n            type: 'number',\n            defaultValue: 0,\n        },\n        linkedCamera: {\n            title: 'Linked camera',\n            type: 'device',\n            subgroup: 'Notifier',\n            deviceFilter: `(type === '${ScryptedDeviceType.Camera}' || type === '${ScryptedDeviceType.Doorbell}')`,\n            immediate: true,\n        },\n    });\n\n    detectionListener: EventListenerRegister;\n    mainLoopListener: NodeJS.Timeout;\n    isActiveForNotifications: boolean;\n    isActiveForNvrNotifications: boolean;\n    isActiveForMqttReporting: boolean;\n    mainAutodiscoveryDone: boolean;\n    mqttReportInProgress: boolean;\n    logger: Console;\n    killed: boolean;\n    detectionRules: DetectionRule[];\n    nvrDetectionRules: DetectionRule[];\n    rulesDiscovered: string[] = [];\n    lastDetection: number;\n    event: ScryptedInterface;\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: HomeAssistantUtilitiesProvider\n    ) {\n        super(options);\n\n        const isLock = this.type === ScryptedDeviceType.Lock;\n        this.event = isLock ? ScryptedInterface.Lock : ScryptedInterface.BinarySensor;\n\n        this.storageSettings.settings.room.onGet = async () => {\n            const rooms = this.plugin.storageSettings.getItem('fetchedRooms');\n            return {\n                choices: rooms ?? []\n            }\n        }\n        this.storageSettings.settings.entityId.onGet = async () => {\n            const entities = this.plugin.storageSettings.getItem('fetchedEntities');\n            return {\n                choices: entities ?? []\n            }\n        }\n\n        this.startCheckInterval().then().catch(this.console.log);\n\n        this.plugin.currentMixinsMap[this.name] = this;\n    }\n\n    async startCheckInterval() {\n        const logger = this.getLogger();\n\n        const funct = async () => {\n            const deviceSettings = await this.getMixinSettings();\n            const {\n                isActiveForMqttReporting,\n                isPluginEnabled,\n                detectionRules,\n                skippedRules,\n                isActiveForNotifications,\n                isActiveForNvrNotifications,\n                nvrRules,\n                allDeviceRules\n            } = await isDeviceEnabled(this.id, deviceSettings, this.plugin, this.type);\n\n            logger.debug(`Detected rules: ${JSON.stringify({ detectionRules, skippedRules })}`);\n            this.detectionRules = detectionRules;\n            this.nvrDetectionRules = nvrRules;\n\n            this.isActiveForNotifications = isActiveForNotifications;\n            this.isActiveForMqttReporting = isActiveForMqttReporting;\n\n            const isCurrentlyRunning = !!this.detectionListener;\n            const shouldRun = this.isActiveForMqttReporting || this.isActiveForNotifications;\n\n            if (isActiveForMqttReporting) {\n                const mqttClient = await this.plugin.getMqttClient();\n                if (mqttClient) {\n                    const device = systemManager.getDeviceById(this.id) as unknown as ScryptedDeviceBase & Settings;\n                    if (!this.mainAutodiscoveryDone) {\n                        await setupDeviceAutodiscovery({\n                            mqttClient,\n                            device,\n                            console: logger,\n                            withDetections: true,\n                            deviceClass: this.storageSettings.values.haDeviceClass || 'window',\n                            detectionRules: allDeviceRules,\n                        });\n\n                        this.getLogger().log(`Subscribing to mqtt topics`);\n                        await subscribeToDeviceMqttTopics({\n                            mqttClient,\n                            detectionRules: allDeviceRules,\n                            device,\n                            detectionRuleCb: async ({ active, ruleName }) => {\n                                const { enabledKey } = getDetectionRuleKeys(ruleName);\n                                logger.log(`Setting rule ${ruleName} for device ${device.name} to ${active}`);\n                                await device.putSetting(`homeassistantMetadata:${enabledKey}`, active);\n                            },\n                        });\n\n                        this.mainAutodiscoveryDone = true;\n                    }\n\n                    const missingRules = detectionRules.filter(rule => !this.rulesDiscovered.includes(getDetectionRuleId(rule)));\n                    if (missingRules.length) {\n                        await discoverDetectionRules({\n                            mqttClient,\n                            console: logger,\n                            device,\n                            rules: missingRules\n                        });\n                        this.rulesDiscovered.push(...missingRules.map(rule => getDetectionRuleId(rule)))\n                    }\n                }\n            }\n\n            if (isCurrentlyRunning && !shouldRun) {\n                logger.log('Stopping and cleaning listeners.');\n                this.resetListeners();\n            } else if (!isCurrentlyRunning && shouldRun) {\n                logger.log(`Starting ${this.event} listener: ${JSON.stringify({\n                    notificationsActive: isActiveForNotifications,\n                    mqttReportsActive: isActiveForMqttReporting,\n                    isPluginEnabled,\n                })}`);\n                await this.startListeners();\n            }\n            if (isActiveForNvrNotifications && !this.isActiveForNvrNotifications) {\n                logger.log(`Starting listener for NVR events`);\n            } else if (!isActiveForNvrNotifications && this.isActiveForNvrNotifications) {\n                logger.log(`Stopping listener for NVR events`);\n            }\n\n            this.isActiveForNvrNotifications = isActiveForNvrNotifications;\n        };\n\n        this.mainLoopListener = setInterval(async () => {\n            try {\n                if (this.killed) {\n                    await this.release();\n                } else {\n                    await funct();\n                }\n            } catch (e) {\n                logger.log('Error in startCheckInterval', e);\n            }\n        }, 10000);\n    }\n\n    resetListeners() {\n        if (this.detectionListener) {\n            this.getLogger().log('Resetting listeners.');\n        }\n\n        this.detectionListener && this.detectionListener.removeListener();\n        this.detectionListener = undefined;\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        const settings: Setting[] = await this.storageSettings.getSettings();\n\n\n        const detectionRulesSettings = await getDetectionRulesSettings({\n            storage: this.storageSettings,\n            groupName: 'Advanced notifier detection rules',\n        });\n        settings.push(...detectionRulesSettings);\n\n        return settings;\n    }\n\n    async putMixinSetting(key: string, value: string, skipMqtt?: boolean) {\n        if (!skipMqtt) {\n            const enabledResult = detectRuleEnabledRegex.exec(key);\n            if (enabledResult) {\n                const ruleName = enabledResult[1];\n                await this.plugin.updateDetectionRuleOnMqtt({\n                    active: JSON.parse(value as string ?? 'false'),\n                    logger: this.getLogger(),\n                    ruleName,\n                    deviceId: this.id\n                })\n            }\n        }\n\n        this.storage.setItem(key, typeof value === 'string' ? value : JSON.stringify(value));\n    }\n\n    async release() {\n        this.killed = true;\n        this.mainLoopListener && clearInterval(this.mainLoopListener);\n        this.mainLoopListener = undefined;\n        this.resetListeners();\n    }\n\n    private getLogger() {\n        const deviceConsole = sdk.deviceManager.getMixinConsole(this.id, this.nativeId);\n\n        if (!this.logger) {\n            const log = (debug: boolean, message?: any, ...optionalParams: any[]) => {\n                const now = new Date().toLocaleString();\n                if (!debug || this.storageSettings.getItem('debug')) {\n                    deviceConsole.log(` ${now} - `, message, ...optionalParams);\n                }\n            };\n            this.logger = {\n                log: (message?: any, ...optionalParams: any[]) => log(false, message, ...optionalParams),\n                debug: (message?: any, ...optionalParams: any[]) => log(true, message, ...optionalParams),\n            } as Console\n        }\n\n        return this.logger;\n    }\n\n    async startListeners() {\n        this.detectionListener = systemManager.listenDevice(this.id, this.event, async (_, __, triggered) => {\n            const timestamp = new Date().getTime();\n\n            const isTriggered = triggered ===\n                (this.event === ScryptedInterface.Lock ? LockState.Unlocked : true);\n            this.processEvent({ triggered: isTriggered, triggerTime: timestamp, isFromNvr: false })\n        });\n    }\n\n    public async processEvent(props: {\n        triggerTime: number,\n        isFromNvr: boolean,\n        triggered: boolean,\n        image?: MediaObject\n    }) {\n        const { minDelayTime } = this.storageSettings.values;\n        const { isFromNvr, triggerTime, triggered, image: imageParent } = props;\n        const logger = this.getLogger();\n\n        const shouldExecute = (isFromNvr && this.isActiveForNvrNotifications) || (!isFromNvr && this.isActiveForNotifications);\n\n        if (!shouldExecute) {\n            return;\n        }\n\n        try {\n            if (minDelayTime) {\n                if (this.lastDetection && (triggerTime - this.lastDetection) < 1000 * minDelayTime) {\n                    logger.debug(`Waiting for delay: ${(triggerTime - this.lastDetection) / 1000}s`);\n                    return;\n                }\n\n                this.lastDetection = triggerTime;\n            }\n\n            logger.log(`Sensor triggered: ${triggered}`);\n\n            const mqttClient = await this.plugin.getMqttClient();\n\n            if (mqttClient) {\n                try {\n                    const device = systemManager.getDeviceById(this.id) as unknown as ScryptedDeviceBase;\n                    publishDeviceState({\n                        mqttClient,\n                        device,\n                        triggered,\n                        console: logger,\n                        resettAllClasses: false,\n                        allRuleIds: []\n                    }).finally(() => this.mqttReportInProgress = false);\n                } catch (e) {\n                    logger.log(`Error in reportDetectionsToMqtt`, e);\n                }\n            }\n\n            if (triggered) {\n                const { isDoorbell, device } = await this.plugin.getLinkedCamera(this.id);\n                const isDoorlock = this.type === ScryptedDeviceType.Lock;\n\n                const enabledRules = (isFromNvr ? this.nvrDetectionRules : this.detectionRules) ?? [];\n\n                if (!enabledRules.length) {\n                    return;\n                }\n\n                let image = imageParent;\n\n                try {\n                    if (!image) {\n                        const deviceSettings = await device.getSettings();\n                        const cameraSnapshotHeight = (deviceSettings.find(setting => setting.key === 'homeassistantMetadata:snapshotHeight')?.value as number) ?? 720;\n                        const cameraSnapshotWidth = (deviceSettings.find(setting => setting.key === 'homeassistantMetadata:snapshotWidth')?.value as number) ?? 1280;\n\n                        image = await device.takePicture({\n                            reason: 'event',\n                            picture: {\n                                height: cameraSnapshotHeight,\n                                width: cameraSnapshotWidth,\n                            },\n                        });\n                    }\n                } catch (e) {\n                    logger.log('Error taking a picture', e);\n                }\n\n                const eventType = isDoorbell ? EventType.Doorbell : isDoorlock ? EventType.Doorlock : EventType.Contact;\n\n                for (const rule of enabledRules) {\n                    logger.log(`Starting notifiers: ${JSON.stringify({\n                        eventType,\n                        triggerTime,\n                        rule,\n                    })})}`);\n\n                    this.plugin.matchDetectionFound({\n                        triggerDeviceId: this.id,\n                        logger,\n                        eventType,\n                        triggerTime,\n                        rule,\n                        image,\n                    });\n                }\n            }\n\n        } catch (e) {\n            logger.log('Error finding a match', e);\n        }\n    }\n}","import sdk, { Camera, LockState, MediaObject, NotifierOptions, ObjectDetectionResult, ObjectsDetected, Point, ScryptedDeviceBase, ScryptedDeviceType, ScryptedMimeTypes, SecuritySystem, SecuritySystemMode, Setting, Settings } from \"@scrypted/sdk\"\nimport { StorageSetting, StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { cloneDeep, keyBy, sortBy, uniq, uniqBy } from \"lodash\";\nconst { endpointManager } = sdk;\nimport { scrypted, name } from '../package.json';\nimport { defaultDetectionClasses, DetectionClass, detectionClassesDefaultMap, isLabelDetection } from \"./detecionClasses\";\nimport sharp from 'sharp';\nimport path from 'path';\nimport fs from 'fs';\nimport AdvancedNotifierPlugin from \"./main\";\n\nexport type DeviceInterface = Camera & ScryptedDeviceBase & Settings;\nexport const ADVANCED_NOTIFIER_INTERFACE = name;\nexport const detectRuleEnabledRegex = new RegExp('rule:(.*):enabled');\nexport const occupancyRuleEnabledRegex = new RegExp('occupancyRule:(.*):enabled');\n\nexport interface ObserveZoneData {\n    name: string;\n    path: Point[]\n};\nexport type ObserveZoneClasses = Record<string, Partial<Record<DetectionClass, number>>>;\nexport type OccupancyRuleData = {\n    rule: OccupancyRule;\n    occupies: boolean;\n    detectedResult: ObjectsDetected\n};\n\nexport const getElegibleDevices = () => {\n    const allDevices = Object.keys(sdk.systemManager.getSystemState()).map(deviceId => sdk.systemManager.getDeviceById(deviceId) as unknown as DeviceInterface);\n\n    return allDevices.filter(device => {\n        return eval(\n            `(function() { var interfaces = ${JSON.stringify(\n                device.interfaces\n            )}; var type='${device.type}'; var id = '${device.id}'; return ${deviceFilter} })`\n        )()\n    })\n\n}\n\nexport enum EventType {\n    ObjectDetection = 'ObjectDetection',\n    Package = 'Package',\n    Doorbell = 'Doorbell',\n    Contact = 'Contact',\n    Doorlock = 'Doorlock',\n}\n\nexport const getDefaultEntityId = (name: string) => {\n    const convertedName = name?.replace(/\\W+/g, \" \")\n        .split(/ |\\B(?=[A-Z])/)\n        .map(word => word.toLowerCase())\n        .join('_') ?? 'not_set';\n\n    return `binary_sensor.${convertedName}_triggered`;\n}\n\nexport const getWebooks = async () => {\n    const lastSnapshot = 'lastSnapshot';\n    const haAction = 'haAction';\n\n    return {\n        lastSnapshot,\n        haAction,\n    }\n}\n\nexport const getFolderPaths = async (deviceId: string) => {\n    const basePath = process.env.SCRYPTED_PLUGIN_VOLUME;\n    const snapshotsFolder = path.join(basePath, 'snapshots', deviceId);\n\n    if (!fs.existsSync(snapshotsFolder)) {\n        fs.mkdirSync(snapshotsFolder, { recursive: true });\n    }\n\n    return { snapshotsFolder };\n}\n\nexport const storeWebhookImage = async (props: {\n    deviceId: string,\n    image: MediaObject,\n    logger: Console,\n    webhook: string,\n}) => {\n    const { deviceId, image, logger, webhook } = props;\n    const { snapshotsFolder } = await getFolderPaths(deviceId);\n    const lastSnapshotFilePath = path.join(snapshotsFolder, `${webhook}.jpg`);\n    const jpeg = await sdk.mediaManager.convertMediaObjectToBuffer(image, 'image/jpg');\n    logger.debug(`Storing image, size is ${jpeg.byteLength}`);\n    await fs.promises.writeFile(lastSnapshotFilePath, jpeg).catch(e => logger.log(`Error saving webhook ${webhook} image`, e));\n}\n\nexport const getWebookUrls = async (cameraDeviceOrAction: string | undefined, console: Console) => {\n    let lastSnapshotCloudUrl: string;\n    let lastSnapshotLocalUrl: string;\n    let haActionUrl: string;\n\n    const { lastSnapshot, haAction } = await getWebooks();\n\n    try {\n        const cloudEndpoint = await endpointManager.getPublicCloudEndpoint();\n        const localEndpoint = await endpointManager.getPublicLocalEndpoint();\n\n        lastSnapshotCloudUrl = `${cloudEndpoint}${lastSnapshot}/${cameraDeviceOrAction}`;\n        lastSnapshotLocalUrl = `${localEndpoint}${lastSnapshot}/${cameraDeviceOrAction}`;\n        haActionUrl = `${cloudEndpoint}${haAction}/${cameraDeviceOrAction}`;\n    } catch (e) {\n        console.log('Error fetching webhookUrls', e);\n    }\n\n    return {\n        lastSnapshotCloudUrl,\n        lastSnapshotLocalUrl,\n        haActionUrl,\n    }\n}\n\nexport interface ParseNotificationMessageResult {\n    triggerDevice: DeviceInterface,\n    textKey: TextSettingKey,\n    detection: ObjectDetectionResult,\n    allDetections: ObjectDetectionResult[],\n    eventType: EventType | NvrEvent,\n    classname: DetectionClass,\n    label: string,\n}\n\nexport const parseNvrNotificationMessage = async (cameraDevice: DeviceInterface, deviceSensors: string[], options?: NotifierOptions, console?: Console): Promise<ParseNotificationMessageResult> => {\n    try {\n        let triggerDevice: DeviceInterface = cameraDevice;\n        let textKey: TextSettingKey;\n        let detection: ObjectDetectionResult\n        let label: string;\n        const subtitle = options?.subtitle;\n\n        let eventType: EventType | NvrEvent;\n        let allDetections: ObjectDetectionResult[] = options?.recordedEvent?.data?.detections ?? [];\n\n        if (subtitle === 'Offline') {\n            textKey = 'offlineText';\n            eventType = NvrEvent.Offline;\n        } else if (subtitle === 'Online') {\n            textKey = 'onlineText';\n            eventType = NvrEvent.Online;\n        } else if (subtitle === 'Recording Interrupted') {\n            textKey = 'streamInterruptedText';\n            eventType = NvrEvent.RecordingInterrupted;\n            const regex = new RegExp('The (.*) has been offline for an extended period.');\n            label = regex.exec(options.body)[1];\n            console.log(`Recording Interrupted received: ${JSON.stringify({ options, label, eventType, textKey })}`);\n        } else {\n            if (subtitle.includes('Maybe: Vehicle')) {\n                textKey = 'plateDetectedText';\n                detection = allDetections.find(det => det.className === 'plate');\n                eventType = EventType.ObjectDetection;\n                label = detection.label;\n            } else if (subtitle.includes('Person')) {\n                textKey = 'personDetectedText';\n                detection = allDetections.find(det => det.className === 'person');\n                eventType = EventType.ObjectDetection;\n            } else if (subtitle.includes('Vehicle')) {\n                detection = allDetections.find(det => det.className === 'vehicle');\n                eventType = EventType.ObjectDetection;\n                textKey = 'vehicleDetectedText';\n            } else if (subtitle.includes('Animal')) {\n                detection = allDetections.find(det => det.className === 'animal');\n                eventType = EventType.ObjectDetection;\n                textKey = 'animalDetectedText';\n            } else if (subtitle.includes('Maybe: ')) {\n                textKey = 'familiarDetectedText';\n                detection = allDetections.find(det => det.className === 'face');\n                eventType = EventType.ObjectDetection;\n                label = detection.label;\n            } else if (subtitle.includes('Motion')) {\n                textKey = 'motionDetectedText';\n                detection = allDetections.find(det => det.className === 'motion');\n\n                if (!allDetections.length) {\n                    allDetections = [\n                        {\n                            className: \"motion\",\n                            score: 1,\n                            zones: []\n                        },\n                    ]\n                }\n                eventType = EventType.ObjectDetection;\n            } else if (subtitle.includes('Door/Window Open')) {\n                textKey = 'doorWindowText';\n                eventType = EventType.Contact;\n            } else if (subtitle.includes('Doorbell Ringing')) {\n                textKey = 'doorbellText';\n                eventType = EventType.Doorbell;\n            } else if (subtitle.includes('Door Unlocked')) {\n                textKey = 'doorlockText';\n                eventType = EventType.Doorlock;\n            } else if (subtitle.includes('Package Detected')) {\n                textKey = 'packageText';\n                eventType = EventType.Package;\n                detection = allDetections.find(det => det.className === 'package');\n                allDetections = allDetections.filter(det => !det.className.includes('debug'));\n                console.log(`Package detection received: ${JSON.stringify(options)}`);\n            }\n        }\n\n        // Remove this when nvr will provide trigger IDs\n        if ([EventType.Contact, EventType.Doorlock, EventType.Doorbell].includes(eventType as EventType)) {\n            const systemState = sdk.systemManager.getSystemState();\n\n            const foundSensor = deviceSensors.find(deviceId => {\n                const device = sdk.systemManager.getDeviceById(deviceId);\n                if (device.type === ScryptedDeviceType.Lock) {\n                    return systemState[deviceId].lockState?.value === LockState.Unlocked;\n                } else {\n                    return systemState[deviceId].binaryState?.value === true;\n                }\n            })\n\n            if (foundSensor) {\n                triggerDevice = sdk.systemManager.getDeviceById(foundSensor) as unknown as DeviceInterface\n            } else {\n                console.log(`Trigger sensor not found: ${JSON.stringify({ deviceSensors })}`);\n            }\n        }\n\n\n        if (detection) {\n            const allZones = uniq(allDetections.filter(innerDetection => innerDetection.className === detection.className)\n                .flatMap(det => det.zones));\n            detection.zones = allZones;\n        }\n\n        return {\n            triggerDevice,\n            textKey,\n            detection,\n            allDetections,\n            eventType,\n            classname: detection ? detectionClassesDefaultMap[detection.className] : undefined,\n            label,\n        }\n    } catch (e) {\n        console.log(`Error parsing notification: ${JSON.stringify({ device: cameraDevice.name, options })}`, e);\n        return {} as ParseNotificationMessageResult;\n    }\n}\n\nexport enum NotificationSource {\n    NVR = 'NVR',\n    TEST = 'TEST',\n    DETECTION = 'DETECTION'\n}\n\nconst classnamePrio = {\n    face: 1,\n    plate: 2,\n    person: 3,\n    vehicle: 4,\n    animal: 5,\n    package: 6,\n    motion: 7,\n}\n\nconst initZoneDetections = Object.keys(DetectionClass).reduce((tot, curr) => ({\n    ...tot,\n    [curr]: false,\n}), {});\n\nexport const filterAndSortValidDetections = (detections: ObjectDetectionResult[], logger: Console) => {\n    const sortedByPriorityAndScore = sortBy(detections,\n        (detection) => [detection?.className ? classnamePrio[detection.className] : 100,\n        1 - (detection.score ?? 0)]\n    );\n    let hasLabel = false;\n    const zoneDetections: Record<string, Record<DetectionClass, boolean>> = {};\n    const uniqueByClassName = uniqBy(sortedByPriorityAndScore, det => det.className);\n    const candidates = uniqueByClassName.filter(det => {\n        const { className, label, movement } = det;\n        const isLabel = isLabelDetection(className);\n        if (isLabel && !label) {\n            logger.debug(`Label ${label} not valid`);\n            return false;\n        } else if (movement && !movement.moving) {\n            logger.debug(`Movement data ${JSON.stringify(movement)} not valid: ${JSON.stringify(det)}`);\n            return false;\n        }\n        if (hasLabel) {\n            hasLabel = isLabel;\n        }\n\n        return true;\n    });\n\n    return { candidates, hasLabel };\n}\n\nexport type TextSettingKey =\n    | 'detectionTimeText'\n    | 'motionDetectedText'\n    | 'personDetectedText'\n    | 'familiarDetectedText'\n    | 'plateDetectedText'\n    | 'animalDetectedText'\n    | 'vehicleDetectedText'\n    | 'doorWindowText'\n    | 'doorbellText'\n    | 'packageText'\n    | 'personText'\n    | 'vehicleText'\n    | 'animalText'\n    | 'onlineText'\n    | 'doorlockText'\n    | 'offlineText'\n    | 'streamInterruptedText';\n\nexport const getTextSettings = (forMixin: boolean) => {\n    const groupKey = forMixin ? 'subgroup' : 'group';\n\n    const settings: StorageSettingsDict<TextSettingKey> = {\n        detectionTimeText: {\n            [groupKey]: 'Texts',\n            title: 'Detection time',\n            type: 'string',\n            description: 'Expression used to render the time shown in notifications. Available arguments ${time}',\n            defaultValue: !forMixin ? 'new Date(${time}).toLocaleString()' : undefined,\n            placeholder: !forMixin ? 'new Date(${time}).toLocaleString()' : undefined\n        },\n        motionDetectedText: {\n            [groupKey]: 'Texts',\n            title: 'Motion',\n            type: 'string',\n            description: 'Expression used to render the text when a motion is detected. Available arguments ${room} ${time} ${nvrLink}',\n            defaultValue: !forMixin ? 'Motion detected in ${room}' : undefined,\n            placeholder: !forMixin ? 'Motion detected in ${room}' : undefined\n        },\n        personDetectedText: {\n            [groupKey]: 'Texts',\n            title: 'Person detected text',\n            type: 'string',\n            description: 'Expression used to render the text when a person is detected. Available arguments ${room} ${time} ${nvrLink}',\n            defaultValue: !forMixin ? 'Person detected in ${room}' : undefined,\n            placeholder: !forMixin ? 'Person detected in ${room}' : undefined\n        },\n        familiarDetectedText: {\n            [groupKey]: 'Texts',\n            title: 'Familiar detected text',\n            type: 'string',\n            description: 'Expression used to render the text when a familiar is detected. Available arguments ${room} ${time} ${person} ${nvrLink}',\n            defaultValue: !forMixin ? '${person} detected in ${room}' : undefined,\n            placeholder: !forMixin ? '${person} detected in ${room}' : undefined\n        },\n        plateDetectedText: {\n            [groupKey]: 'Texts',\n            title: 'Plate detected text',\n            type: 'string',\n            description: 'Expression used to render the text when a plate is detected. Available arguments ${room} ${time} ${plate} ${nvrLink}',\n            defaultValue: !forMixin ? '${plate} detected in ${room}' : undefined,\n            placeholder: !forMixin ? '${plate} detected in ${room}' : undefined\n        },\n        animalDetectedText: {\n            [groupKey]: 'Texts',\n            title: 'Animal detected text',\n            type: 'string',\n            description: 'Expression used to render the text when an animal is detected. Available arguments ${room} ${time} ${nvrLink}',\n            defaultValue: !forMixin ? 'Animal detected in ${room}' : undefined,\n            placeholder: !forMixin ? 'Animal detected in ${room}' : undefined\n        },\n        vehicleDetectedText: {\n            [groupKey]: 'Texts',\n            title: 'Vehicle detected text',\n            type: 'string',\n            description: 'Expression used to render the text when a vehicle is detected. Available arguments ${room} ${time} ${nvrLink}',\n            defaultValue: !forMixin ? 'Vehicle detected in ${room}' : undefined,\n            placeholder: !forMixin ? 'Vehicle detected in ${room}' : undefined\n        },\n        doorbellText: {\n            [groupKey]: 'Texts',\n            title: 'Doorbell ringing text',\n            type: 'string',\n            description: 'Expression used to render the text when a vehicle is detected. Available arguments ${room} $[time}',\n            defaultValue: !forMixin ? 'Someone at the door' : undefined,\n            placeholder: !forMixin ? 'Someone at the door' : undefined\n        },\n        doorWindowText: {\n            [groupKey]: 'Texts',\n            title: 'Door/Window open text',\n            type: 'string',\n            description: 'Expression used to render the text when a binary sensor opens. Available arguments ${room} $[time} ${nvrLink}',\n            defaultValue: !forMixin ? 'Door/window opened in ${room}' : undefined,\n            placeholder: !forMixin ? 'Door/window opened in ${room}' : undefined\n        },\n        doorlockText: {\n            [groupKey]: 'Texts',\n            title: 'Doorlock sensor open text',\n            type: 'string',\n            description: 'Expression used to render the text when a lock sensor opens. Available arguments ${room} $[time} ${nvrLink}',\n            defaultValue: !forMixin ? 'Door unlocked in ${room}' : undefined,\n            placeholder: !forMixin ? 'Door unlocked in ${room}' : undefined\n        },\n        packageText: {\n            [groupKey]: 'Texts',\n            title: 'Package text',\n            type: 'string',\n            description: 'Expression used to render the text when a package is detected. Available arguments ${room} $[time} ${nvrLink}',\n            defaultValue: !forMixin ? 'Package detected in ${room}' : undefined,\n            placeholder: !forMixin ? 'Package detected in ${room}' : undefined\n        },\n        onlineText: {\n            [groupKey]: 'Texts',\n            title: 'Online device text',\n            type: 'string',\n            description: 'Expression used to render the text when a device comes back online. Available arguments $[time}',\n            defaultValue: !forMixin ? 'Back online at ${time}' : undefined,\n            placeholder: !forMixin ? 'Back online at ${time}' : undefined,\n        },\n        offlineText: {\n            [groupKey]: 'Texts',\n            title: 'Online device text',\n            type: 'string',\n            description: 'Expression used to render the text when a device goes offline. Available arguments $[time}',\n            defaultValue: !forMixin ? 'Went offline at ${time}' : undefined,\n            placeholder: !forMixin ? 'Went offline at ${time}' : undefined,\n        },\n        streamInterruptedText: {\n            [groupKey]: 'Texts',\n            title: 'Stream interrupted text',\n            type: 'string',\n            description: 'Expression used to render the text when a streams gets interrupted. Available arguments $[time} ${streamName}',\n            defaultValue: !forMixin ? 'Stream ${streamName} interrupted at ${time}' : undefined,\n            placeholder: !forMixin ? 'Stream ${streamName} interrupted at ${time}' : undefined,\n        },\n        personText: {\n            group: 'Texts',\n            subgroup: 'Detection classes',\n            title: 'Person text',\n            type: 'string',\n            defaultValue: 'Person',\n            placeholder: 'Person',\n            hide: forMixin\n        },\n        animalText: {\n            group: 'Texts',\n            subgroup: 'Detection classes',\n            title: 'Animal text',\n            type: 'string',\n            defaultValue: 'Animal',\n            placeholder: 'Animal',\n            hide: forMixin\n        },\n        vehicleText: {\n            group: 'Texts',\n            subgroup: 'Detection classes',\n            title: 'Vehicle text',\n            type: 'string',\n            defaultValue: 'Vehicle',\n            placeholder: 'Vehicle',\n            hide: forMixin\n        }\n    }\n\n    return settings;\n}\n\nexport const detectionRulesGroup = 'Advanced notifier detection rules';\nexport const occupancyRulesGroup = 'Advanced notifier occupancy rules';\n\nexport type MixinBaseSettingKey =\n    | 'debug'\n    | 'room'\n    | 'entityId'\n    | 'haDeviceClass'\n    | 'useNvrDetections'\n    | 'useNvrImages'\n    | 'haActions'\n    | typeof detectionRulesKey\n    | typeof occupancyRulesKey\n\nexport enum NotificationPriority {\n    VeryLow = \"VeryLow\",\n    Low = \"Low\",\n    Normal = \"Normal\",\n    High = \"High\"\n}\n\nexport const getMixinBaseSettings = (name: string, withOccupancy: boolean) => {\n    const settings: StorageSettingsDict<MixinBaseSettingKey> = {\n        debug: {\n            title: 'Log debug messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n        },\n        room: {\n            title: 'Room',\n            type: 'string',\n            immediate: true,\n        },\n        entityId: {\n            title: 'EntityID',\n            type: 'string',\n            defaultValue: getDefaultEntityId(name),\n            immediate: true,\n        },\n        haDeviceClass: {\n            title: 'Device class',\n            type: 'string'\n        },\n        // DETECTION\n        useNvrDetections: {\n            title: 'Use NVR detections',\n            description: 'If enabled, the NVR notifications will be used. Make sure to extend the notifiers with this extension',\n            type: 'boolean',\n            subgroup: 'Detection',\n            immediate: true,\n            hide: true,\n        },\n        useNvrImages: {\n            title: 'Use NVR images',\n            description: 'If enabled, the NVR images coming from NVR will be used, otherwise the one defined in the plugin',\n            type: 'boolean',\n            subgroup: 'Detection',\n            defaultValue: true,\n            immediate: true,\n            hide: true,\n        },\n        // NOTIFIER\n        haActions: {\n            title: 'Homeassistant Actions',\n            description: 'Actions to show on the notification, i.e. {\"action\":\"open_door\",\"title\":\"Open door\",\"icon\":\"sfsymbols:door\"}',\n            subgroup: 'Notifier',\n            type: 'string',\n            multiple: true\n        },\n        [detectionRulesKey]: {\n            title: 'Rules',\n            group: detectionRulesGroup,\n            type: 'string',\n            multiple: true,\n            combobox: true,\n            defaultValue: [],\n            choices: [],\n        },\n    } as StorageSettingsDict<MixinBaseSettingKey>;\n\n    if (withOccupancy) {\n        settings[occupancyRulesKey] = {\n            title: 'Rules',\n            group: occupancyRulesGroup,\n            type: 'string',\n            multiple: true,\n            combobox: true,\n            defaultValue: [],\n            choices: [],\n        };\n    }\n\n    return settings;\n}\n\nexport const mainPluginName = scrypted.name;\n\nexport const isDeviceEnabled = async (deviceId: string, deviceSettings: Setting[], plugin: AdvancedNotifierPlugin, deviceType?: ScryptedDeviceType) => {\n    const mainSettings = await plugin.getSettings();\n    const mainSettingsByKey = keyBy(mainSettings, 'key');\n\n    const deviceSettingsByKey = keyBy(deviceSettings, 'key');\n    const { detectionRules, skippedRules, nvrRules, allDeviceRules, } = getDeviceRules({\n        deviceId,\n        deviceType,\n        deviceStorage: deviceSettingsByKey,\n        mainPluginStorage: mainSettingsByKey,\n    });\n\n    const { occupancyRules, skippedOccupancyRules, allOccupancyRules } = getDeviceOccupancyRules({\n        deviceStorage: deviceSettingsByKey,\n        mainPluginStorage: mainSettingsByKey,\n    });\n\n    const isPluginEnabled = mainSettingsByKey.pluginEnabled.value as boolean;\n    const isMqttActive = mainSettingsByKey.mqttEnabled.value as boolean;\n    const isActiveForNotifications = isPluginEnabled && (!!occupancyRules.length || !!detectionRules.length);\n    const isActiveForNvrNotifications = isPluginEnabled && !!nvrRules.length;\n    const isActiveForMqttReporting = isPluginEnabled && isMqttActive && (mainSettingsByKey.activeDevicesForReporting?.value as string || []).includes(deviceId);\n\n    return {\n        isPluginEnabled,\n        isActiveForNotifications,\n        isActiveForNvrNotifications,\n        isActiveForMqttReporting,\n        detectionRules,\n        skippedRules,\n        nvrRules,\n        allDeviceRules,\n        skippedOccupancyRules,\n        occupancyRules,\n        allOccupancyRules,\n    }\n}\n\nconst textKeyClassnameMap: Record<DetectionClass, TextSettingKey> = {\n    [DetectionClass.Person]: 'personDetectedText',\n    [DetectionClass.Face]: 'familiarDetectedText',\n    [DetectionClass.Plate]: 'plateDetectedText',\n    [DetectionClass.Vehicle]: 'vehicleDetectedText',\n    [DetectionClass.Animal]: 'animalDetectedText',\n    [DetectionClass.Motion]: 'motionDetectedText',\n    [DetectionClass.Package]: 'motionDetectedText',\n    [DetectionClass.DoorLock]: 'doorlockText',\n    [DetectionClass.DoorSensor]: 'doorWindowText',\n}\n\nexport const getTextKey = (props: { classname?: string, eventType: EventType }) => {\n    const { classname, eventType } = props;\n\n    let key: TextSettingKey;\n\n    switch (eventType) {\n        case EventType.Contact:\n            key = 'doorWindowText';\n            break;\n        case EventType.Doorbell:\n            key = 'doorbellText';\n            break;\n        case EventType.Doorlock:\n            key = 'doorlockText';\n            break;\n        case EventType.ObjectDetection: {\n            key = textKeyClassnameMap[detectionClassesDefaultMap[classname]];\n        }\n    }\n\n    return key;\n}\n\nexport const firstUpperCase = (text: string) => text.charAt(0).toUpperCase() + text.slice(1);\n\nexport enum DetectionRuleActivation {\n    Always = 'Always',\n    OnActive = 'OnActive',\n    Schedule = 'Schedule',\n    AlarmSystem = 'AlarmSystem',\n}\n\nexport enum NvrEvent {\n    Online = 'Online',\n    Offline = 'Offline',\n    RecordingInterrupted = 'RecordingInterrupted'\n}\n\nexport const detectionRulesKey = 'detectionRules';\n\nexport const getDetectionRuleKeys = (detectionRuleName: string) => {\n    const enabledKey = `rule:${detectionRuleName}:enabled`;\n    const useNvrDetectionsKey = `rule:${detectionRuleName}:useNvrDetections`;\n    const activationKey = `rule:${detectionRuleName}:activation`;\n    const textKey = `rule:${detectionRuleName}:text`;\n    const detecionClassesKey = `rule:${detectionRuleName}:detecionClasses`;\n    const nvrEventsKey = `rule:${detectionRuleName}:nvrEvents`;\n    const scoreThresholdKey = `rule:${detectionRuleName}:scoreThreshold`;\n    const whitelistedZonesKey = `rule:${detectionRuleName}:whitelistedZones`;\n    const blacklistedZonesKey = `rule:${detectionRuleName}:blacklistedZones`;\n    const enabledSensorsKey = `rule:${detectionRuleName}:enabledSensors`;\n    const disabledSensorsKey = `rule:${detectionRuleName}:disabledSensors`;\n    const devicesKey = `rule:${detectionRuleName}:devices`;\n    const notifiersKey = `rule:${detectionRuleName}:notifiers`;\n    const dayKey = `rule:${detectionRuleName}:day`;\n    const startTimeKey = `rule:${detectionRuleName}:startTime`;\n    const endTimeKey = `rule:${detectionRuleName}:endTime`;\n    const actionsKey = `rule:${detectionRuleName}:haActions`;\n    const priorityKey = `rule:${detectionRuleName}:priority`;\n    const securitySystemModesKey = `rule:${detectionRuleName}:securitySystemModes`;\n\n    return {\n        enabledKey,\n        useNvrDetectionsKey,\n        activationKey,\n        textKey,\n        detecionClassesKey,\n        nvrEventsKey,\n        scoreThresholdKey,\n        whitelistedZonesKey,\n        blacklistedZonesKey,\n        enabledSensorsKey,\n        disabledSensorsKey,\n        devicesKey,\n        notifiersKey,\n        dayKey,\n        startTimeKey,\n        endTimeKey,\n        priorityKey,\n        actionsKey,\n        securitySystemModesKey,\n    }\n}\n\nexport const occupancyRulesKey = 'occupancyRules';\n\nexport const getOccupancyRuleKeys = (detectionRuleName: string) => {\n    const enabledKey = `occupancyRule:${detectionRuleName}:enabled`;\n    const objectDetectorKey = `occupancyRule:${detectionRuleName}:objectDetector`;\n    const captureZoneKey = `occupancyRule:${detectionRuleName}:captureZone`;\n    const detecionClassKey = `occupancyRule:${detectionRuleName}:detecionClassKey`;\n    const scoreThresholdKey = `occupancyRule:${detectionRuleName}:scoreThreshold`;\n    const zoneKey = `occupancyRule:${detectionRuleName}:zone`;\n    const zoneMatchTypeKey = `occupancyRule:${detectionRuleName}:zoneMatchType`;\n    const zoneOccupiedTextKey = `occupancyRule:${detectionRuleName}:zoneOccupiedText`;\n    const zoneNotOccupiedTextKey = `occupancyRule:${detectionRuleName}:zoneNotOccupiedText`;\n    const notifiersKey = `occupancyRule:${detectionRuleName}:notifiers`;\n    const changeStateConfirmKey = `occupancyRule:${detectionRuleName}:changeStateConfirm`;\n    const actionsKey = `occupancyRule:${detectionRuleName}:haActions`;\n    const priorityKey = `occupancyRule:${detectionRuleName}:priority`;\n    const maxObjectsKey = `occupancyRule:${detectionRuleName}:maxObjects`;\n    const forceUpdateKey = `occupancyRule:${detectionRuleName}:forceUpdate`;\n\n    return {\n        enabledKey,\n        objectDetectorKey,\n        detecionClassKey,\n        scoreThresholdKey,\n        zoneKey,\n        zoneOccupiedTextKey,\n        zoneNotOccupiedTextKey,\n        notifiersKey,\n        zoneMatchTypeKey,\n        changeStateConfirmKey,\n        actionsKey,\n        priorityKey,\n        maxObjectsKey,\n        forceUpdateKey,\n        captureZoneKey,\n    }\n}\n\nexport enum ZoneMatchType {\n    Intersect = 'Intersect',\n    Contain = 'Contain',\n}\n\nexport const deviceFilter = `(interfaces.includes('${ADVANCED_NOTIFIER_INTERFACE}') && (type === '${ScryptedDeviceType.Camera}' || type === '${ScryptedDeviceType.Doorbell}' || type === '${ScryptedDeviceType.Sensor}' || type === '${ScryptedDeviceType.Lock}'))`;\nexport const notifierFilter = `(type === '${ScryptedDeviceType.Notifier}' && interfaces.includes('${ADVANCED_NOTIFIER_INTERFACE}'))`;\n\nexport const getDetectionRulesSettings = async (props: {\n    groupName: string,\n    storage: StorageSettings<any>,\n    zones?: string[],\n    withDevices?: boolean;\n    withDetection?: boolean;\n    withNvrEvents?: boolean;\n}) => {\n    const { storage, zones, groupName, withDevices, withDetection, withNvrEvents } = props;\n    const settings: Setting[] = [];\n\n    const currentDetectionRules = storage.getItem(detectionRulesKey) ?? [];\n    for (const detectionRuleName of currentDetectionRules) {\n        const {\n            enabledKey,\n            useNvrDetectionsKey,\n            activationKey,\n            textKey,\n            notifiersKey,\n            detecionClassesKey,\n            nvrEventsKey,\n            scoreThresholdKey,\n            whitelistedZonesKey,\n            blacklistedZonesKey,\n            devicesKey,\n            dayKey,\n            endTimeKey,\n            startTimeKey,\n            enabledSensorsKey,\n            disabledSensorsKey,\n            priorityKey,\n            actionsKey,\n            securitySystemModesKey,\n        } = getDetectionRuleKeys(detectionRuleName);\n\n        const currentActivation = storage.getItem(activationKey as any) as DetectionRuleActivation;\n        const useNvrDetections = storage.getItem(useNvrDetectionsKey as any) as boolean ?? false;\n\n        settings.push(\n            {\n                key: enabledKey,\n                title: 'Enabled',\n                type: 'boolean',\n                group: groupName,\n                subgroup: detectionRuleName,\n                value: storage.getItem(enabledKey as any) as boolean ?? true,\n                immediate: true,\n            },\n            {\n                key: useNvrDetectionsKey,\n                title: 'Use NVR detections',\n                type: 'boolean',\n                group: groupName,\n                subgroup: detectionRuleName,\n                value: useNvrDetections,\n                immediate: true\n            },\n            {\n                key: activationKey,\n                title: 'Activation',\n                group: groupName,\n                subgroup: detectionRuleName,\n                choices: [\n                    DetectionRuleActivation.Always,\n                    DetectionRuleActivation.OnActive,\n                    DetectionRuleActivation.Schedule,\n                    DetectionRuleActivation.AlarmSystem,\n                ],\n                value: currentActivation,\n                immediate: true,\n                combobox: true\n            },\n            {\n                key: textKey,\n                title: 'Custom text',\n                description: 'Available arguments ${room} $[time} ${nvrLink} ${zone} ${class} ${label}',\n                group: groupName,\n                subgroup: detectionRuleName,\n                value: storage.getItem(textKey),\n                type: 'string',\n            },\n            {\n                key: detecionClassesKey,\n                title: 'Detection classes',\n                group: groupName,\n                subgroup: detectionRuleName,\n                multiple: true,\n                combobox: true,\n                choices: defaultDetectionClasses,\n                value: JSON.parse(storage.getItem(detecionClassesKey as any) as string ?? '[]')\n            }\n        );\n\n        if (currentActivation === DetectionRuleActivation.AlarmSystem) {\n            settings.push({\n                key: securitySystemModesKey,\n                title: 'Alarm modes',\n                description: 'Modes of the selected security system to trigger this rule',\n                group: groupName,\n                subgroup: detectionRuleName,\n                multiple: true,\n                combobox: true,\n                type: 'string',\n                choices: [\n                    SecuritySystemMode.Disarmed,\n                    SecuritySystemMode.HomeArmed,\n                    SecuritySystemMode.NightArmed,\n                    SecuritySystemMode.AwayArmed,\n                ],\n                value: JSON.parse(storage.getItem(securitySystemModesKey as any) as string ?? '[]'),\n            })\n        }\n\n        if (useNvrDetections && withNvrEvents) {\n            settings.push(\n                {\n                    key: nvrEventsKey,\n                    title: 'NVR events',\n                    group: groupName,\n                    subgroup: detectionRuleName,\n                    multiple: true,\n                    combobox: true,\n                    choices: Object.values(NvrEvent),\n                    value: JSON.parse(storage.getItem(nvrEventsKey as any) as string ?? '[]')\n                }\n            );\n        }\n\n        if (withDetection) {\n            settings.push(\n                {\n                    key: scoreThresholdKey,\n                    title: 'Score threshold',\n                    group: groupName,\n                    subgroup: detectionRuleName,\n                    type: 'number',\n                    placeholder: '0.7',\n                    value: storage.getItem(scoreThresholdKey as any) as string\n                }\n            );\n        }\n\n        settings.push(\n            {\n                key: notifiersKey,\n                title: 'Notifiers',\n                group: groupName,\n                subgroup: detectionRuleName,\n                type: 'device',\n                multiple: true,\n                combobox: true,\n                deviceFilter: notifierFilter,\n                value: JSON.parse(storage.getItem(notifiersKey as any) as string ?? '[]')\n            });\n\n        if (zones) {\n            settings.push(\n                {\n                    key: whitelistedZonesKey,\n                    title: 'Whitelisted zones',\n                    group: groupName,\n                    subgroup: detectionRuleName,\n                    multiple: true,\n                    combobox: true,\n                    choices: zones,\n                    value: JSON.parse(storage.getItem(whitelistedZonesKey as any) as string ?? '[]'),\n                    readonly: !zones.length\n                },\n                {\n                    key: blacklistedZonesKey,\n                    title: 'Blacklisted zones',\n                    group: groupName,\n                    subgroup: detectionRuleName,\n                    multiple: true,\n                    combobox: true,\n                    choices: zones,\n                    value: JSON.parse(storage.getItem(blacklistedZonesKey as any) as string ?? '[]'),\n                    readonly: !zones.length\n                },\n            )\n        }\n        settings.push(\n            {\n                key: enabledSensorsKey,\n                title: 'Open sensors',\n                description: 'Sensors that must be enabled to trigger this rule',\n                group: groupName,\n                subgroup: detectionRuleName,\n                multiple: true,\n                combobox: true,\n                type: 'device',\n                deviceFilter: `(type === '${ScryptedDeviceType.Sensor}')`,\n                value: JSON.parse(storage.getItem(enabledSensorsKey as any) as string ?? '[]'),\n            },\n            {\n                key: disabledSensorsKey,\n                title: 'Closed sensors',\n                description: 'Sensors that must be disabled to trigger this rule',\n                group: groupName,\n                subgroup: detectionRuleName,\n                multiple: true,\n                combobox: true,\n                type: 'device',\n                deviceFilter: `(type === '${ScryptedDeviceType.Sensor}')`,\n                value: JSON.parse(storage.getItem(disabledSensorsKey as any) as string ?? '[]'),\n            },\n            {\n                key: priorityKey,\n                type: 'string',\n                title: 'Pushover priority',\n                group: groupName,\n                subgroup: detectionRuleName,\n                choices: [NotificationPriority.VeryLow, NotificationPriority.Low, NotificationPriority.Normal, NotificationPriority.High],\n                value: storage.getItem(priorityKey as any) as DetectionRuleActivation ?? NotificationPriority.Normal,\n                immediate: true,\n                combobox: true\n            },\n            {\n                key: actionsKey,\n                title: 'Homeassistant Actions',\n                description: 'Actions to show on the notification, i.e. {\"action\":\"open_door\",\"title\":\"Open door\",\"icon\":\"sfsymbols:door\"}',\n                type: 'string',\n                multiple: true,\n                group: groupName,\n                subgroup: detectionRuleName,\n                value: JSON.parse(storage.getItem(actionsKey as any) as string ?? '[]'),\n            },\n        );\n\n        if (withDevices && currentActivation !== DetectionRuleActivation.OnActive) {\n            settings.push({\n                key: devicesKey,\n                title: 'Devices',\n                description: 'Leave empty to affect all devices',\n                group: groupName,\n                subgroup: detectionRuleName,\n                type: 'device',\n                multiple: true,\n                combobox: true,\n                value: JSON.parse(storage.getItem(devicesKey) as string ?? '[]'),\n                deviceFilter\n            });\n        }\n\n        if (currentActivation === DetectionRuleActivation.Schedule) {\n            settings.push({\n                key: dayKey,\n                title: 'Day',\n                description: 'Leave empty to affect all days',\n                group: groupName,\n                subgroup: detectionRuleName,\n                type: 'day',\n                multiple: true,\n                value: JSON.parse(storage.getItem(dayKey as any) as string ?? '[]'),\n            });\n            settings.push({\n                key: startTimeKey,\n                title: 'Start time',\n                group: groupName,\n                subgroup: detectionRuleName,\n                type: 'time',\n                multiple: true,\n                value: storage.getItem(startTimeKey),\n            });\n            settings.push({\n                key: endTimeKey,\n                title: 'End time',\n                group: groupName,\n                subgroup: detectionRuleName,\n                type: 'time',\n                multiple: true,\n                value: storage.getItem(endTimeKey),\n            });\n        }\n    };\n\n    return settings;\n}\n\nexport const nvrAcceleratedMotionSensorId = sdk.systemManager.getDeviceById('@scrypted/nvr', 'motion')?.id;\n\nexport const getOccupancyRulesSettings = async (props: {\n    groupName: string,\n    storage: StorageSettings<any>,\n    zones?: string[],\n    isNvrEnabled: boolean\n}) => {\n    const { storage, zones, groupName } = props;\n    const settings: Setting[] = [];\n\n    const currentOccupancyRules = storage.getItem(occupancyRulesKey) ?? [];\n    for (const occupancyRuleName of currentOccupancyRules) {\n        const {\n            enabledKey,\n            objectDetectorKey,\n            captureZoneKey,\n            scoreThresholdKey,\n            zoneKey,\n            detecionClassKey,\n            notifiersKey,\n            zoneNotOccupiedTextKey,\n            zoneOccupiedTextKey,\n            zoneMatchTypeKey,\n            changeStateConfirmKey,\n            actionsKey,\n            priorityKey,\n            maxObjectsKey,\n            forceUpdateKey,\n        } = getOccupancyRuleKeys(occupancyRuleName);\n\n        settings.push(\n            {\n                key: enabledKey,\n                title: 'Enabled',\n                type: 'boolean',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                value: storage.getItem(enabledKey as any) as boolean ?? true,\n                immediate: true,\n            },\n            ...[],\n            {\n                key: detecionClassKey,\n                title: 'Detection class',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                choices: defaultDetectionClasses,\n                value: storage.getItem(detecionClassKey),\n            },\n            {\n                key: zoneKey,\n                title: 'Observe zone',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                choices: zones,\n                value: storage.getItem(zoneKey),\n                readonly: !zones.length\n            },\n            {\n                key: captureZoneKey,\n                title: 'Capture zone',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                value: storage.getItem(captureZoneKey),\n                type: 'clippath'\n            },\n            {\n                key: zoneMatchTypeKey,\n                title: 'Zone type',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                choices: Object.values(ZoneMatchType),\n                value: storage.getItem(zoneMatchTypeKey) ?? ZoneMatchType.Intersect,\n            },\n            {\n                key: scoreThresholdKey,\n                title: 'Score threshold',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                type: 'number',\n                placeholder: '0.5',\n                value: storage.getItem(scoreThresholdKey as any) as string\n            },\n            {\n                key: changeStateConfirmKey,\n                title: 'Occupancy confirmation',\n                description: 'Seconds to wait until an occupancy state change gets confirmed',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                type: 'number',\n                placeholder: '30',\n                value: storage.getItem(changeStateConfirmKey as any) as number\n            },\n            {\n                key: forceUpdateKey,\n                title: 'Force update in seconds',\n                description: 'Seconds to wait until a force update should happen',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                type: 'number',\n                placeholder: '30',\n                value: storage.getItem(forceUpdateKey as any) as number\n            },\n            {\n                key: maxObjectsKey,\n                title: 'Max objects',\n                description: 'Amount of objects that can fit the zone (if set to 2 and only 1 is detected, zone will be considered free)',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                type: 'number',\n                placeholder: '1',\n                value: storage.getItem(maxObjectsKey as any) as number\n            },\n            {\n                key: zoneOccupiedTextKey,\n                title: 'Zone occupied text',\n                description: 'Text to use for the notification when the rule gets activated (zone occupied). Available arguments ${detectedObjects} ${maxObjects}',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                value: storage.getItem(zoneOccupiedTextKey),\n                type: 'string',\n            },\n            {\n                key: zoneNotOccupiedTextKey,\n                title: 'Zone not occupied text',\n                description: 'Text to use for the notification when the rule gets deactivated (zone not occupied). Available arguments ${detectedObjects} ${maxObjects}',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                value: storage.getItem(zoneNotOccupiedTextKey),\n                type: 'string',\n            },\n            {\n                key: notifiersKey,\n                title: 'Notifiers',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                type: 'device',\n                multiple: true,\n                combobox: true,\n                deviceFilter: notifierFilter,\n                value: JSON.parse(storage.getItem(notifiersKey as any) as string ?? '[]')\n            },\n            {\n                key: priorityKey,\n                type: 'string',\n                title: 'Pushover priority',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                choices: [NotificationPriority.VeryLow, NotificationPriority.Low, NotificationPriority.Normal, NotificationPriority.High],\n                value: storage.getItem(priorityKey as any) as DetectionRuleActivation ?? NotificationPriority.Normal,\n                immediate: true,\n                combobox: true\n            },\n            {\n                key: actionsKey,\n                title: 'Homeassistant Actions',\n                description: 'Actions to show on the notification, i.e. {\"action\":\"open_door\",\"title\":\"Open door\",\"icon\":\"sfsymbols:door\"}',\n                type: 'string',\n                multiple: true,\n                group: groupName,\n                subgroup: occupancyRuleName,\n                value: JSON.parse(storage.getItem(actionsKey as any) as string ?? '[]'),\n            },\n            {\n                key: objectDetectorKey,\n                title: 'Object Detector',\n                description: 'Select the object detection plugin to use for detecting objects. (overrides the configuration in plugin)',\n                type: 'device',\n                group: groupName,\n                subgroup: occupancyRuleName,\n                deviceFilter: `interfaces.includes('ObjectDetectionPreview') && id !== '${nvrAcceleratedMotionSensorId}'`,\n                immediate: true,\n            },\n        );\n    };\n\n    return settings;\n}\n\nexport enum DetectionRuleSource {\n    Plugin = 'Plugin',\n    Device = 'Device',\n}\n\nexport interface Action {\n    aciton: string;\n    title: string;\n    icon: string;\n}\n\nexport interface DetectionRule {\n    name: string\n    activationType: DetectionRuleActivation;\n    notifiers: string[];\n    devices: string[];\n    detectionClasses?: DetectionClass[];\n    nvrEvents?: NvrEvent[];\n    scoreThreshold?: number;\n    whitelistedZones?: string[];\n    blacklistedZones?: string[];\n    source: DetectionRuleSource;\n    deviceId?: string;\n    customText?: string;\n    priority: NotificationPriority;\n    actions?: string[];\n}\n\nexport const getDeviceRules = (\n    props: {\n        deviceStorage?: Record<string, StorageSetting>,\n        mainPluginStorage: Record<string, StorageSetting>,\n        deviceId?: string,\n        deviceType?: ScryptedDeviceType\n    }\n) => {\n    const { deviceId, deviceStorage, mainPluginStorage, deviceType } = props;\n    const detectionRules: DetectionRule[] = [];\n    const nvrRules: DetectionRule[] = [];\n    const skippedRules: DetectionRule[] = [];\n    const allPluginRules: DetectionRule[] = [];\n    const allDeviceRules: DetectionRule[] = [];\n\n    const allDeviceIds = getElegibleDevices().map(device => device.id);\n    const activeNotifiers = mainPluginStorage['notifiers']?.value as string[] ?? [];\n    const onActiveDevices = mainPluginStorage['activeDevicesForNotifications']?.value as string[] ?? [];\n\n    const processRules = (storage: Record<string, StorageSetting>, source: DetectionRuleSource) => {\n        const detectionRuleNames = storage[detectionRulesKey]?.value as string[] ??\n            storage[`homeassistantMetadata:${detectionRulesKey}`]?.value as string[] ??\n            [];\n        for (const detectionRuleName of detectionRuleNames) {\n            const {\n                enabledKey,\n                useNvrDetectionsKey,\n                activationKey,\n                notifiersKey,\n                detecionClassesKey,\n                scoreThresholdKey,\n                whitelistedZonesKey,\n                blacklistedZonesKey,\n                devicesKey,\n                dayKey,\n                endTimeKey,\n                startTimeKey,\n                textKey,\n                enabledSensorsKey,\n                disabledSensorsKey,\n                priorityKey,\n                actionsKey,\n                nvrEventsKey,\n                securitySystemModesKey\n            } = getDetectionRuleKeys(detectionRuleName);\n\n            const isEnabled = JSON.parse(storage[enabledKey]?.value as string ?? 'false');\n            const useNvrDetections = JSON.parse(storage[useNvrDetectionsKey]?.value as string ?? 'false');\n\n            const notifiers = storage[notifiersKey]?.value as string[] ?? [];\n            const notifiersTouse = notifiers.filter(notifierId => activeNotifiers.includes(notifierId));\n\n            const activationType = storage[activationKey]?.value as DetectionRuleActivation;\n            const priority = storage[priorityKey]?.value as NotificationPriority;\n            const actions = storage[actionsKey]?.value as string[];\n            const customText = storage[textKey]?.value as string || undefined;\n            const mainDevices = storage[devicesKey]?.value as string[] ?? [];\n            const securitySystemModes = storage[securitySystemModesKey]?.value as SecuritySystemMode[] ?? [];\n            const devices = source === DetectionRuleSource.Device ? [deviceId] : mainDevices.length ? mainDevices : allDeviceIds;\n            const devicesToUse = activationType === DetectionRuleActivation.OnActive ? onActiveDevices : devices;\n\n            const detectionClasses = storage[detecionClassesKey]?.value as DetectionClass[] ?? [];\n            const nvrEvents = storage[nvrEventsKey]?.value as NvrEvent[] ?? [];\n            const scoreThreshold = Number(storage[scoreThresholdKey]?.value || 0.7);\n\n            const detectionRule: DetectionRule = {\n                source,\n                name: detectionRuleName,\n                activationType,\n                notifiers: notifiersTouse,\n                scoreThreshold,\n                detectionClasses,\n                nvrEvents,\n                devices: devicesToUse,\n                customText,\n                priority,\n                actions,\n                deviceId\n            };\n\n            if (source === DetectionRuleSource.Device) {\n                const whitelistedZones = storage[whitelistedZonesKey]?.value as string[] ?? [];\n                const blacklistedZones = storage[blacklistedZonesKey]?.value as string[] ?? [];\n\n                detectionRule.whitelistedZones = whitelistedZones;\n                detectionRule.blacklistedZones = blacklistedZones;\n            }\n\n            let timeAllowed = true;\n\n            if (activationType === DetectionRuleActivation.Schedule) {\n                const days = storage[dayKey]?.value as number[] ?? [];\n                const startTime = Number(storage[startTimeKey]?.value);\n                const endTime = Number(storage[endTimeKey]?.value);\n\n                const currentDate = new Date();\n                const currentDay = currentDate.getDay();\n\n                const dayOk = !days.length || days.includes(currentDay);\n                if (!dayOk) {\n                    timeAllowed = false;\n                } else {\n                    const parseDate = (time: number, add1Day?: boolean) => {\n                        const timeDate = new Date(time);\n\n                        const newTimeDate = new Date();\n                        if (add1Day) {\n                            newTimeDate.setDate(newTimeDate.getDate() + 1);\n                        }\n                        newTimeDate.setHours(timeDate.getHours());\n                        newTimeDate.setMinutes(timeDate.getMinutes());\n                        newTimeDate.setSeconds(0);\n                        newTimeDate.setMilliseconds(0);\n\n                        return {\n                            newDate: newTimeDate,\n                            newTimeDate: newTimeDate.getTime()\n                        }\n                    }\n\n                    const { newTimeDate: startTimeParsed, newDate: a1 } = parseDate(startTime);\n                    const { newTimeDate: endTimeParsed, newDate: a2 } = parseDate(endTime, endTime < startTime);\n\n                    const currentTime = currentDate.getTime();\n                    timeAllowed = currentTime > startTimeParsed && currentTime < endTimeParsed;\n                }\n            }\n\n            let sensorsOk = true;\n            const enabledSensors = storage[enabledSensorsKey]?.value as string[] ?? [];\n            const disabledSensors = storage[disabledSensorsKey]?.value as string[] ?? [];\n\n            if (!!enabledSensors.length || !!disabledSensors.length) {\n                const systemState = sdk.systemManager.getSystemState();\n                if (!!enabledSensors.length) {\n                    sensorsOk = enabledSensors.every(sensorId => systemState[sensorId]?.binarySensor?.value === true);\n                }\n                if (!!disabledSensors.length && sensorsOk) {\n                    sensorsOk = disabledSensors.every(sensorId => systemState[sensorId]?.binarySensor?.value === false);\n                }\n            }\n\n            let isSensorEnabled = true;\n            if (\n                source === DetectionRuleSource.Plugin &&\n                deviceType &&\n                [ScryptedDeviceType.Lock, ScryptedDeviceType.Sensor].includes(deviceType) &&\n                !mainDevices.length\n            ) {\n                if (deviceType === ScryptedDeviceType.Lock) {\n                    isSensorEnabled = detectionClasses.includes(DetectionClass.DoorLock);\n                } else if (deviceType === ScryptedDeviceType.Sensor) {\n                    isSensorEnabled = detectionClasses.includes(DetectionClass.DoorSensor);\n                }\n            }\n\n            let isSecuritySystemEnabled = true;\n            if (\n                activationType === DetectionRuleActivation.AlarmSystem\n            ) {\n                const securitySystemDeviceId = mainPluginStorage['securitySystem']?.value as string;\n                if (securitySystemDeviceId) {\n                    const securitySystemDevice = sdk.systemManager.getDeviceById<SecuritySystem>(securitySystemDeviceId);\n                    const currentMode = securitySystemDevice.securitySystemState?.mode;\n                    isSecuritySystemEnabled = currentMode ? securitySystemModes.includes(currentMode) : false;\n                }\n            }\n\n            const ruleAllowed =\n                isEnabled &&\n                !!devicesToUse.length &&\n                (deviceId ? devicesToUse.includes(deviceId) : true) &&\n                !!notifiersTouse.length &&\n                timeAllowed &&\n                isSensorEnabled &&\n                sensorsOk &&\n                isSecuritySystemEnabled;\n\n            if (source === DetectionRuleSource.Plugin) {\n                allPluginRules.push(cloneDeep(detectionRule));\n            } else if (source === DetectionRuleSource.Device) {\n                allDeviceRules.push(cloneDeep(detectionRule));\n            }\n\n            if (!ruleAllowed) {\n                skippedRules.push(detectionRule);\n            } else {\n                if (useNvrDetections) {\n                    nvrRules.push(detectionRule);\n                } else {\n                    detectionRules.push(detectionRule);\n                }\n            }\n\n        }\n    };\n\n    processRules(mainPluginStorage, DetectionRuleSource.Plugin);\n\n    if (deviceStorage) {\n        processRules(deviceStorage, DetectionRuleSource.Device);\n    }\n\n    return { detectionRules, skippedRules, nvrRules, allPluginRules, allDeviceRules };\n}\n\nexport interface OccupancyRule {\n    name: string\n    notifiers: string[];\n    objectDetector: string;\n    detectionClass?: DetectionClass;\n    scoreThreshold?: number;\n    changeStateConfirm?: number;\n    forceUpdate?: number;\n    maxObjects?: number;\n    observeZone?: string;\n    zoneOccupiedText?: string;\n    zoneNotOccupiedText: string;\n    zoneType: ZoneMatchType;\n    priority: NotificationPriority;\n    actions?: string[];\n    captureZone?: Point[];\n}\n\nexport const getDeviceOccupancyRules = (\n    props: {\n        mainPluginStorage?: Record<string, StorageSetting>,\n        deviceStorage?: Record<string, StorageSetting>,\n    }\n) => {\n    const { deviceStorage, mainPluginStorage } = props;\n    const allOccupancyRules: OccupancyRule[] = [];\n    const occupancyRules: OccupancyRule[] = [];\n    const skippedOccupancyRules: OccupancyRule[] = [];\n\n    const activeNotifiers = mainPluginStorage['notifiers']?.value as string[] ?? [];\n\n    const occupancyRuleNames = deviceStorage[occupancyRulesKey]?.value as string[] ??\n        deviceStorage[`homeassistantMetadata:${occupancyRulesKey}`]?.value as string[] ??\n        [];\n\n    for (const occupancyRuleName of occupancyRuleNames) {\n        const {\n            detecionClassKey,\n            enabledKey,\n            notifiersKey,\n            zoneKey,\n            objectDetectorKey,\n            scoreThresholdKey,\n            zoneNotOccupiedTextKey,\n            zoneOccupiedTextKey,\n            zoneMatchTypeKey,\n            changeStateConfirmKey,\n            actionsKey,\n            priorityKey,\n            maxObjectsKey,\n            forceUpdateKey,\n            captureZoneKey,\n        } = getOccupancyRuleKeys(occupancyRuleName);\n\n        const isEnabled = JSON.parse(deviceStorage[enabledKey]?.value as string ?? 'false');\n\n        const notifiers = deviceStorage[notifiersKey]?.value as string[] ?? [];\n        const notifiersTouse = notifiers.filter(notifierId => activeNotifiers.includes(notifierId));\n\n        const zoneOccupiedText = deviceStorage[zoneOccupiedTextKey]?.value as string || undefined;\n        const zoneNotOccupiedText = deviceStorage[zoneNotOccupiedTextKey]?.value as string || undefined;\n        const objectDetector = deviceStorage[objectDetectorKey]?.value as string;\n        const detectionClass = deviceStorage[detecionClassKey]?.value as DetectionClass;\n        const scoreThreshold = Number(deviceStorage[scoreThresholdKey]?.value || 0.5);\n        const changeStateConfirm = Number(deviceStorage[changeStateConfirmKey]?.value || 30) || 30;\n        const forceUpdate = Number(deviceStorage[forceUpdateKey]?.value || 30) || 30;\n        const maxObjects = Number(deviceStorage[maxObjectsKey]?.value || 1);\n        const observeZone = deviceStorage[zoneKey]?.value as string;\n        const zoneMatchType = deviceStorage[zoneMatchTypeKey]?.value as ZoneMatchType ?? ZoneMatchType.Intersect;\n        const priority = deviceStorage[priorityKey]?.value as NotificationPriority;\n        const actions = deviceStorage[actionsKey]?.value as string[];\n        const captureZone = JSON.parse(deviceStorage[captureZoneKey]?.value as string ?? '[]') as Point[];\n\n        const occupancyRule: OccupancyRule = {\n            name: occupancyRuleName,\n            notifiers: notifiersTouse,\n            objectDetector,\n            zoneNotOccupiedText,\n            zoneOccupiedText,\n            detectionClass,\n            observeZone,\n            scoreThreshold,\n            changeStateConfirm,\n            forceUpdate,\n            zoneType: zoneMatchType,\n            priority,\n            actions,\n            maxObjects,\n            captureZone\n        };\n\n        const ruleAllowed = isEnabled && !!detectionClass && !!observeZone;\n\n        allOccupancyRules.push(occupancyRule);\n        if (!ruleAllowed) {\n            skippedOccupancyRules.push(occupancyRule);\n        } else {\n            occupancyRules.push(occupancyRule);\n        }\n\n    }\n\n    return { occupancyRules, skippedOccupancyRules, allOccupancyRules };\n}\n\nexport const addBoundingToImage = async (boundingBox: number[], imageBuffer: Buffer, console: Console, label: string) => {\n    const [x, y, width, height] = boundingBox;\n    console.log(`Trying to add boundingBox ${boundingBox}`);\n    const borderWidth = 5;\n    try {\n        const createRectangle = async () => {\n            // Buffer per il rettangolo pieno\n            const fullRect = await sharp({\n                create: {\n                    width,\n                    height,\n                    channels: 4,\n                    background: { r: 255, g: 255, b: 255, alpha: 1 }, // Bianco\n                },\n            })\n                .png()\n                .toBuffer();\n\n            // Crea il rettangolo vuoto\n            const hollowRect = await sharp(fullRect)\n                .extract({ // Rimuovi la parte interna\n                    left: borderWidth,\n                    top: borderWidth,\n                    width: width - borderWidth * 2,\n                    height: height - borderWidth * 2,\n                })\n                .toBuffer();\n\n            return sharp(fullRect)\n                .composite([{\n                    input: hollowRect,\n                    blend: 'dest-out' // Rende l'interno trasparente\n                }])\n                .toBuffer();\n        };\n\n        const rectangle = await createRectangle();\n\n        const newImageBuffer = await sharp(imageBuffer)\n            .composite([{\n                input: rectangle,\n                top: y,\n                left: x,\n            }])\n            .png()\n            .toBuffer();\n\n        const b64Image = newImageBuffer.toString('base64');\n        const newImage = await sdk.mediaManager.createMediaObject(imageBuffer, ScryptedMimeTypes.Image);\n        console.log(`Bounding box added ${boundingBox}: ${b64Image}`);\n\n        return { newImageBuffer, newImage, b64Image };\n    } catch (e) {\n        console.log('Error adding bounding box', e);\n        return {}\n    }\n}\n\nexport const getPushoverPriority = (priority: NotificationPriority) => priority === NotificationPriority.High ? 1 :\n    priority === NotificationPriority.Normal ? 0 :\n        priority === NotificationPriority.Low ? -1 :\n            -2;\n\nexport const normalizeBoxToClipPath = (boundingBox: [number, number, number, number], inputDimensions: [number, number]): [Point, Point, Point, Point] => {\n    let [x, y, width, height] = boundingBox;\n    let x2 = x + width;\n    let y2 = y + height;\n    // the zones are point paths in percentage format\n    x = x / inputDimensions[0];\n    y = y / inputDimensions[1];\n    x2 = x2 / inputDimensions[0];\n    y2 = y2 / inputDimensions[1];\n    return [[x, y], [x2, y], [x2, y2], [x, y2]];\n}","import sdk, { Settings, MixinDeviceBase, MixinDeviceOptions } from \"@scrypted/sdk\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { BasePlugin } from \"./basePlugin\";\n\nexport class BaseMixin extends MixinDeviceBase<Settings> {\n    logger: Console;\n    killed: boolean;\n    baseStorageSettings = new StorageSettings(this, {\n        debug: {\n            title: 'Log debug messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n        },\n    });\n\n    constructor(\n        options: MixinDeviceOptions<Settings>,\n        public plugin: BasePlugin\n    ) {\n        super(options);\n\n        // this.plugin.currentMixinsMap[this.name] = this;\n    }\n\n    async release() {\n        this.killed = true;\n    }\n\n    getLogger() {\n        const deviceConsole = sdk.deviceManager.getMixinConsole(this.id, this.nativeId);\n\n        if (!this.logger) {\n            const log = (debug: boolean, message?: any, ...optionalParams: any[]) => {\n                const now = new Date().toLocaleString();\n                if (!debug || this.baseStorageSettings.getItem('debug')) {\n                    deviceConsole.log(` ${now} - `, message, ...optionalParams);\n                }\n            };\n            this.logger = {\n                log: (message?: any, ...optionalParams: any[]) => log(false, message, ...optionalParams),\n                debug: (message?: any, ...optionalParams: any[]) => log(true, message, ...optionalParams),\n            } as Console\n        }\n\n        return this.logger;\n    }\n}","import sdk, { ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, Setting, Settings, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSetting, StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport MqttClient from './mqtt-client';\nimport { BaseMixin } from \"./baseMixin\";\nimport axios from \"axios\";\nimport https from 'https';\n\nconst { systemManager } = sdk;\n\ninterface HaEntityState {\n    entity_id: string,\n    state: string,\n    last_reported: string,\n    attributes: {\n        device_class: string,\n        friendly_name: string,\n        unit_of_measurement: string,\n        last_seen: string\n    }\n}\n\nconst httpsAgent = new https.Agent({\n    rejectUnauthorized: false,\n});\n\nexport type BaseSettingsKey = 'pluginEnabled'\n    | 'mqttEnabled'\n    | 'debug'\n    | 'devNotifier'\n    | 'useMqttPluginCredentials'\n    | 'mqttHost'\n    | 'mqttUsename'\n    | 'mqttPassword'\n    | 'haEnabled'\n    | 'useHaPluginCredentials'\n    | 'haAccessToken'\n    | 'haAddress'\n    | 'haProtocol'\n\nexport const getBaseSettings = (props: {\n    onPluginSwitch?: StorageSetting['onPut'],\n    hideMqtt?: boolean,\n    hideHa?: boolean,\n}) => {\n    const { onPluginSwitch, hideMqtt, hideHa = true } = props;\n    const settings: StorageSettingsDict<BaseSettingsKey> = {\n        pluginEnabled: {\n            title: 'Plugin enabled',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n            group: 'Base',\n            onPut: onPluginSwitch\n        },\n        mqttEnabled: {\n            title: 'MQTT enabled',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n            group: 'Base',\n            hide: hideMqtt\n        },\n        debug: {\n            title: 'Log debug messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n            group: 'Base',\n        },\n        devNotifier: {\n            title: 'DEV notifier',\n            type: 'device',\n            deviceFilter: `(type === '${ScryptedDeviceType.Notifier}')`,\n            group: 'Base',\n        },\n        useMqttPluginCredentials: {\n            title: 'Use MQTT plugin credentials',\n            subgroup: 'MQTT',\n            type: 'boolean',\n            immediate: true,\n            group: 'Base',\n            hide: hideMqtt\n        },\n        mqttHost: {\n            title: 'Host',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt address.',\n            placeholder: 'mqtt://192.168.1.100',\n            group: 'Base',\n            hide: hideMqtt\n        },\n        mqttUsename: {\n            title: 'Username',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt username.',\n            group: 'Base',\n            hide: hideMqtt\n        },\n        mqttPassword: {\n            title: 'Password',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt password.',\n            type: 'password',\n            group: 'Base',\n            hide: hideMqtt\n        },\n        haEnabled: {\n            title: 'Homeassistent enabled',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n            hide: hideHa\n        },\n        useHaPluginCredentials: {\n            group: 'Base',\n            subgroup: 'Homeassistant',\n            title: 'Use HA plugin credentials',\n            type: 'boolean',\n            immediate: true,\n            hide: hideHa\n        },\n        haAccessToken: {\n            group: 'Base',\n            subgroup: 'Homeassistant',\n            title: 'HAPersonal access token',\n            type: 'string',\n            hide: hideHa\n        },\n        haProtocol: {\n            group: 'Base',\n            subgroup: 'Homeassistant',\n            title: 'Protocol',\n            type: 'string',\n            choices: ['http', 'https'],\n            defaultValue: ['http'],\n            hide: hideHa\n        },\n        haAddress: {\n            group: 'Base',\n            subgroup: 'Homeassistant',\n            title: 'Address',\n            placeholder: 'https://192.168.1.1',\n            type: 'string',\n            hide: hideHa\n        },\n    };\n\n    return settings;\n};\n\nexport class BasePlugin extends ScryptedDeviceBase implements Settings {\n    public mqttClient: MqttClient;\n    private mainLogger: Console;\n    // public currentMixinsMap: Record<string, BaseMixin> = {};\n    public storageSettings: StorageSettings<BaseSettingsKey>;\n\n\n    constructor(nativeId: string, public opts: {\n        pluginFriendlyName: string,\n        mixinGroup?: string,\n        mixinKey?: string,\n    }) {\n        super(nativeId);\n    }\n\n    async getSettings(): Promise<Setting[]> {\n        const { mqttEnabled, useMqttPluginCredentials, haEnabled, useHaPluginCredentials } = this.storageSettings.values;\n        const { haEnabled: haEnabledSetting, mqttEnabled: mqttEnabledSetting } = this.storageSettings.settings;\n        if (mqttEnabledSetting.hide || !mqttEnabled) {\n            this.storageSettings.settings.mqttHost.hide = true;\n            this.storageSettings.settings.mqttPassword.hide = true;\n            this.storageSettings.settings.mqttUsename.hide = true;\n            this.storageSettings.settings.useMqttPluginCredentials.hide = true;\n        } else {\n            this.storageSettings.settings.mqttHost.hide = useMqttPluginCredentials;\n            this.storageSettings.settings.mqttPassword.hide = useMqttPluginCredentials;\n            this.storageSettings.settings.mqttUsename.hide = useMqttPluginCredentials;\n            this.storageSettings.settings.useMqttPluginCredentials.hide = false;\n        }\n\n        if (haEnabledSetting.hide || !haEnabled) {\n            this.storageSettings.settings.haAccessToken.hide = true;\n            this.storageSettings.settings.haProtocol.hide = true;\n            this.storageSettings.settings.haAddress.hide = true;\n            this.storageSettings.settings.useHaPluginCredentials.hide = true;\n        } else {\n            this.storageSettings.settings.haAccessToken.hide = useHaPluginCredentials;\n            this.storageSettings.settings.haProtocol.hide = useHaPluginCredentials;\n            this.storageSettings.settings.haAddress.hide = useHaPluginCredentials;\n            this.storageSettings.settings.useHaPluginCredentials.hide = false;\n        }\n\n        const settings = await this.storageSettings.getSettings();\n\n        return settings;\n    }\n\n\n\n    getHaApiUrl = async () => {\n        const { haAccessToken, haAddress, haProtocol, useHaPluginCredentials } = this.storageSettings.values;\n\n        let accessToken = haAccessToken;\n        let protocol = haProtocol;\n        let address = haAddress;\n\n        if (useHaPluginCredentials) {\n            const haDevice = systemManager.getDeviceByName('Home Assistant') as unknown as Settings;\n            const haSettings = await haDevice.getSettings();\n\n            accessToken = haSettings.find(setting => setting.key === 'personalAccessToken')?.value as string;\n            address = haSettings.find(setting => setting.key === 'address')?.value as string;\n            protocol = haSettings.find(setting => setting.key === 'protocol')?.value as string;\n        }\n\n        if (!accessToken || !address || !protocol) {\n            throw new Error(`HA access params not set correctly: AccessToken: ${accessToken}, Address: ${address}, Protocol: ${protocol}`);\n        }\n\n\n        const url = `${protocol}://${address}`;\n\n        return {\n            accessToken,\n            address,\n            protocol,\n            url,\n        }\n    }\n\n    async getHaApi() {\n        const { accessToken, url } = await this.getHaApiUrl();\n\n        const getTemplateData = (template: string) => axios.post<string>(`${url}/api/template`,\n            { \"template\": template },\n            {\n                headers: {\n                    'Authorization': 'Bearer ' + accessToken,\n                },\n                httpsAgent\n            });\n\n        const getStatesDate = () => axios.get<HaEntityState[]>(`${url}/api/states`,\n            {\n                headers: {\n                    'Authorization': 'Bearer ' + accessToken,\n                },\n                httpsAgent\n            });\n\n        const getCalendarEvents = (entityId: string, fromDate: string, toDate: string) => {\n            return axios.post<{ service_response: Record<string, { events: { start: string, end: string, summary: string }[] }> }>(`${url}/api/services/calendar/get_events?return_response`,\n                {\n                    start_date_time: fromDate,\n                    end_date_time: toDate,\n                    entity_id: entityId\n                },\n                {\n                    headers: {\n                        'Authorization': 'Bearer ' + accessToken,\n                    },\n                    httpsAgent\n                })\n        }\n\n        return {\n            getTemplateData,\n            getStatesDate,\n            getCalendarEvents,\n        }\n    }\n\n    putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    private async setupMqttClient() {\n        const { mqttEnabled, useMqttPluginCredentials, pluginEnabled } = this.storageSettings.values;\n        if (mqttEnabled && pluginEnabled) {\n            let mqttHost: string;\n            let mqttUsename: string;\n            let mqttPassword: string;\n\n            const logger = this.getLogger();\n\n            if (this.mqttClient) {\n                this.mqttClient.disconnect();\n                this.mqttClient = undefined;\n            }\n\n            if (useMqttPluginCredentials) {\n                logger.log(`Using MQTT plugin credentials.`);\n                const mqttDevice = systemManager.getDeviceByName('MQTT') as unknown as Settings;\n                const mqttSettings = await mqttDevice.getSettings();\n\n                const isInternalBroker = (JSON.parse(mqttSettings.find(setting => setting.key === 'enableBroker')?.value as string || 'false')) as boolean;\n\n                if (isInternalBroker) {\n                    logger.log(`Internal MQTT broker not supported yet. Please disable useMqttPluginCredentials.`);\n                } else {\n                    mqttHost = mqttSettings.find(setting => setting.key === 'externalBroker')?.value as string;\n                    mqttUsename = mqttSettings.find(setting => setting.key === 'username')?.value as string;\n                    mqttPassword = mqttSettings.find(setting => setting.key === 'password')?.value as string;\n                }\n            } else {\n                logger.log(`Using provided credentials.`);\n\n                mqttHost = this.storageSettings.getItem('mqttHost');\n                mqttUsename = this.storageSettings.getItem('mqttUsename');\n                mqttPassword = this.storageSettings.getItem('mqttPassword');\n            }\n\n            if (!mqttHost || !mqttUsename || !mqttPassword) {\n                logger.log('MQTT params not provided');\n            }\n\n            try {\n                this.mqttClient = new MqttClient(mqttHost, mqttUsename, mqttPassword, logger);\n            } catch (e) {\n                this.getLogger().log('Error setting up MQTT client', e);\n            }\n        }\n    }\n\n    async getMqttClient() {\n        if (!this.mqttClient) {\n            await this.setupMqttClient();\n        }\n\n        return this.mqttClient;\n    }\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        const props = {\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: this.opts.mixinGroup,\n            groupKey: this.opts.mixinKey,\n        };\n\n        if (\n            [ScryptedInterface.Camera, ScryptedInterface.VideoCamera,].some(int => mixinDeviceInterfaces.includes(int))\n        ) {\n            return new BaseMixin(\n                props,\n                this\n            );\n        } else if (\n            [ScryptedInterface.BinarySensor, ScryptedInterface.Lock].some(int => mixinDeviceInterfaces.includes(int))\n        ) {\n            return new BaseMixin(\n                props,\n                this\n            );\n        } else if (mixinDeviceInterfaces.includes(ScryptedInterface.Notifier)) {\n            return new BaseMixin(\n                props,\n                this\n            );\n        }\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n\n    getLogger(): Console {\n        if (!this.mainLogger) {\n            const prefix = `[${this.opts.pluginFriendlyName}]`;\n            const log = (type: 'log' | 'debug' | 'error', message?: any, ...optionalParams: any[]) => {\n                const now = new Date().toLocaleString();\n                if (type !== 'debug' || this.storageSettings.getItem('debug')) {\n                    this.console.log(`${prefix} ${now} - `, message, ...optionalParams);\n                }\n                if (type === 'error' && this.storageSettings.values.devNotifier) {\n                    this.storageSettings.values.devNotifier.sendNotification(this.opts.pluginFriendlyName, {\n                        body: `${message}${optionalParams?.map(param => '\\n' + param)}`,\n                        data: {\n                            pushover: {\n                                priority: 1\n                            }\n                        }\n                    })\n                }\n            };\n\n            this.mainLogger = {\n                log: (message?: any, ...optionalParams: any[]) => log('log', message, ...optionalParams),\n                debug: (message?: any, ...optionalParams: any[]) => log('debug', message, ...optionalParams),\n                error: (message?: any, ...optionalParams: any[]) => log('error', message, ...optionalParams),\n            } as Console\n        }\n\n        return this.mainLogger\n    }\n}\n\n","import { connectAsync, MqttClient as Client } from 'mqtt';\nimport { ScryptedDeviceBase } from '@scrypted/sdk';\n\nexport default class MqttClient {\n    mqttClient: Client;\n    mqttPathmame: string;\n    host: string;\n    username: string;\n    password: string;\n    console: Console;\n    topicLastValue: Record<string, any> = {};\n    logger: Console;\n\n    constructor(host: string, username: string, password: string, logger: Console) {\n        this.host = host;\n        this.username = username;\n        this.password = password;\n        this.logger = logger;\n    }\n\n    async disconnect() {\n        if (this.mqttClient) {\n            try {\n                this.mqttClient.end(true);\n            } catch (e) {\n                this.logger.log('Error closing MQTT connection', e);\n            }\n        }\n    }\n\n    async getMqttClient(forceReconnect?: boolean): Promise<Client> {\n        const _connect = async () => {\n            const client = await connectAsync(this.mqttPathmame, {\n                rejectUnauthorized: false,\n                username: this.username,\n                password: this.password,\n                reschedulePings: true\n            });\n\n            client.on('connect', data => {\n                this.mqttClient = client;\n            });\n\n            client.on('error', data => {\n                this.logger.log('Error connecting to mqtt', data);\n                this.mqttClient = undefined;\n            });\n\n            client.setMaxListeners(Infinity);\n\n            this.logger.log('Connected to mqtt');\n            this.mqttClient = client;\n        }\n\n        if (!this.mqttClient || forceReconnect) {\n            if (forceReconnect && this.mqttClient) {\n                try {\n                    await this.mqttClient.endAsync();\n                } catch (e) { }\n            }\n            const url = this.host;\n            const urlWithoutPath = new URL(url);\n            urlWithoutPath.pathname = '';\n\n            this.mqttPathmame = urlWithoutPath.toString();\n            if (!this.mqttPathmame.endsWith('/')) {\n                this.mqttPathmame = `${this.mqttPathmame}/`;\n            }\n            this.logger.log('Starting MQTT connection', this.host, this.username, this.mqttPathmame);\n\n            await _connect();\n\n            if (this.mqttClient) {\n                this.mqttClient.onKeepaliveTimeout = async () => {\n                    this.logger.log('keepalive timeout. Reconnecting');\n                    this.mqttClient.reconnect();\n                }\n            }\n            return this.mqttClient;\n        } else if (!this.mqttClient.connected) {\n            this.logger.log('MQTT disconnected. Reconnecting', this.host, this.username, this.mqttPathmame);\n\n            await _connect();\n            return this.mqttClient;\n        } else {\n            return this.mqttClient;\n        }\n    }\n\n    async publish(topic: string, inputValue: any, retain = true) {\n        let value;\n        try {\n            if (typeof inputValue === 'object')\n                value = JSON.stringify(inputValue);\n            if (inputValue.constructor.name !== Buffer.name)\n                value = inputValue.toString();\n        } catch (e) {\n            this.logger.log(`Error parsing publish values: ${JSON.stringify({ topic, value })}`, e);\n            return;\n        }\n\n        if (retain && this.topicLastValue[topic] === value) {\n            this.logger.debug(`Skipping publish, same as previous value: ${JSON.stringify({ topic, value, previousValue: this.topicLastValue[topic] })}`);\n\n            return;\n        }\n\n        this.logger.debug(`Publishing ${JSON.stringify({ topic, value })}`);\n        const client = await this.getMqttClient();\n        try {\n            await client.publishAsync(topic, value, { retain });\n        } catch (e) {\n            this.logger.log(`Error publishing to MQTT. Reconnecting. ${JSON.stringify({ topic, value })}`, e);\n            await this.getMqttClient(true);\n            await client.publishAsync(topic, value, { retain }).catch(e => this.logger.log(`Error publish retry. ${JSON.stringify({ topic, value })}`, e));\n        } finally {\n            if (retain) {\n                this.topicLastValue[topic] = value;\n            }\n        }\n    }\n\n    public getMqttTopicTopics<Domain extends string = string>(pluginName: string, device: ScryptedDeviceBase) {\n        const deviceId = device.id;\n\n        const getEntityTopic = (entity: string) => `scrypted/${pluginName}/${deviceId}/${entity}`;\n        const getInfoTopic = (entity: string) => `${getEntityTopic(entity)}/info`;\n        const getDiscoveryTopic = (domain: Domain, entity: string) => `homeassistant/${domain}/${pluginName}-${deviceId}/${entity}/config`;\n\n        return {\n            getEntityTopic,\n            getDiscoveryTopic,\n            getInfoTopic,\n        }\n    }\n\n    async subscribeToTopic(topic: string, cb: (message: any) => void) {\n        const client = await this.getMqttClient();\n        await client.unsubscribeAsync([topic]);\n        await client.subscribeAsync([topic]);\n\n        client.on('message', (messageTopic, message) => {\n            const messageString = message.toString();\n            if (messageTopic === topic) {\n                cb(messageString);\n            }\n        })\n    }\n\n    async subscribe(topics: string[], cb: (topic: string, message: string) => Promise<void>) {\n        await this.unsubscribe(topics);\n        await this.mqttClient.subscribeAsync(topics);\n\n        this.mqttClient.on('message', async (topic, message) => {\n            const messageString = message.toString();\n            await cb(topic, messageString)\n        });\n    }\n\n    async unsubscribe(topics: string[]) {\n        await this.mqttClient.unsubscribeAsync(topics);\n    }\n\n    removeAllListeners() {\n        this.mqttClient.removeAllListeners();\n    }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    if (process.env.SCRYPTED_SDK_MODULE) {\n        try {\n            // @ts-expect-error\n            if (typeof import.meta !== 'undefined') {\n                // @ts-expect-error\n                const require = (0, module_1.createRequire)(import.meta.url);\n                const sdkModule = require(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n        catch (e) {\n            console.warn(\"failed to load sdk module\", e);\n        }\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageSettings = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { systemManager } = _1.default;\nfunction parseValue(value, setting, readDefaultValue, rawDevice) {\n    if (value === null || value === undefined) {\n        return readDefaultValue();\n    }\n    const type = setting.multiple ? 'array' : setting.type;\n    if (type === 'boolean') {\n        if (value === 'true')\n            return true;\n        if (value === 'false')\n            return false;\n        return readDefaultValue() || false;\n    }\n    if (type === 'number') {\n        const n = parseFloat(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'integer') {\n        const n = parseInt(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'array') {\n        if (!value)\n            return readDefaultValue() || [];\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue() || [];\n        }\n    }\n    if (type === 'device') {\n        if (rawDevice)\n            return value;\n        return systemManager.getDeviceById(value) || systemManager.getDeviceById(readDefaultValue());\n    }\n    // string type, so check if it is json.\n    if (value && setting.json) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue();\n        }\n    }\n    return value || readDefaultValue();\n}\nclass StorageSettings {\n    constructor(device, settings) {\n        this.device = device;\n        this.settings = settings;\n        this.values = {};\n        this.hasValue = {};\n        for (const key of Object.keys(settings)) {\n            const setting = settings[key];\n            const rawGet = () => this.getItem(key);\n            let get;\n            if (setting.type !== 'clippath') {\n                get = rawGet;\n            }\n            else {\n                // maybe need a mapPut. clippath is the only complex type at the moment.\n                get = () => {\n                    try {\n                        return JSON.parse(rawGet());\n                    }\n                    catch (e) {\n                    }\n                };\n            }\n            Object.defineProperty(this.values, key, {\n                get,\n                set: value => this.putSetting(key, value),\n                enumerable: true,\n            });\n            Object.defineProperty(this.hasValue, key, {\n                get: () => this.device.storage.getItem(key) != null,\n                enumerable: true,\n            });\n        }\n    }\n    get keys() {\n        const ret = {};\n        for (const key of Object.keys(this.settings)) {\n            ret[key] = key;\n        }\n        return ret;\n    }\n    async getSettings() {\n        const onGet = await this.options?.onGet?.();\n        const ret = [];\n        for (const [key, setting] of Object.entries(this.settings)) {\n            let s = Object.assign({}, setting);\n            if (onGet?.[key])\n                s = Object.assign(s, onGet[key]);\n            if (s.onGet)\n                s = Object.assign(s, await s.onGet());\n            if (s.hide || await this.options?.hide?.[key]?.())\n                continue;\n            s.key = key;\n            s.value = this.getItemInternal(key, s, true);\n            ret.push(s);\n            delete s.onPut;\n            delete s.onGet;\n            delete s.mapPut;\n            delete s.mapGet;\n        }\n        return ret;\n    }\n    async putSetting(key, value) {\n        const setting = this.settings[key];\n        let oldValue;\n        if (setting)\n            oldValue = this.getItemInternal(key, setting);\n        return this.putSettingInternal(setting, oldValue, key, value);\n    }\n    putSettingInternal(setting, oldValue, key, value) {\n        if (!setting?.noStore) {\n            if (setting?.mapPut)\n                value = setting.mapPut(oldValue, value);\n            // nullish values should be removed, since Storage can't persist them correctly.\n            if (value == null)\n                this.device.storage.removeItem(key);\n            else if (typeof value === 'object')\n                this.device.storage.setItem(key, JSON.stringify(value));\n            else\n                this.device.storage.setItem(key, value?.toString());\n        }\n        setting?.onPut?.(oldValue, value);\n        if (!setting?.hide)\n            this.device.onDeviceEvent(_1.ScryptedInterface.Settings, undefined);\n    }\n    getItemInternal(key, setting, rawDevice) {\n        if (!setting)\n            return this.device.storage.getItem(key);\n        const readDefaultValue = () => {\n            if (setting.persistedDefaultValue != null) {\n                this.putSettingInternal(setting, undefined, key, setting.persistedDefaultValue);\n                return setting.persistedDefaultValue;\n            }\n            return setting.defaultValue;\n        };\n        const ret = parseValue(this.device.storage.getItem(key), setting, readDefaultValue, rawDevice);\n        return setting.mapGet ? setting.mapGet(ret) : ret;\n    }\n    getItem(key) {\n        return this.getItemInternal(key, this.settings[key]);\n    }\n}\nexports.StorageSettings = StorageSettings;\n//# sourceMappingURL=storage-settings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.91\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectTracker\": {\n        \"name\": \"ObjectTracker\",\n        \"methods\": [\n            \"trackObjects\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar eventTargetShim = require('event-target-shim');\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nclass AbortSignal extends eventTargetShim.EventTarget {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    constructor() {\n        super();\n        throw new TypeError(\"AbortSignal cannot be constructed directly\");\n    }\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    get aborted() {\n        const aborted = abortedFlags.get(this);\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? \"null\" : typeof this}`);\n        }\n        return aborted;\n    }\n}\neventTargetShim.defineEventAttribute(AbortSignal.prototype, \"abort\");\n/**\n * Create an AbortSignal object.\n */\nfunction createAbortSignal() {\n    const signal = Object.create(AbortSignal.prototype);\n    eventTargetShim.EventTarget.call(signal);\n    abortedFlags.set(signal, false);\n    return signal;\n}\n/**\n * Abort a given signal.\n */\nfunction abortSignal(signal) {\n    if (abortedFlags.get(signal) !== false) {\n        return;\n    }\n    abortedFlags.set(signal, true);\n    signal.dispatchEvent({ type: \"abort\" });\n}\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap();\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n});\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    });\n}\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nclass AbortController {\n    /**\n     * Initialize this controller.\n     */\n    constructor() {\n        signals.set(this, createAbortSignal());\n    }\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    get signal() {\n        return getSignal(this);\n    }\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    abort() {\n        abortSignal(getSignal(this));\n    }\n}\n/**\n * Associated signals.\n */\nconst signals = new WeakMap();\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller) {\n    const signal = signals.get(controller);\n    if (signal == null) {\n        throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? \"null\" : typeof controller}`);\n    }\n    return signal;\n}\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n});\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    });\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.default = AbortController;\n\nmodule.exports = AbortController\nmodule.exports.AbortController = module.exports[\"default\"] = AbortController\nmodule.exports.AbortSignal = AbortSignal\n//# sourceMappingURL=abort-controller.js.map\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst symbol = Symbol.for('BufferList')\n\nfunction BufferList (buf) {\n  if (!(this instanceof BufferList)) {\n    return new BufferList(buf)\n  }\n\n  BufferList._init.call(this, buf)\n}\n\nBufferList._init = function _init (buf) {\n  Object.defineProperty(this, symbol, { value: true })\n\n  this._bufs = []\n  this.length = 0\n\n  if (buf) {\n    this.append(buf)\n  }\n}\n\nBufferList.prototype._new = function _new (buf) {\n  return new BufferList(buf)\n}\n\nBufferList.prototype._offset = function _offset (offset) {\n  if (offset === 0) {\n    return [0, 0]\n  }\n\n  let tot = 0\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    const _t = tot + this._bufs[i].length\n    if (offset < _t || i === this._bufs.length - 1) {\n      return [i, offset - tot]\n    }\n    tot = _t\n  }\n}\n\nBufferList.prototype._reverseOffset = function (blOffset) {\n  const bufferId = blOffset[0]\n  let offset = blOffset[1]\n\n  for (let i = 0; i < bufferId; i++) {\n    offset += this._bufs[i].length\n  }\n\n  return offset\n}\n\nBufferList.prototype.get = function get (index) {\n  if (index > this.length || index < 0) {\n    return undefined\n  }\n\n  const offset = this._offset(index)\n\n  return this._bufs[offset[0]][offset[1]]\n}\n\nBufferList.prototype.slice = function slice (start, end) {\n  if (typeof start === 'number' && start < 0) {\n    start += this.length\n  }\n\n  if (typeof end === 'number' && end < 0) {\n    end += this.length\n  }\n\n  return this.copy(null, 0, start, end)\n}\n\nBufferList.prototype.copy = function copy (dst, dstStart, srcStart, srcEnd) {\n  if (typeof srcStart !== 'number' || srcStart < 0) {\n    srcStart = 0\n  }\n\n  if (typeof srcEnd !== 'number' || srcEnd > this.length) {\n    srcEnd = this.length\n  }\n\n  if (srcStart >= this.length) {\n    return dst || Buffer.alloc(0)\n  }\n\n  if (srcEnd <= 0) {\n    return dst || Buffer.alloc(0)\n  }\n\n  const copy = !!dst\n  const off = this._offset(srcStart)\n  const len = srcEnd - srcStart\n  let bytes = len\n  let bufoff = (copy && dstStart) || 0\n  let start = off[1]\n\n  // copy/slice everything\n  if (srcStart === 0 && srcEnd === this.length) {\n    if (!copy) {\n      // slice, but full concat if multiple buffers\n      return this._bufs.length === 1\n        ? this._bufs[0]\n        : Buffer.concat(this._bufs, this.length)\n    }\n\n    // copy, need to copy individual buffers\n    for (let i = 0; i < this._bufs.length; i++) {\n      this._bufs[i].copy(dst, bufoff)\n      bufoff += this._bufs[i].length\n    }\n\n    return dst\n  }\n\n  // easy, cheap case where it's a subset of one of the buffers\n  if (bytes <= this._bufs[off[0]].length - start) {\n    return copy\n      ? this._bufs[off[0]].copy(dst, dstStart, start, start + bytes)\n      : this._bufs[off[0]].slice(start, start + bytes)\n  }\n\n  if (!copy) {\n    // a slice, we need something to copy in to\n    dst = Buffer.allocUnsafe(len)\n  }\n\n  for (let i = off[0]; i < this._bufs.length; i++) {\n    const l = this._bufs[i].length - start\n\n    if (bytes > l) {\n      this._bufs[i].copy(dst, bufoff, start)\n      bufoff += l\n    } else {\n      this._bufs[i].copy(dst, bufoff, start, start + bytes)\n      bufoff += l\n      break\n    }\n\n    bytes -= l\n\n    if (start) {\n      start = 0\n    }\n  }\n\n  // safeguard so that we don't return uninitialized memory\n  if (dst.length > bufoff) return dst.slice(0, bufoff)\n\n  return dst\n}\n\nBufferList.prototype.shallowSlice = function shallowSlice (start, end) {\n  start = start || 0\n  end = typeof end !== 'number' ? this.length : end\n\n  if (start < 0) {\n    start += this.length\n  }\n\n  if (end < 0) {\n    end += this.length\n  }\n\n  if (start === end) {\n    return this._new()\n  }\n\n  const startOffset = this._offset(start)\n  const endOffset = this._offset(end)\n  const buffers = this._bufs.slice(startOffset[0], endOffset[0] + 1)\n\n  if (endOffset[1] === 0) {\n    buffers.pop()\n  } else {\n    buffers[buffers.length - 1] = buffers[buffers.length - 1].slice(0, endOffset[1])\n  }\n\n  if (startOffset[1] !== 0) {\n    buffers[0] = buffers[0].slice(startOffset[1])\n  }\n\n  return this._new(buffers)\n}\n\nBufferList.prototype.toString = function toString (encoding, start, end) {\n  return this.slice(start, end).toString(encoding)\n}\n\nBufferList.prototype.consume = function consume (bytes) {\n  // first, normalize the argument, in accordance with how Buffer does it\n  bytes = Math.trunc(bytes)\n  // do nothing if not a positive number\n  if (Number.isNaN(bytes) || bytes <= 0) return this\n\n  while (this._bufs.length) {\n    if (bytes >= this._bufs[0].length) {\n      bytes -= this._bufs[0].length\n      this.length -= this._bufs[0].length\n      this._bufs.shift()\n    } else {\n      this._bufs[0] = this._bufs[0].slice(bytes)\n      this.length -= bytes\n      break\n    }\n  }\n\n  return this\n}\n\nBufferList.prototype.duplicate = function duplicate () {\n  const copy = this._new()\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    copy.append(this._bufs[i])\n  }\n\n  return copy\n}\n\nBufferList.prototype.append = function append (buf) {\n  if (buf == null) {\n    return this\n  }\n\n  if (buf.buffer) {\n    // append a view of the underlying ArrayBuffer\n    this._appendBuffer(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength))\n  } else if (Array.isArray(buf)) {\n    for (let i = 0; i < buf.length; i++) {\n      this.append(buf[i])\n    }\n  } else if (this._isBufferList(buf)) {\n    // unwrap argument into individual BufferLists\n    for (let i = 0; i < buf._bufs.length; i++) {\n      this.append(buf._bufs[i])\n    }\n  } else {\n    // coerce number arguments to strings, since Buffer(number) does\n    // uninitialized memory allocation\n    if (typeof buf === 'number') {\n      buf = buf.toString()\n    }\n\n    this._appendBuffer(Buffer.from(buf))\n  }\n\n  return this\n}\n\nBufferList.prototype._appendBuffer = function appendBuffer (buf) {\n  this._bufs.push(buf)\n  this.length += buf.length\n}\n\nBufferList.prototype.indexOf = function (search, offset, encoding) {\n  if (encoding === undefined && typeof offset === 'string') {\n    encoding = offset\n    offset = undefined\n  }\n\n  if (typeof search === 'function' || Array.isArray(search)) {\n    throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.')\n  } else if (typeof search === 'number') {\n    search = Buffer.from([search])\n  } else if (typeof search === 'string') {\n    search = Buffer.from(search, encoding)\n  } else if (this._isBufferList(search)) {\n    search = search.slice()\n  } else if (Array.isArray(search.buffer)) {\n    search = Buffer.from(search.buffer, search.byteOffset, search.byteLength)\n  } else if (!Buffer.isBuffer(search)) {\n    search = Buffer.from(search)\n  }\n\n  offset = Number(offset || 0)\n\n  if (isNaN(offset)) {\n    offset = 0\n  }\n\n  if (offset < 0) {\n    offset = this.length + offset\n  }\n\n  if (offset < 0) {\n    offset = 0\n  }\n\n  if (search.length === 0) {\n    return offset > this.length ? this.length : offset\n  }\n\n  const blOffset = this._offset(offset)\n  let blIndex = blOffset[0] // index of which internal buffer we're working on\n  let buffOffset = blOffset[1] // offset of the internal buffer we're working on\n\n  // scan over each buffer\n  for (; blIndex < this._bufs.length; blIndex++) {\n    const buff = this._bufs[blIndex]\n\n    while (buffOffset < buff.length) {\n      const availableWindow = buff.length - buffOffset\n\n      if (availableWindow >= search.length) {\n        const nativeSearchResult = buff.indexOf(search, buffOffset)\n\n        if (nativeSearchResult !== -1) {\n          return this._reverseOffset([blIndex, nativeSearchResult])\n        }\n\n        buffOffset = buff.length - search.length + 1 // end of native search window\n      } else {\n        const revOffset = this._reverseOffset([blIndex, buffOffset])\n\n        if (this._match(revOffset, search)) {\n          return revOffset\n        }\n\n        buffOffset++\n      }\n    }\n\n    buffOffset = 0\n  }\n\n  return -1\n}\n\nBufferList.prototype._match = function (offset, search) {\n  if (this.length - offset < search.length) {\n    return false\n  }\n\n  for (let searchOffset = 0; searchOffset < search.length; searchOffset++) {\n    if (this.get(offset + searchOffset) !== search[searchOffset]) {\n      return false\n    }\n  }\n  return true\n}\n\n;(function () {\n  const methods = {\n    readDoubleBE: 8,\n    readDoubleLE: 8,\n    readFloatBE: 4,\n    readFloatLE: 4,\n    readBigInt64BE: 8,\n    readBigInt64LE: 8,\n    readBigUInt64BE: 8,\n    readBigUInt64LE: 8,\n    readInt32BE: 4,\n    readInt32LE: 4,\n    readUInt32BE: 4,\n    readUInt32LE: 4,\n    readInt16BE: 2,\n    readInt16LE: 2,\n    readUInt16BE: 2,\n    readUInt16LE: 2,\n    readInt8: 1,\n    readUInt8: 1,\n    readIntBE: null,\n    readIntLE: null,\n    readUIntBE: null,\n    readUIntLE: null\n  }\n\n  for (const m in methods) {\n    (function (m) {\n      if (methods[m] === null) {\n        BufferList.prototype[m] = function (offset, byteLength) {\n          return this.slice(offset, offset + byteLength)[m](0, byteLength)\n        }\n      } else {\n        BufferList.prototype[m] = function (offset = 0) {\n          return this.slice(offset, offset + methods[m])[m](0)\n        }\n      }\n    }(m))\n  }\n}())\n\n// Used internally by the class and also as an indicator of this object being\n// a `BufferList`. It's not possible to use `instanceof BufferList` in a browser\n// environment because there could be multiple different copies of the\n// BufferList class and some `BufferList`s might be `BufferList`s.\nBufferList.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferList || BufferList.isBufferList(b)\n}\n\nBufferList.isBufferList = function isBufferList (b) {\n  return b != null && b[symbol]\n}\n\nmodule.exports = BufferList\n","'use strict'\n\nconst DuplexStream = require('readable-stream').Duplex\nconst inherits = require('inherits')\nconst BufferList = require('./BufferList')\n\nfunction BufferListStream (callback) {\n  if (!(this instanceof BufferListStream)) {\n    return new BufferListStream(callback)\n  }\n\n  if (typeof callback === 'function') {\n    this._callback = callback\n\n    const piper = function piper (err) {\n      if (this._callback) {\n        this._callback(err)\n        this._callback = null\n      }\n    }.bind(this)\n\n    this.on('pipe', function onPipe (src) {\n      src.on('error', piper)\n    })\n    this.on('unpipe', function onUnpipe (src) {\n      src.removeListener('error', piper)\n    })\n\n    callback = null\n  }\n\n  BufferList._init.call(this, callback)\n  DuplexStream.call(this)\n}\n\ninherits(BufferListStream, DuplexStream)\nObject.assign(BufferListStream.prototype, BufferList.prototype)\n\nBufferListStream.prototype._new = function _new (callback) {\n  return new BufferListStream(callback)\n}\n\nBufferListStream.prototype._write = function _write (buf, encoding, callback) {\n  this._appendBuffer(buf)\n\n  if (typeof callback === 'function') {\n    callback()\n  }\n}\n\nBufferListStream.prototype._read = function _read (size) {\n  if (!this.length) {\n    return this.push(null)\n  }\n\n  size = Math.min(size, this.length)\n  this.push(this.slice(0, size))\n  this.consume(size)\n}\n\nBufferListStream.prototype.end = function end (chunk) {\n  DuplexStream.prototype.end.call(this, chunk)\n\n  if (this._callback) {\n    this._callback(null, this.slice())\n    this._callback = null\n  }\n}\n\nBufferListStream.prototype._destroy = function _destroy (err, cb) {\n  this._bufs.length = 0\n  this.length = 0\n  cb(err)\n}\n\nBufferListStream.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferListStream || b instanceof BufferList || BufferListStream.isBufferList(b)\n}\n\nBufferListStream.isBufferList = BufferList.isBufferList\n\nmodule.exports = BufferListStream\nmodule.exports.BufferListStream = BufferListStream\nmodule.exports.BufferList = BufferList\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget\nmodule.exports.defineEventAttribute = defineEventAttribute\n//# sourceMappingURL=event-target-shim.js.map\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity > read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, n) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, n) {\n            e.__proto__ = n;\n        } || function(e, n) {\n            for (var t in n) if (Object.prototype.hasOwnProperty.call(n, t)) e[t] = n[t];\n        };\n        return extendStatics(e, n);\n    };\n    return function(e, n) {\n        if (typeof n !== \"function\" && n !== null) throw new TypeError(\"Class extends value \" + String(n) + \" is not a constructor or null\");\n        extendStatics(e, n);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = n === null ? Object.create(n) : (__.prototype = n.prototype, new __);\n    };\n}();\n\nvar TreeNode = function() {\n    function TreeNode(e, n) {\n        this.ee = 1;\n        this.u = undefined;\n        this.p = undefined;\n        this.K = undefined;\n        this.N = undefined;\n        this.rr = undefined;\n        this.u = e;\n        this.p = n;\n    }\n    TreeNode.prototype.L = function() {\n        var e = this;\n        if (e.ee === 1 && e.rr.rr === e) {\n            e = e.N;\n        } else if (e.K) {\n            e = e.K;\n            while (e.N) {\n                e = e.N;\n            }\n        } else {\n            var n = e.rr;\n            while (n.K === e) {\n                e = n;\n                n = e.rr;\n            }\n            e = n;\n        }\n        return e;\n    };\n    TreeNode.prototype.m = function() {\n        var e = this;\n        if (e.N) {\n            e = e.N;\n            while (e.K) {\n                e = e.K;\n            }\n            return e;\n        } else {\n            var n = e.rr;\n            while (n.N === e) {\n                e = n;\n                n = e.rr;\n            }\n            if (e.N !== n) {\n                return n;\n            } else return e;\n        }\n    };\n    TreeNode.prototype.ne = function() {\n        var e = this.rr;\n        var n = this.N;\n        var t = n.K;\n        if (e.rr === this) e.rr = n; else if (e.K === this) e.K = n; else e.N = n;\n        n.rr = e;\n        n.K = this;\n        this.rr = n;\n        this.N = t;\n        if (t) t.rr = this;\n        return n;\n    };\n    TreeNode.prototype.te = function() {\n        var e = this.rr;\n        var n = this.K;\n        var t = n.N;\n        if (e.rr === this) e.rr = n; else if (e.K === this) e.K = n; else e.N = n;\n        n.rr = e;\n        n.N = this;\n        this.rr = n;\n        this.K = t;\n        if (t) t.rr = this;\n        return n;\n    };\n    return TreeNode;\n}();\n\nexport { TreeNode };\n\nvar TreeNodeEnableIndex = function(e) {\n    __extends(TreeNodeEnableIndex, e);\n    function TreeNodeEnableIndex() {\n        var n = e !== null && e.apply(this, arguments) || this;\n        n.tr = 1;\n        return n;\n    }\n    TreeNodeEnableIndex.prototype.ne = function() {\n        var n = e.prototype.ne.call(this);\n        this.ie();\n        n.ie();\n        return n;\n    };\n    TreeNodeEnableIndex.prototype.te = function() {\n        var n = e.prototype.te.call(this);\n        this.ie();\n        n.ie();\n        return n;\n    };\n    TreeNodeEnableIndex.prototype.ie = function() {\n        this.tr = 1;\n        if (this.K) {\n            this.tr += this.K.tr;\n        }\n        if (this.N) {\n            this.tr += this.N.tr;\n        }\n    };\n    return TreeNodeEnableIndex;\n}(TreeNode);\n\nexport { TreeNodeEnableIndex };\n//# sourceMappingURL=TreeNode.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(n, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(n, t) {\n            n.__proto__ = t;\n        } || function(n, t) {\n            for (var r in t) if (Object.prototype.hasOwnProperty.call(t, r)) n[r] = t[r];\n        };\n        return extendStatics(n, t);\n    };\n    return function(n, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(n, t);\n        function __() {\n            this.constructor = n;\n        }\n        n.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nvar ContainerIterator = function() {\n    function ContainerIterator(n) {\n        if (n === void 0) {\n            n = 0;\n        }\n        this.iteratorType = n;\n    }\n    ContainerIterator.prototype.equals = function(n) {\n        return this.o === n.o;\n    };\n    return ContainerIterator;\n}();\n\nexport { ContainerIterator };\n\nvar Base = function() {\n    function Base() {\n        this.M = 0;\n    }\n    Object.defineProperty(Base.prototype, \"length\", {\n        get: function() {\n            return this.M;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Base.prototype.size = function() {\n        return this.M;\n    };\n    Base.prototype.empty = function() {\n        return this.M === 0;\n    };\n    return Base;\n}();\n\nexport { Base };\n\nvar Container = function(n) {\n    __extends(Container, n);\n    function Container() {\n        return n !== null && n.apply(this, arguments) || this;\n    }\n    return Container;\n}(Base);\n\nexport { Container };\n//# sourceMappingURL=index.js.map\n","export function throwIteratorAccessError() {\n    throw new RangeError(\"Iterator access denied!\");\n}\n//# sourceMappingURL=throwError.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, r) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, r) {\n            e.__proto__ = r;\n        } || function(e, r) {\n            for (var i in r) if (Object.prototype.hasOwnProperty.call(r, i)) e[i] = r[i];\n        };\n        return extendStatics(e, r);\n    };\n    return function(e, r) {\n        if (typeof r !== \"function\" && r !== null) throw new TypeError(\"Class extends value \" + String(r) + \" is not a constructor or null\");\n        extendStatics(e, r);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = r === null ? Object.create(r) : (__.prototype = r.prototype, new __);\n    };\n}();\n\nvar __read = this && this.q || function(e, r) {\n    var i = typeof Symbol === \"function\" && e[Symbol.iterator];\n    if (!i) return e;\n    var t = i.call(e), n, s = [], f;\n    try {\n        while ((r === void 0 || r-- > 0) && !(n = t.next()).done) s.push(n.value);\n    } catch (e) {\n        f = {\n            error: e\n        };\n    } finally {\n        try {\n            if (n && !n.done && (i = t[\"return\"])) i.call(t);\n        } finally {\n            if (f) throw f.error;\n        }\n    }\n    return s;\n};\n\nvar __values = this && this.V || function(e) {\n    var r = typeof Symbol === \"function\" && Symbol.iterator, i = r && e[r], t = 0;\n    if (i) return i.call(e);\n    if (e && typeof e.length === \"number\") return {\n        next: function() {\n            if (e && t >= e.length) e = void 0;\n            return {\n                value: e && e[t++],\n                done: !e\n            };\n        }\n    };\n    throw new TypeError(r ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport { TreeNode, TreeNodeEnableIndex } from \"./TreeNode\";\n\nimport { Container } from \"../../ContainerBase\";\n\nimport { throwIteratorAccessError } from \"../../../utils/throwError\";\n\nvar TreeContainer = function(e) {\n    __extends(TreeContainer, e);\n    function TreeContainer(r, i) {\n        if (r === void 0) {\n            r = function(e, r) {\n                if (e < r) return -1;\n                if (e > r) return 1;\n                return 0;\n            };\n        }\n        if (i === void 0) {\n            i = false;\n        }\n        var t = e.call(this) || this;\n        t.W = undefined;\n        t.$ = r;\n        if (i) {\n            t.re = TreeNodeEnableIndex;\n            t.v = function(e, r, i) {\n                var t = this.se(e, r, i);\n                if (t) {\n                    var n = t.rr;\n                    while (n !== this.h) {\n                        n.tr += 1;\n                        n = n.rr;\n                    }\n                    var s = this.fe(t);\n                    if (s) {\n                        var f = s, h = f.parentNode, u = f.grandParent, a = f.curNode;\n                        h.ie();\n                        u.ie();\n                        a.ie();\n                    }\n                }\n                return this.M;\n            };\n            t.G = function(e) {\n                var r = this.he(e);\n                while (r !== this.h) {\n                    r.tr -= 1;\n                    r = r.rr;\n                }\n            };\n        } else {\n            t.re = TreeNode;\n            t.v = function(e, r, i) {\n                var t = this.se(e, r, i);\n                if (t) this.fe(t);\n                return this.M;\n            };\n            t.G = t.he;\n        }\n        t.h = new t.re;\n        return t;\n    }\n    TreeContainer.prototype.U = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                e = e.N;\n            } else if (t > 0) {\n                i = e;\n                e = e.K;\n            } else return e;\n        }\n        return i;\n    };\n    TreeContainer.prototype.X = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t <= 0) {\n                e = e.N;\n            } else {\n                i = e;\n                e = e.K;\n            }\n        }\n        return i;\n    };\n    TreeContainer.prototype.Y = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                i = e;\n                e = e.N;\n            } else if (t > 0) {\n                e = e.K;\n            } else return e;\n        }\n        return i;\n    };\n    TreeContainer.prototype.Z = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                i = e;\n                e = e.N;\n            } else {\n                e = e.K;\n            }\n        }\n        return i;\n    };\n    TreeContainer.prototype.ue = function(e) {\n        while (true) {\n            var r = e.rr;\n            if (r === this.h) return;\n            if (e.ee === 1) {\n                e.ee = 0;\n                return;\n            }\n            if (e === r.K) {\n                var i = r.N;\n                if (i.ee === 1) {\n                    i.ee = 0;\n                    r.ee = 1;\n                    if (r === this.W) {\n                        this.W = r.ne();\n                    } else r.ne();\n                } else {\n                    if (i.N && i.N.ee === 1) {\n                        i.ee = r.ee;\n                        r.ee = 0;\n                        i.N.ee = 0;\n                        if (r === this.W) {\n                            this.W = r.ne();\n                        } else r.ne();\n                        return;\n                    } else if (i.K && i.K.ee === 1) {\n                        i.ee = 1;\n                        i.K.ee = 0;\n                        i.te();\n                    } else {\n                        i.ee = 1;\n                        e = r;\n                    }\n                }\n            } else {\n                var i = r.K;\n                if (i.ee === 1) {\n                    i.ee = 0;\n                    r.ee = 1;\n                    if (r === this.W) {\n                        this.W = r.te();\n                    } else r.te();\n                } else {\n                    if (i.K && i.K.ee === 1) {\n                        i.ee = r.ee;\n                        r.ee = 0;\n                        i.K.ee = 0;\n                        if (r === this.W) {\n                            this.W = r.te();\n                        } else r.te();\n                        return;\n                    } else if (i.N && i.N.ee === 1) {\n                        i.ee = 1;\n                        i.N.ee = 0;\n                        i.ne();\n                    } else {\n                        i.ee = 1;\n                        e = r;\n                    }\n                }\n            }\n        }\n    };\n    TreeContainer.prototype.he = function(e) {\n        var r, i;\n        if (this.M === 1) {\n            this.clear();\n            return this.h;\n        }\n        var t = e;\n        while (t.K || t.N) {\n            if (t.N) {\n                t = t.N;\n                while (t.K) t = t.K;\n            } else {\n                t = t.K;\n            }\n            r = __read([ t.u, e.u ], 2), e.u = r[0], t.u = r[1];\n            i = __read([ t.p, e.p ], 2), e.p = i[0], t.p = i[1];\n            e = t;\n        }\n        if (this.h.K === t) {\n            this.h.K = t.rr;\n        } else if (this.h.N === t) {\n            this.h.N = t.rr;\n        }\n        this.ue(t);\n        var n = t.rr;\n        if (t === n.K) {\n            n.K = undefined;\n        } else n.N = undefined;\n        this.M -= 1;\n        this.W.ee = 0;\n        return n;\n    };\n    TreeContainer.prototype.ae = function(e, r) {\n        if (e === undefined) return false;\n        var i = this.ae(e.K, r);\n        if (i) return true;\n        if (r(e)) return true;\n        return this.ae(e.N, r);\n    };\n    TreeContainer.prototype.fe = function(e) {\n        while (true) {\n            var r = e.rr;\n            if (r.ee === 0) return;\n            var i = r.rr;\n            if (r === i.K) {\n                var t = i.N;\n                if (t && t.ee === 1) {\n                    t.ee = r.ee = 0;\n                    if (i === this.W) return;\n                    i.ee = 1;\n                    e = i;\n                    continue;\n                } else if (e === r.N) {\n                    e.ee = 0;\n                    if (e.K) e.K.rr = r;\n                    if (e.N) e.N.rr = i;\n                    r.N = e.K;\n                    i.K = e.N;\n                    e.K = r;\n                    e.N = i;\n                    if (i === this.W) {\n                        this.W = e;\n                        this.h.rr = e;\n                    } else {\n                        var n = i.rr;\n                        if (n.K === i) {\n                            n.K = e;\n                        } else n.N = e;\n                    }\n                    e.rr = i.rr;\n                    r.rr = e;\n                    i.rr = e;\n                    i.ee = 1;\n                    return {\n                        parentNode: r,\n                        grandParent: i,\n                        curNode: e\n                    };\n                } else {\n                    r.ee = 0;\n                    if (i === this.W) {\n                        this.W = i.te();\n                    } else i.te();\n                    i.ee = 1;\n                }\n            } else {\n                var t = i.K;\n                if (t && t.ee === 1) {\n                    t.ee = r.ee = 0;\n                    if (i === this.W) return;\n                    i.ee = 1;\n                    e = i;\n                    continue;\n                } else if (e === r.K) {\n                    e.ee = 0;\n                    if (e.K) e.K.rr = i;\n                    if (e.N) e.N.rr = r;\n                    i.N = e.K;\n                    r.K = e.N;\n                    e.K = i;\n                    e.N = r;\n                    if (i === this.W) {\n                        this.W = e;\n                        this.h.rr = e;\n                    } else {\n                        var n = i.rr;\n                        if (n.K === i) {\n                            n.K = e;\n                        } else n.N = e;\n                    }\n                    e.rr = i.rr;\n                    r.rr = e;\n                    i.rr = e;\n                    i.ee = 1;\n                    return {\n                        parentNode: r,\n                        grandParent: i,\n                        curNode: e\n                    };\n                } else {\n                    r.ee = 0;\n                    if (i === this.W) {\n                        this.W = i.ne();\n                    } else i.ne();\n                    i.ee = 1;\n                }\n            }\n            return;\n        }\n    };\n    TreeContainer.prototype.se = function(e, r, i) {\n        if (this.W === undefined) {\n            this.M += 1;\n            this.W = new this.re(e, r);\n            this.W.ee = 0;\n            this.W.rr = this.h;\n            this.h.rr = this.W;\n            this.h.K = this.W;\n            this.h.N = this.W;\n            return;\n        }\n        var t;\n        var n = this.h.K;\n        var s = this.$(n.u, e);\n        if (s === 0) {\n            n.p = r;\n            return;\n        } else if (s > 0) {\n            n.K = new this.re(e, r);\n            n.K.rr = n;\n            t = n.K;\n            this.h.K = t;\n        } else {\n            var f = this.h.N;\n            var h = this.$(f.u, e);\n            if (h === 0) {\n                f.p = r;\n                return;\n            } else if (h < 0) {\n                f.N = new this.re(e, r);\n                f.N.rr = f;\n                t = f.N;\n                this.h.N = t;\n            } else {\n                if (i !== undefined) {\n                    var u = i.o;\n                    if (u !== this.h) {\n                        var a = this.$(u.u, e);\n                        if (a === 0) {\n                            u.p = r;\n                            return;\n                        } else if (a > 0) {\n                            var o = u.L();\n                            var l = this.$(o.u, e);\n                            if (l === 0) {\n                                o.p = r;\n                                return;\n                            } else if (l < 0) {\n                                t = new this.re(e, r);\n                                if (o.N === undefined) {\n                                    o.N = t;\n                                    t.rr = o;\n                                } else {\n                                    u.K = t;\n                                    t.rr = u;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (t === undefined) {\n                    t = this.W;\n                    while (true) {\n                        var v = this.$(t.u, e);\n                        if (v > 0) {\n                            if (t.K === undefined) {\n                                t.K = new this.re(e, r);\n                                t.K.rr = t;\n                                t = t.K;\n                                break;\n                            }\n                            t = t.K;\n                        } else if (v < 0) {\n                            if (t.N === undefined) {\n                                t.N = new this.re(e, r);\n                                t.N.rr = t;\n                                t = t.N;\n                                break;\n                            }\n                            t = t.N;\n                        } else {\n                            t.p = r;\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n        this.M += 1;\n        return t;\n    };\n    TreeContainer.prototype.g = function(e, r) {\n        while (e) {\n            var i = this.$(e.u, r);\n            if (i < 0) {\n                e = e.N;\n            } else if (i > 0) {\n                e = e.K;\n            } else return e;\n        }\n        return e || this.h;\n    };\n    TreeContainer.prototype.clear = function() {\n        this.M = 0;\n        this.W = undefined;\n        this.h.rr = undefined;\n        this.h.K = this.h.N = undefined;\n    };\n    TreeContainer.prototype.updateKeyByIterator = function(e, r) {\n        var i = e.o;\n        if (i === this.h) {\n            throwIteratorAccessError();\n        }\n        if (this.M === 1) {\n            i.u = r;\n            return true;\n        }\n        if (i === this.h.K) {\n            if (this.$(i.m().u, r) > 0) {\n                i.u = r;\n                return true;\n            }\n            return false;\n        }\n        if (i === this.h.N) {\n            if (this.$(i.L().u, r) < 0) {\n                i.u = r;\n                return true;\n            }\n            return false;\n        }\n        var t = i.L().u;\n        if (this.$(t, r) >= 0) return false;\n        var n = i.m().u;\n        if (this.$(n, r) <= 0) return false;\n        i.u = r;\n        return true;\n    };\n    TreeContainer.prototype.eraseElementByPos = function(e) {\n        if (e < 0 || e > this.M - 1) {\n            throw new RangeError;\n        }\n        var r = 0;\n        var i = this;\n        this.ae(this.W, (function(t) {\n            if (e === r) {\n                i.G(t);\n                return true;\n            }\n            r += 1;\n            return false;\n        }));\n        return this.M;\n    };\n    TreeContainer.prototype.eraseElementByKey = function(e) {\n        if (this.M === 0) return false;\n        var r = this.g(this.W, e);\n        if (r === this.h) return false;\n        this.G(r);\n        return true;\n    };\n    TreeContainer.prototype.eraseElementByIterator = function(e) {\n        var r = e.o;\n        if (r === this.h) {\n            throwIteratorAccessError();\n        }\n        var i = r.N === undefined;\n        var t = e.iteratorType === 0;\n        if (t) {\n            if (i) e.next();\n        } else {\n            if (!i || r.K === undefined) e.next();\n        }\n        this.G(r);\n        return e;\n    };\n    TreeContainer.prototype.forEach = function(e) {\n        var r, i;\n        var t = 0;\n        try {\n            for (var n = __values(this), s = n.next(); !s.done; s = n.next()) {\n                var f = s.value;\n                e(f, t++, this);\n            }\n        } catch (e) {\n            r = {\n                error: e\n            };\n        } finally {\n            try {\n                if (s && !s.done && (i = n.return)) i.call(n);\n            } finally {\n                if (r) throw r.error;\n            }\n        }\n    };\n    TreeContainer.prototype.getElementByPos = function(e) {\n        var r, i;\n        if (e < 0 || e > this.M - 1) {\n            throw new RangeError;\n        }\n        var t;\n        var n = 0;\n        try {\n            for (var s = __values(this), f = s.next(); !f.done; f = s.next()) {\n                var h = f.value;\n                if (n === e) {\n                    t = h;\n                    break;\n                }\n                n += 1;\n            }\n        } catch (e) {\n            r = {\n                error: e\n            };\n        } finally {\n            try {\n                if (f && !f.done && (i = s.return)) i.call(s);\n            } finally {\n                if (r) throw r.error;\n            }\n        }\n        return t;\n    };\n    TreeContainer.prototype.getHeight = function() {\n        if (this.M === 0) return 0;\n        var traversal = function(e) {\n            if (!e) return 0;\n            return Math.max(traversal(e.K), traversal(e.N)) + 1;\n        };\n        return traversal(this.W);\n    };\n    return TreeContainer;\n}(Container);\n\nexport default TreeContainer;\n//# sourceMappingURL=index.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(r, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(r, t) {\n            r.__proto__ = t;\n        } || function(r, t) {\n            for (var e in t) if (Object.prototype.hasOwnProperty.call(t, e)) r[e] = t[e];\n        };\n        return extendStatics(r, t);\n    };\n    return function(r, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(r, t);\n        function __() {\n            this.constructor = r;\n        }\n        r.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nimport { ContainerIterator } from \"../../ContainerBase\";\n\nimport { throwIteratorAccessError } from \"../../../utils/throwError\";\n\nvar TreeIterator = function(r) {\n    __extends(TreeIterator, r);\n    function TreeIterator(t, e, i) {\n        var n = r.call(this, i) || this;\n        n.o = t;\n        n.h = e;\n        if (n.iteratorType === 0) {\n            n.pre = function() {\n                if (this.o === this.h.K) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.L();\n                return this;\n            };\n            n.next = function() {\n                if (this.o === this.h) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.m();\n                return this;\n            };\n        } else {\n            n.pre = function() {\n                if (this.o === this.h.N) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.m();\n                return this;\n            };\n            n.next = function() {\n                if (this.o === this.h) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.L();\n                return this;\n            };\n        }\n        return n;\n    }\n    Object.defineProperty(TreeIterator.prototype, \"index\", {\n        get: function() {\n            var r = this.o;\n            var t = this.h.rr;\n            if (r === this.h) {\n                if (t) {\n                    return t.tr - 1;\n                }\n                return 0;\n            }\n            var e = 0;\n            if (r.K) {\n                e += r.K.tr;\n            }\n            while (r !== t) {\n                var i = r.rr;\n                if (r === i.N) {\n                    e += 1;\n                    if (i.K) {\n                        e += i.K.tr;\n                    }\n                }\n                r = i;\n            }\n            return e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TreeIterator;\n}(ContainerIterator);\n\nexport default TreeIterator;\n//# sourceMappingURL=TreeIterator.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, t) {\n            e.__proto__ = t;\n        } || function(e, t) {\n            for (var r in t) if (Object.prototype.hasOwnProperty.call(t, r)) e[r] = t[r];\n        };\n        return extendStatics(e, t);\n    };\n    return function(e, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(e, t);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nvar __generator = this && this.i || function(e, t) {\n    var r = {\n        label: 0,\n        sent: function() {\n            if (o[0] & 1) throw o[1];\n            return o[1];\n        },\n        trys: [],\n        ops: []\n    }, n, i, o, u;\n    return u = {\n        next: verb(0),\n        throw: verb(1),\n        return: verb(2)\n    }, typeof Symbol === \"function\" && (u[Symbol.iterator] = function() {\n        return this;\n    }), u;\n    function verb(e) {\n        return function(t) {\n            return step([ e, t ]);\n        };\n    }\n    function step(u) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n        while (r) try {\n            if (n = 1, i && (o = u[0] & 2 ? i[\"return\"] : u[0] ? i[\"throw\"] || ((o = i[\"return\"]) && o.call(i), \n            0) : i.next) && !(o = o.call(i, u[1])).done) return o;\n            if (i = 0, o) u = [ u[0] & 2, o.value ];\n            switch (u[0]) {\n              case 0:\n              case 1:\n                o = u;\n                break;\n\n              case 4:\n                r.label++;\n                return {\n                    value: u[1],\n                    done: false\n                };\n\n              case 5:\n                r.label++;\n                i = u[1];\n                u = [ 0 ];\n                continue;\n\n              case 7:\n                u = r.ops.pop();\n                r.trys.pop();\n                continue;\n\n              default:\n                if (!(o = r.trys, o = o.length > 0 && o[o.length - 1]) && (u[0] === 6 || u[0] === 2)) {\n                    r = 0;\n                    continue;\n                }\n                if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) {\n                    r.label = u[1];\n                    break;\n                }\n                if (u[0] === 6 && r.label < o[1]) {\n                    r.label = o[1];\n                    o = u;\n                    break;\n                }\n                if (o && r.label < o[2]) {\n                    r.label = o[2];\n                    r.ops.push(u);\n                    break;\n                }\n                if (o[2]) r.ops.pop();\n                r.trys.pop();\n                continue;\n            }\n            u = t.call(e, r);\n        } catch (e) {\n            u = [ 6, e ];\n            i = 0;\n        } finally {\n            n = o = 0;\n        }\n        if (u[0] & 5) throw u[1];\n        return {\n            value: u[0] ? u[1] : void 0,\n            done: true\n        };\n    }\n};\n\nvar __values = this && this.V || function(e) {\n    var t = typeof Symbol === \"function\" && Symbol.iterator, r = t && e[t], n = 0;\n    if (r) return r.call(e);\n    if (e && typeof e.length === \"number\") return {\n        next: function() {\n            if (e && n >= e.length) e = void 0;\n            return {\n                value: e && e[n++],\n                done: !e\n            };\n        }\n    };\n    throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport TreeContainer from \"./Base\";\n\nimport TreeIterator from \"./Base/TreeIterator\";\n\nimport { throwIteratorAccessError } from \"../../utils/throwError\";\n\nvar OrderedSetIterator = function(e) {\n    __extends(OrderedSetIterator, e);\n    function OrderedSetIterator(t, r, n, i) {\n        var o = e.call(this, t, r, i) || this;\n        o.container = n;\n        return o;\n    }\n    Object.defineProperty(OrderedSetIterator.prototype, \"pointer\", {\n        get: function() {\n            if (this.o === this.h) {\n                throwIteratorAccessError();\n            }\n            return this.o.u;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    OrderedSetIterator.prototype.copy = function() {\n        return new OrderedSetIterator(this.o, this.h, this.container, this.iteratorType);\n    };\n    return OrderedSetIterator;\n}(TreeIterator);\n\nvar OrderedSet = function(e) {\n    __extends(OrderedSet, e);\n    function OrderedSet(t, r, n) {\n        if (t === void 0) {\n            t = [];\n        }\n        var i = e.call(this, r, n) || this;\n        var o = i;\n        t.forEach((function(e) {\n            o.insert(e);\n        }));\n        return i;\n    }\n    OrderedSet.prototype.P = function(e) {\n        return __generator(this, (function(t) {\n            switch (t.label) {\n              case 0:\n                if (e === undefined) return [ 2 ];\n                return [ 5, __values(this.P(e.K)) ];\n\n              case 1:\n                t.sent();\n                return [ 4, e.u ];\n\n              case 2:\n                t.sent();\n                return [ 5, __values(this.P(e.N)) ];\n\n              case 3:\n                t.sent();\n                return [ 2 ];\n            }\n        }));\n    };\n    OrderedSet.prototype.begin = function() {\n        return new OrderedSetIterator(this.h.K || this.h, this.h, this);\n    };\n    OrderedSet.prototype.end = function() {\n        return new OrderedSetIterator(this.h, this.h, this);\n    };\n    OrderedSet.prototype.rBegin = function() {\n        return new OrderedSetIterator(this.h.N || this.h, this.h, this, 1);\n    };\n    OrderedSet.prototype.rEnd = function() {\n        return new OrderedSetIterator(this.h, this.h, this, 1);\n    };\n    OrderedSet.prototype.front = function() {\n        return this.h.K ? this.h.K.u : undefined;\n    };\n    OrderedSet.prototype.back = function() {\n        return this.h.N ? this.h.N.u : undefined;\n    };\n    OrderedSet.prototype.insert = function(e, t) {\n        return this.v(e, undefined, t);\n    };\n    OrderedSet.prototype.find = function(e) {\n        var t = this.g(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.lowerBound = function(e) {\n        var t = this.U(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.upperBound = function(e) {\n        var t = this.X(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.reverseLowerBound = function(e) {\n        var t = this.Y(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.reverseUpperBound = function(e) {\n        var t = this.Z(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.union = function(e) {\n        var t = this;\n        e.forEach((function(e) {\n            t.insert(e);\n        }));\n        return this.M;\n    };\n    OrderedSet.prototype[Symbol.iterator] = function() {\n        return this.P(this.W);\n    };\n    return OrderedSet;\n}(TreeContainer);\n\nexport default OrderedSet;\n//# sourceMappingURL=OrderedSet.js.map\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/* Protocol - protocol constants */\nconst protocol = module.exports\nconst { Buffer } = require('buffer')\n\n/* Command code => mnemonic */\nprotocol.types = {\n  0: 'reserved',\n  1: 'connect',\n  2: 'connack',\n  3: 'publish',\n  4: 'puback',\n  5: 'pubrec',\n  6: 'pubrel',\n  7: 'pubcomp',\n  8: 'subscribe',\n  9: 'suback',\n  10: 'unsubscribe',\n  11: 'unsuback',\n  12: 'pingreq',\n  13: 'pingresp',\n  14: 'disconnect',\n  15: 'auth'\n}\n\nprotocol.requiredHeaderFlags = {\n  1: 0, // 'connect'\n  2: 0, // 'connack'\n  4: 0, // 'puback'\n  5: 0, // 'pubrec'\n  6: 2, // 'pubrel'\n  7: 0, // 'pubcomp'\n  8: 2, // 'subscribe'\n  9: 0, // 'suback'\n  10: 2, // 'unsubscribe'\n  11: 0, // 'unsuback'\n  12: 0, // 'pingreq'\n  13: 0, // 'pingresp'\n  14: 0, // 'disconnect'\n  15: 0 // 'auth'\n}\n\nprotocol.requiredHeaderFlagsErrors = {}\nfor (const k in protocol.requiredHeaderFlags) {\n  const v = protocol.requiredHeaderFlags[k]\n  protocol.requiredHeaderFlagsErrors[k] = 'Invalid header flag bits, must be 0x' + v.toString(16) + ' for ' + protocol.types[k] + ' packet'\n}\n\n/* Mnemonic => Command code */\nprotocol.codes = {}\nfor (const k in protocol.types) {\n  const v = protocol.types[k]\n  protocol.codes[v] = k\n}\n\n/* Header */\nprotocol.CMD_SHIFT = 4\nprotocol.CMD_MASK = 0xF0\nprotocol.DUP_MASK = 0x08\nprotocol.QOS_MASK = 0x03\nprotocol.QOS_SHIFT = 1\nprotocol.RETAIN_MASK = 0x01\n\n/* Length */\nprotocol.VARBYTEINT_MASK = 0x7F\nprotocol.VARBYTEINT_FIN_MASK = 0x80\nprotocol.VARBYTEINT_MAX = 268435455\n\n/* Connack */\nprotocol.SESSIONPRESENT_MASK = 0x01\nprotocol.SESSIONPRESENT_HEADER = Buffer.from([protocol.SESSIONPRESENT_MASK])\nprotocol.CONNACK_HEADER = Buffer.from([protocol.codes.connack << protocol.CMD_SHIFT])\n\n/* Connect */\nprotocol.USERNAME_MASK = 0x80\nprotocol.PASSWORD_MASK = 0x40\nprotocol.WILL_RETAIN_MASK = 0x20\nprotocol.WILL_QOS_MASK = 0x18\nprotocol.WILL_QOS_SHIFT = 3\nprotocol.WILL_FLAG_MASK = 0x04\nprotocol.CLEAN_SESSION_MASK = 0x02\nprotocol.CONNECT_HEADER = Buffer.from([protocol.codes.connect << protocol.CMD_SHIFT])\n\n/* Properties */\nprotocol.properties = {\n  sessionExpiryInterval: 17,\n  willDelayInterval: 24,\n  receiveMaximum: 33,\n  maximumPacketSize: 39,\n  topicAliasMaximum: 34,\n  requestResponseInformation: 25,\n  requestProblemInformation: 23,\n  userProperties: 38,\n  authenticationMethod: 21,\n  authenticationData: 22,\n  payloadFormatIndicator: 1,\n  messageExpiryInterval: 2,\n  contentType: 3,\n  responseTopic: 8,\n  correlationData: 9,\n  maximumQoS: 36,\n  retainAvailable: 37,\n  assignedClientIdentifier: 18,\n  reasonString: 31,\n  wildcardSubscriptionAvailable: 40,\n  subscriptionIdentifiersAvailable: 41,\n  sharedSubscriptionAvailable: 42,\n  serverKeepAlive: 19,\n  responseInformation: 26,\n  serverReference: 28,\n  topicAlias: 35,\n  subscriptionIdentifier: 11\n}\nprotocol.propertiesCodes = {}\nfor (const prop in protocol.properties) {\n  const id = protocol.properties[prop]\n  protocol.propertiesCodes[id] = prop\n}\nprotocol.propertiesTypes = {\n  sessionExpiryInterval: 'int32',\n  willDelayInterval: 'int32',\n  receiveMaximum: 'int16',\n  maximumPacketSize: 'int32',\n  topicAliasMaximum: 'int16',\n  requestResponseInformation: 'byte',\n  requestProblemInformation: 'byte',\n  userProperties: 'pair',\n  authenticationMethod: 'string',\n  authenticationData: 'binary',\n  payloadFormatIndicator: 'byte',\n  messageExpiryInterval: 'int32',\n  contentType: 'string',\n  responseTopic: 'string',\n  correlationData: 'binary',\n  maximumQoS: 'int8',\n  retainAvailable: 'byte',\n  assignedClientIdentifier: 'string',\n  reasonString: 'string',\n  wildcardSubscriptionAvailable: 'byte',\n  subscriptionIdentifiersAvailable: 'byte',\n  sharedSubscriptionAvailable: 'byte',\n  serverKeepAlive: 'int16',\n  responseInformation: 'string',\n  serverReference: 'string',\n  topicAlias: 'int16',\n  subscriptionIdentifier: 'var'\n}\n\nfunction genHeader (type) {\n  return [0, 1, 2].map(qos => {\n    return [0, 1].map(dup => {\n      return [0, 1].map(retain => {\n        const buf = Buffer.alloc(1)\n        buf.writeUInt8(\n          protocol.codes[type] << protocol.CMD_SHIFT |\n          (dup ? protocol.DUP_MASK : 0) |\n          qos << protocol.QOS_SHIFT | retain, 0, true)\n        return buf\n      })\n    })\n  })\n}\n\n/* Publish */\nprotocol.PUBLISH_HEADER = genHeader('publish')\n\n/* Subscribe */\nprotocol.SUBSCRIBE_HEADER = genHeader('subscribe')\nprotocol.SUBSCRIBE_OPTIONS_QOS_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_NL_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_NL_SHIFT = 2\nprotocol.SUBSCRIBE_OPTIONS_RAP_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3\nprotocol.SUBSCRIBE_OPTIONS_RH_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_RH_SHIFT = 4\nprotocol.SUBSCRIBE_OPTIONS_RH = [0x00, 0x10, 0x20]\nprotocol.SUBSCRIBE_OPTIONS_NL = 0x04\nprotocol.SUBSCRIBE_OPTIONS_RAP = 0x08\nprotocol.SUBSCRIBE_OPTIONS_QOS = [0x00, 0x01, 0x02]\n\n/* Unsubscribe */\nprotocol.UNSUBSCRIBE_HEADER = genHeader('unsubscribe')\n\n/* Confirmations */\nprotocol.ACKS = {\n  unsuback: genHeader('unsuback'),\n  puback: genHeader('puback'),\n  pubcomp: genHeader('pubcomp'),\n  pubrel: genHeader('pubrel'),\n  pubrec: genHeader('pubrec')\n}\n\nprotocol.SUBACK_HEADER = Buffer.from([protocol.codes.suback << protocol.CMD_SHIFT])\n\n/* Protocol versions */\nprotocol.VERSION3 = Buffer.from([3])\nprotocol.VERSION4 = Buffer.from([4])\nprotocol.VERSION5 = Buffer.from([5])\nprotocol.VERSION131 = Buffer.from([131])\nprotocol.VERSION132 = Buffer.from([132])\n\n/* QoS */\nprotocol.QOS = [0, 1, 2].map(qos => {\n  return Buffer.from([qos])\n})\n\n/* Empty packets */\nprotocol.EMPTY = {\n  pingreq: Buffer.from([protocol.codes.pingreq << 4, 0]),\n  pingresp: Buffer.from([protocol.codes.pingresp << 4, 0]),\n  disconnect: Buffer.from([protocol.codes.disconnect << 4, 0])\n}\n\nprotocol.MQTT5_PUBACK_PUBREC_CODES = {\n  0x00: 'Success',\n  0x10: 'No matching subscribers',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x90: 'Topic Name invalid',\n  0x91: 'Packet identifier in use',\n  0x97: 'Quota exceeded',\n  0x99: 'Payload format invalid'\n}\n\nprotocol.MQTT5_PUBREL_PUBCOMP_CODES = {\n  0x00: 'Success',\n  0x92: 'Packet Identifier not found'\n}\n\nprotocol.MQTT5_SUBACK_CODES = {\n  0x00: 'Granted QoS 0',\n  0x01: 'Granted QoS 1',\n  0x02: 'Granted QoS 2',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x8F: 'Topic Filter invalid',\n  0x91: 'Packet Identifier in use',\n  0x97: 'Quota exceeded',\n  0x9E: 'Shared Subscriptions not supported',\n  0xA1: 'Subscription Identifiers not supported',\n  0xA2: 'Wildcard Subscriptions not supported'\n}\n\nprotocol.MQTT5_UNSUBACK_CODES = {\n  0x00: 'Success',\n  0x11: 'No subscription existed',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x8F: 'Topic Filter invalid',\n  0x91: 'Packet Identifier in use'\n}\n\nprotocol.MQTT5_DISCONNECT_CODES = {\n  0x00: 'Normal disconnection',\n  0x04: 'Disconnect with Will Message',\n  0x80: 'Unspecified error',\n  0x81: 'Malformed Packet',\n  0x82: 'Protocol Error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x89: 'Server busy',\n  0x8B: 'Server shutting down',\n  0x8D: 'Keep Alive timeout',\n  0x8E: 'Session taken over',\n  0x8F: 'Topic Filter invalid',\n  0x90: 'Topic Name invalid',\n  0x93: 'Receive Maximum exceeded',\n  0x94: 'Topic Alias invalid',\n  0x95: 'Packet too large',\n  0x96: 'Message rate too high',\n  0x97: 'Quota exceeded',\n  0x98: 'Administrative action',\n  0x99: 'Payload format invalid',\n  0x9A: 'Retain not supported',\n  0x9B: 'QoS not supported',\n  0x9C: 'Use another server',\n  0x9D: 'Server moved',\n  0x9E: 'Shared Subscriptions not supported',\n  0x9F: 'Connection rate exceeded',\n  0xA0: 'Maximum connect time',\n  0xA1: 'Subscription Identifiers not supported',\n  0xA2: 'Wildcard Subscriptions not supported'\n}\n\nprotocol.MQTT5_AUTH_CODES = {\n  0x00: 'Success',\n  0x18: 'Continue authentication',\n  0x19: 'Re-authenticate'\n}\n","const writeToStream = require('./writeToStream')\nconst { EventEmitter } = require('events')\nconst { Buffer } = require('buffer')\n\nfunction generate (packet, opts) {\n  const stream = new Accumulator()\n  writeToStream(packet, stream, opts)\n  return stream.concat()\n}\n\nclass Accumulator extends EventEmitter {\n  constructor () {\n    super()\n    this._array = new Array(20)\n    this._i = 0\n  }\n\n  write (chunk) {\n    this._array[this._i++] = chunk\n    return true\n  }\n\n  concat () {\n    let length = 0\n    const lengths = new Array(this._array.length)\n    const list = this._array\n    let pos = 0\n    let i\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') lengths[i] = list[i].length\n      else lengths[i] = Buffer.byteLength(list[i])\n\n      length += lengths[i]\n    }\n\n    const result = Buffer.allocUnsafe(length)\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') {\n        list[i].copy(result, pos)\n        pos += lengths[i]\n      } else {\n        result.write(list[i], pos)\n        pos += lengths[i]\n      }\n    }\n\n    return result\n  }\n\n  destroy (err) {\n    if (err) this.emit('error', err)\n  }\n}\n\nmodule.exports = generate\n","exports.parser = require('./parser').parser\nexports.generate = require('./generate')\nexports.writeToStream = require('./writeToStream')\n","const { Buffer } = require('buffer')\nconst max = 65536\nconst cache = {}\n\n// in node 6 Buffer.subarray returns a Uint8Array instead of a Buffer\n// later versions return a Buffer\n// alternative is Buffer.slice but that creates a new buffer\n// creating new buffers takes time\n// SubOk is only false on node < 8\nconst SubOk = Buffer.isBuffer(Buffer.from([1, 2]).subarray(0, 1))\n\nfunction generateBuffer (i) {\n  const buffer = Buffer.allocUnsafe(2)\n  buffer.writeUInt8(i >> 8, 0)\n  buffer.writeUInt8(i & 0x00FF, 0 + 1)\n\n  return buffer\n}\n\nfunction generateCache () {\n  for (let i = 0; i < max; i++) {\n    cache[i] = generateBuffer(i)\n  }\n}\n\nfunction genBufVariableByteInt (num) {\n  const maxLength = 4 // max 4 bytes\n  let digit = 0\n  let pos = 0\n  const buffer = Buffer.allocUnsafe(maxLength)\n\n  do {\n    digit = num % 128 | 0\n    num = num / 128 | 0\n    if (num > 0) digit = digit | 0x80\n\n    buffer.writeUInt8(digit, pos++)\n  } while (num > 0 && pos < maxLength)\n\n  if (num > 0) {\n    pos = 0\n  }\n\n  return SubOk ? buffer.subarray(0, pos) : buffer.slice(0, pos)\n}\n\nfunction generate4ByteBuffer (num) {\n  const buffer = Buffer.allocUnsafe(4)\n  buffer.writeUInt32BE(num, 0)\n  return buffer\n}\n\nmodule.exports = {\n  cache,\n  generateCache,\n  generateNumber: generateBuffer,\n  genBufVariableByteInt,\n  generate4ByteBuffer\n}\n","class Packet {\n  constructor () {\n    this.cmd = null\n    this.retain = false\n    this.qos = 0\n    this.dup = false\n    this.length = -1\n    this.topic = null\n    this.payload = null\n  }\n}\n\nmodule.exports = Packet\n","const bl = require('bl')\nconst { EventEmitter } = require('events')\nconst Packet = require('./packet')\nconst constants = require('./constants')\nconst debug = require('debug')('mqtt-packet:parser')\n\nclass Parser extends EventEmitter {\n  constructor () {\n    super()\n    this.parser = this.constructor.parser\n  }\n\n  static parser (opt) {\n    if (!(this instanceof Parser)) return (new Parser()).parser(opt)\n\n    this.settings = opt || {}\n\n    this._states = [\n      '_parseHeader',\n      '_parseLength',\n      '_parsePayload',\n      '_newPacket'\n    ]\n\n    this._resetState()\n    return this\n  }\n\n  _resetState () {\n    debug('_resetState: resetting packet, error, _list, and _stateCounter')\n    this.packet = new Packet()\n    this.error = null\n    this._list = bl()\n    this._stateCounter = 0\n  }\n\n  parse (buf) {\n    if (this.error) this._resetState()\n\n    this._list.append(buf)\n    debug('parse: current state: %s', this._states[this._stateCounter])\n    while ((this.packet.length !== -1 || this._list.length > 0) &&\n      this[this._states[this._stateCounter]]() &&\n      !this.error) {\n      this._stateCounter++\n      debug('parse: state complete. _stateCounter is now: %d', this._stateCounter)\n      debug('parse: packet.length: %d, buffer list length: %d', this.packet.length, this._list.length)\n      if (this._stateCounter >= this._states.length) this._stateCounter = 0\n    }\n    debug('parse: exited while loop. packet: %d, buffer list length: %d', this.packet.length, this._list.length)\n    return this._list.length\n  }\n\n  _parseHeader () {\n    // There is at least one byte in the buffer\n    const zero = this._list.readUInt8(0)\n    const cmdIndex = zero >> constants.CMD_SHIFT\n    this.packet.cmd = constants.types[cmdIndex]\n    const headerFlags = zero & 0xf\n    const requiredHeaderFlags = constants.requiredHeaderFlags[cmdIndex]\n    if (requiredHeaderFlags != null && headerFlags !== requiredHeaderFlags) {\n      // Where a flag bit is marked as Reserved in Table 2.2 - Flag Bits, it is reserved for future use and MUST be set to the value listed in that table [MQTT-2.2.2-1]. If invalid flags are received, the receiver MUST close the Network Connection [MQTT-2.2.2-2]\n      return this._emitError(new Error(constants.requiredHeaderFlagsErrors[cmdIndex]))\n    }\n    this.packet.retain = (zero & constants.RETAIN_MASK) !== 0\n    this.packet.qos = (zero >> constants.QOS_SHIFT) & constants.QOS_MASK\n    if (this.packet.qos > 2) {\n      return this._emitError(new Error('Packet must not have both QoS bits set to 1'))\n    }\n    this.packet.dup = (zero & constants.DUP_MASK) !== 0\n    debug('_parseHeader: packet: %o', this.packet)\n\n    this._list.consume(1)\n\n    return true\n  }\n\n  _parseLength () {\n    // There is at least one byte in the list\n    const result = this._parseVarByteNum(true)\n\n    if (result) {\n      this.packet.length = result.value\n      this._list.consume(result.bytes)\n    }\n    debug('_parseLength %d', result.value)\n    return !!result\n  }\n\n  _parsePayload () {\n    debug('_parsePayload: payload %O', this._list)\n    let result = false\n\n    // Do we have a payload? Do we have enough data to complete the payload?\n    // PINGs have no payload\n    if (this.packet.length === 0 || this._list.length >= this.packet.length) {\n      this._pos = 0\n\n      switch (this.packet.cmd) {\n        case 'connect':\n          this._parseConnect()\n          break\n        case 'connack':\n          this._parseConnack()\n          break\n        case 'publish':\n          this._parsePublish()\n          break\n        case 'puback':\n        case 'pubrec':\n        case 'pubrel':\n        case 'pubcomp':\n          this._parseConfirmation()\n          break\n        case 'subscribe':\n          this._parseSubscribe()\n          break\n        case 'suback':\n          this._parseSuback()\n          break\n        case 'unsubscribe':\n          this._parseUnsubscribe()\n          break\n        case 'unsuback':\n          this._parseUnsuback()\n          break\n        case 'pingreq':\n        case 'pingresp':\n          // These are empty, nothing to do\n          break\n        case 'disconnect':\n          this._parseDisconnect()\n          break\n        case 'auth':\n          this._parseAuth()\n          break\n        default:\n          this._emitError(new Error('Not supported'))\n      }\n\n      result = true\n    }\n    debug('_parsePayload complete result: %s', result)\n    return result\n  }\n\n  _parseConnect () {\n    debug('_parseConnect')\n    let topic // Will topic\n    let payload // Will payload\n    let password // Password\n    let username // Username\n    const flags = {}\n    const packet = this.packet\n\n    // Parse protocolId\n    const protocolId = this._parseString()\n\n    if (protocolId === null) return this._emitError(new Error('Cannot parse protocolId'))\n    if (protocolId !== 'MQTT' && protocolId !== 'MQIsdp') {\n      return this._emitError(new Error('Invalid protocolId'))\n    }\n\n    packet.protocolId = protocolId\n\n    // Parse constants version number\n    if (this._pos >= this._list.length) return this._emitError(new Error('Packet too short'))\n\n    packet.protocolVersion = this._list.readUInt8(this._pos)\n\n    if (packet.protocolVersion >= 128) {\n      packet.bridgeMode = true\n      packet.protocolVersion = packet.protocolVersion - 128\n    }\n\n    if (packet.protocolVersion !== 3 && packet.protocolVersion !== 4 && packet.protocolVersion !== 5) {\n      return this._emitError(new Error('Invalid protocol version'))\n    }\n\n    this._pos++\n\n    if (this._pos >= this._list.length) {\n      return this._emitError(new Error('Packet too short'))\n    }\n\n    if (this._list.readUInt8(this._pos) & 0x1) {\n      // The Server MUST validate that the reserved flag in the CONNECT Control Packet is set to zero and disconnect the Client if it is not zero [MQTT-3.1.2-3]\n      return this._emitError(new Error('Connect flag bit 0 must be 0, but got 1'))\n    }\n    // Parse connect flags\n    flags.username = (this._list.readUInt8(this._pos) & constants.USERNAME_MASK)\n    flags.password = (this._list.readUInt8(this._pos) & constants.PASSWORD_MASK)\n    flags.will = (this._list.readUInt8(this._pos) & constants.WILL_FLAG_MASK)\n\n    const willRetain = !!(this._list.readUInt8(this._pos) & constants.WILL_RETAIN_MASK)\n    const willQos = (this._list.readUInt8(this._pos) &\n        constants.WILL_QOS_MASK) >> constants.WILL_QOS_SHIFT\n\n    if (flags.will) {\n      packet.will = {}\n      packet.will.retain = willRetain\n      packet.will.qos = willQos\n    } else {\n      if (willRetain) {\n        return this._emitError(new Error('Will Retain Flag must be set to zero when Will Flag is set to 0'))\n      }\n      if (willQos) {\n        return this._emitError(new Error('Will QoS must be set to zero when Will Flag is set to 0'))\n      }\n    }\n\n    packet.clean = (this._list.readUInt8(this._pos) & constants.CLEAN_SESSION_MASK) !== 0\n    this._pos++\n\n    // Parse keepalive\n    packet.keepalive = this._parseNum()\n    if (packet.keepalive === -1) return this._emitError(new Error('Packet too short'))\n\n    // parse properties\n    if (packet.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    // Parse clientId\n    const clientId = this._parseString()\n    if (clientId === null) return this._emitError(new Error('Packet too short'))\n    packet.clientId = clientId\n    debug('_parseConnect: packet.clientId: %s', packet.clientId)\n\n    if (flags.will) {\n      if (packet.protocolVersion === 5) {\n        const willProperties = this._parseProperties()\n        if (Object.getOwnPropertyNames(willProperties).length) {\n          packet.will.properties = willProperties\n        }\n      }\n      // Parse will topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse will topic'))\n      packet.will.topic = topic\n      debug('_parseConnect: packet.will.topic: %s', packet.will.topic)\n\n      // Parse will payload\n      payload = this._parseBuffer()\n      if (payload === null) return this._emitError(new Error('Cannot parse will payload'))\n      packet.will.payload = payload\n      debug('_parseConnect: packet.will.paylaod: %s', packet.will.payload)\n    }\n\n    // Parse username\n    if (flags.username) {\n      username = this._parseString()\n      if (username === null) return this._emitError(new Error('Cannot parse username'))\n      packet.username = username\n      debug('_parseConnect: packet.username: %s', packet.username)\n    }\n\n    // Parse password\n    if (flags.password) {\n      password = this._parseBuffer()\n      if (password === null) return this._emitError(new Error('Cannot parse password'))\n      packet.password = password\n    }\n    // need for right parse auth packet and self set up\n    this.settings = packet\n    debug('_parseConnect: complete')\n    return packet\n  }\n\n  _parseConnack () {\n    debug('_parseConnack')\n    const packet = this.packet\n\n    if (this._list.length < 1) return null\n    const flags = this._list.readUInt8(this._pos++)\n    if (flags > 1) {\n      return this._emitError(new Error('Invalid connack flags, bits 7-1 must be set to 0'))\n    }\n    packet.sessionPresent = !!(flags & constants.SESSIONPRESENT_MASK)\n\n    if (this.settings.protocolVersion === 5) {\n      if (this._list.length >= 2) {\n        packet.reasonCode = this._list.readUInt8(this._pos++)\n      } else {\n        packet.reasonCode = 0\n      }\n    } else {\n      if (this._list.length < 2) return null\n      packet.returnCode = this._list.readUInt8(this._pos++)\n    }\n\n    if (packet.returnCode === -1 || packet.reasonCode === -1) return this._emitError(new Error('Cannot parse return code'))\n    // mqtt 5 properties\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    debug('_parseConnack: complete')\n  }\n\n  _parsePublish () {\n    debug('_parsePublish')\n    const packet = this.packet\n    packet.topic = this._parseString()\n\n    if (packet.topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n    // Parse messageId\n    if (packet.qos > 0) if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    packet.payload = this._list.slice(this._pos, packet.length)\n    debug('_parsePublish: payload from buffer list: %o', packet.payload)\n  }\n\n  _parseSubscribe () {\n    debug('_parseSubscribe')\n    const packet = this.packet\n    let topic\n    let options\n    let qos\n    let rh\n    let rap\n    let nl\n    let subscription\n\n    packet.subscriptions = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed subscribe, no payload specified')) }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n      if (this._pos >= packet.length) return this._emitError(new Error('Malformed Subscribe Payload'))\n\n      options = this._parseByte()\n\n      if (this.settings.protocolVersion === 5) {\n        if (options & 0xc0) {\n          return this._emitError(new Error('Invalid subscribe topic flag bits, bits 7-6 must be 0'))\n        }\n      } else {\n        if (options & 0xfc) {\n          return this._emitError(new Error('Invalid subscribe topic flag bits, bits 7-2 must be 0'))\n        }\n      }\n\n      qos = options & constants.SUBSCRIBE_OPTIONS_QOS_MASK\n      if (qos > 2) {\n        return this._emitError(new Error('Invalid subscribe QoS, must be <= 2'))\n      }\n      nl = ((options >> constants.SUBSCRIBE_OPTIONS_NL_SHIFT) & constants.SUBSCRIBE_OPTIONS_NL_MASK) !== 0\n      rap = ((options >> constants.SUBSCRIBE_OPTIONS_RAP_SHIFT) & constants.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0\n      rh = (options >> constants.SUBSCRIBE_OPTIONS_RH_SHIFT) & constants.SUBSCRIBE_OPTIONS_RH_MASK\n\n      if (rh > 2) {\n        return this._emitError(new Error('Invalid retain handling, must be <= 2'))\n      }\n\n      subscription = { topic, qos }\n\n      // mqtt 5 options\n      if (this.settings.protocolVersion === 5) {\n        subscription.nl = nl\n        subscription.rap = rap\n        subscription.rh = rh\n      } else if (this.settings.bridgeMode) {\n        subscription.rh = 0\n        subscription.rap = true\n        subscription.nl = true\n      }\n\n      // Push pair to subscriptions\n      debug('_parseSubscribe: push subscription `%s` to subscription', subscription)\n      packet.subscriptions.push(subscription)\n    }\n  }\n\n  _parseSuback () {\n    debug('_parseSuback')\n    const packet = this.packet\n    this.packet.granted = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed suback, no payload specified')) }\n\n    // Parse granted QoSes\n    while (this._pos < this.packet.length) {\n      const code = this._list.readUInt8(this._pos++)\n      if (this.settings.protocolVersion === 5) {\n        if (!constants.MQTT5_SUBACK_CODES[code]) {\n          return this._emitError(new Error('Invalid suback code'))\n        }\n      } else {\n        if (code > 2 && code !== 0x80) {\n          return this._emitError(new Error('Invalid suback QoS, must be 0, 1, 2 or 128'))\n        }\n      }\n      this.packet.granted.push(code)\n    }\n  }\n\n  _parseUnsubscribe () {\n    debug('_parseUnsubscribe')\n    const packet = this.packet\n\n    packet.unsubscriptions = []\n\n    // Parse messageId\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed unsubscribe, no payload specified')) }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      const topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n      // Push topic to unsubscriptions\n      debug('_parseUnsubscribe: push topic `%s` to unsubscriptions', topic)\n      packet.unsubscriptions.push(topic)\n    }\n  }\n\n  _parseUnsuback () {\n    debug('_parseUnsuback')\n    const packet = this.packet\n    if (!this._parseMessageId()) return this._emitError(new Error('Cannot parse messageId'))\n\n    if ((this.settings.protocolVersion === 3 ||\n      this.settings.protocolVersion === 4) && packet.length !== 2) {\n      return this._emitError(new Error('Malformed unsuback, payload length must be 2'))\n    }\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed unsuback, no payload specified')) }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n      // Parse granted QoSes\n      packet.granted = []\n\n      while (this._pos < this.packet.length) {\n        const code = this._list.readUInt8(this._pos++)\n        if (!constants.MQTT5_UNSUBACK_CODES[code]) {\n          return this._emitError(new Error('Invalid unsuback code'))\n        }\n        this.packet.granted.push(code)\n      }\n    }\n  }\n\n  // parse packets like puback, pubrec, pubrel, pubcomp\n  _parseConfirmation () {\n    debug('_parseConfirmation: packet.cmd: `%s`', this.packet.cmd)\n    const packet = this.packet\n\n    this._parseMessageId()\n\n    if (this.settings.protocolVersion === 5) {\n      if (packet.length > 2) {\n        // response code\n        packet.reasonCode = this._parseByte()\n        switch (this.packet.cmd) {\n          case 'puback':\n          case 'pubrec':\n            if (!constants.MQTT5_PUBACK_PUBREC_CODES[packet.reasonCode]) {\n              return this._emitError(new Error('Invalid ' + this.packet.cmd + ' reason code'))\n            }\n            break\n          case 'pubrel':\n          case 'pubcomp':\n            if (!constants.MQTT5_PUBREL_PUBCOMP_CODES[packet.reasonCode]) {\n              return this._emitError(new Error('Invalid ' + this.packet.cmd + ' reason code'))\n            }\n            break\n        }\n        debug('_parseConfirmation: packet.reasonCode `%d`', packet.reasonCode)\n      } else {\n        packet.reasonCode = 0\n      }\n\n      if (packet.length > 3) {\n        // properies mqtt 5\n        const properties = this._parseProperties()\n        if (Object.getOwnPropertyNames(properties).length) {\n          packet.properties = properties\n        }\n      }\n    }\n\n    return true\n  }\n\n  // parse disconnect packet\n  _parseDisconnect () {\n    const packet = this.packet\n    debug('_parseDisconnect')\n\n    if (this.settings.protocolVersion === 5) {\n      // response code\n      if (this._list.length > 0) {\n        packet.reasonCode = this._parseByte()\n        if (!constants.MQTT5_DISCONNECT_CODES[packet.reasonCode]) {\n          this._emitError(new Error('Invalid disconnect reason code'))\n        }\n      } else {\n        packet.reasonCode = 0\n      }\n      // properies mqtt 5\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    debug('_parseDisconnect result: true')\n    return true\n  }\n\n  // parse auth packet\n  _parseAuth () {\n    debug('_parseAuth')\n    const packet = this.packet\n\n    if (this.settings.protocolVersion !== 5) {\n      return this._emitError(new Error('Not supported auth packet for this version MQTT'))\n    }\n\n    // response code\n    packet.reasonCode = this._parseByte()\n    if (!constants.MQTT5_AUTH_CODES[packet.reasonCode]) {\n      return this._emitError(new Error('Invalid auth reason code'))\n    }\n    // properies mqtt 5\n    const properties = this._parseProperties()\n    if (Object.getOwnPropertyNames(properties).length) {\n      packet.properties = properties\n    }\n\n    debug('_parseAuth: result: true')\n    return true\n  }\n\n  _parseMessageId () {\n    const packet = this.packet\n\n    packet.messageId = this._parseNum()\n\n    if (packet.messageId === null) {\n      this._emitError(new Error('Cannot parse messageId'))\n      return false\n    }\n\n    debug('_parseMessageId: packet.messageId %d', packet.messageId)\n    return true\n  }\n\n  _parseString (maybeBuffer) {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.toString('utf8', this._pos, end)\n    this._pos += length\n    debug('_parseString: result: %s', result)\n    return result\n  }\n\n  _parseStringPair () {\n    debug('_parseStringPair')\n    return {\n      name: this._parseString(),\n      value: this._parseString()\n    }\n  }\n\n  _parseBuffer () {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.slice(this._pos, end)\n\n    this._pos += length\n    debug('_parseBuffer: result: %o', result)\n    return result\n  }\n\n  _parseNum () {\n    if (this._list.length - this._pos < 2) return -1\n\n    const result = this._list.readUInt16BE(this._pos)\n    this._pos += 2\n    debug('_parseNum: result: %s', result)\n    return result\n  }\n\n  _parse4ByteNum () {\n    if (this._list.length - this._pos < 4) return -1\n\n    const result = this._list.readUInt32BE(this._pos)\n    this._pos += 4\n    debug('_parse4ByteNum: result: %s', result)\n    return result\n  }\n\n  _parseVarByteNum (fullInfoFlag) {\n    debug('_parseVarByteNum')\n    const maxBytes = 4\n    let bytes = 0\n    let mul = 1\n    let value = 0\n    let result = false\n    let current\n    const padding = this._pos ? this._pos : 0\n\n    while (bytes < maxBytes && (padding + bytes) < this._list.length) {\n      current = this._list.readUInt8(padding + bytes++)\n      value += mul * (current & constants.VARBYTEINT_MASK)\n      mul *= 0x80\n\n      if ((current & constants.VARBYTEINT_FIN_MASK) === 0) {\n        result = true\n        break\n      }\n      if (this._list.length <= bytes) {\n        break\n      }\n    }\n\n    if (!result && bytes === maxBytes && this._list.length >= bytes) {\n      this._emitError(new Error('Invalid variable byte integer'))\n    }\n\n    if (padding) {\n      this._pos += bytes\n    }\n\n    if (result) {\n      if (fullInfoFlag) {\n        result = { bytes, value }\n      } else {\n        result = value\n      }\n    } else {\n      result = false\n    }\n\n    debug('_parseVarByteNum: result: %o', result)\n    return result\n  }\n\n  _parseByte () {\n    let result\n    if (this._pos < this._list.length) {\n      result = this._list.readUInt8(this._pos)\n      this._pos++\n    }\n    debug('_parseByte: result: %o', result)\n    return result\n  }\n\n  _parseByType (type) {\n    debug('_parseByType: type: %s', type)\n    switch (type) {\n      case 'byte': {\n        return this._parseByte() !== 0\n      }\n      case 'int8': {\n        return this._parseByte()\n      }\n      case 'int16': {\n        return this._parseNum()\n      }\n      case 'int32': {\n        return this._parse4ByteNum()\n      }\n      case 'var': {\n        return this._parseVarByteNum()\n      }\n      case 'string': {\n        return this._parseString()\n      }\n      case 'pair': {\n        return this._parseStringPair()\n      }\n      case 'binary': {\n        return this._parseBuffer()\n      }\n    }\n  }\n\n  _parseProperties () {\n    debug('_parseProperties')\n    const length = this._parseVarByteNum()\n    const start = this._pos\n    const end = start + length\n    const result = {}\n    while (this._pos < end) {\n      const type = this._parseByte()\n      if (!type) {\n        this._emitError(new Error('Cannot parse property code type'))\n        return false\n      }\n      const name = constants.propertiesCodes[type]\n      if (!name) {\n        this._emitError(new Error('Unknown property'))\n        return false\n      }\n      // user properties process\n      if (name === 'userProperties') {\n        if (!result[name]) {\n          result[name] = Object.create(null)\n        }\n        const currentUserProperty = this._parseByType(constants.propertiesTypes[name])\n        if (result[name][currentUserProperty.name]) {\n          if (Array.isArray(result[name][currentUserProperty.name])) {\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          } else {\n            const currentValue = result[name][currentUserProperty.name]\n            result[name][currentUserProperty.name] = [currentValue]\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          }\n        } else {\n          result[name][currentUserProperty.name] = currentUserProperty.value\n        }\n        continue\n      }\n      if (result[name]) {\n        if (Array.isArray(result[name])) {\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        } else {\n          result[name] = [result[name]]\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        }\n      } else {\n        result[name] = this._parseByType(constants.propertiesTypes[name])\n      }\n    }\n    return result\n  }\n\n  _newPacket () {\n    debug('_newPacket')\n    if (this.packet) {\n      this._list.consume(this.packet.length)\n      debug('_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d', this.packet.cmd, this.packet.payload, this.packet.length)\n      this.emit('packet', this.packet)\n    }\n    debug('_newPacket: new packet')\n    this.packet = new Packet()\n\n    this._pos = 0\n\n    return true\n  }\n\n  _emitError (err) {\n    debug('_emitError', err)\n    this.error = err\n    this.emit('error', err)\n  }\n}\n\nmodule.exports = Parser\n","const protocol = require('./constants')\nconst { Buffer } = require('buffer')\nconst empty = Buffer.allocUnsafe(0)\nconst zeroBuf = Buffer.from([0])\nconst numbers = require('./numbers')\nconst nextTick = require('process-nextick-args').nextTick\nconst debug = require('debug')('mqtt-packet:writeToStream')\n\nconst numCache = numbers.cache\nconst generateNumber = numbers.generateNumber\nconst generateCache = numbers.generateCache\nconst genBufVariableByteInt = numbers.genBufVariableByteInt\nconst generate4ByteBuffer = numbers.generate4ByteBuffer\nlet writeNumber = writeNumberCached\nlet toGenerate = true\n\nfunction generate (packet, stream, opts) {\n  debug('generate called')\n  if (stream.cork) {\n    stream.cork()\n    nextTick(uncork, stream)\n  }\n\n  if (toGenerate) {\n    toGenerate = false\n    generateCache()\n  }\n  debug('generate: packet.cmd: %s', packet.cmd)\n  switch (packet.cmd) {\n    case 'connect':\n      return connect(packet, stream, opts)\n    case 'connack':\n      return connack(packet, stream, opts)\n    case 'publish':\n      return publish(packet, stream, opts)\n    case 'puback':\n    case 'pubrec':\n    case 'pubrel':\n    case 'pubcomp':\n      return confirmation(packet, stream, opts)\n    case 'subscribe':\n      return subscribe(packet, stream, opts)\n    case 'suback':\n      return suback(packet, stream, opts)\n    case 'unsubscribe':\n      return unsubscribe(packet, stream, opts)\n    case 'unsuback':\n      return unsuback(packet, stream, opts)\n    case 'pingreq':\n    case 'pingresp':\n      return emptyPacket(packet, stream, opts)\n    case 'disconnect':\n      return disconnect(packet, stream, opts)\n    case 'auth':\n      return auth(packet, stream, opts)\n    default:\n      stream.destroy(new Error('Unknown command'))\n      return false\n  }\n}\n/**\n * Controls numbers cache.\n * Set to \"false\" to allocate buffers on-the-flight instead of pre-generated cache\n */\nObject.defineProperty(generate, 'cacheNumbers', {\n  get () {\n    return writeNumber === writeNumberCached\n  },\n  set (value) {\n    if (value) {\n      if (!numCache || Object.keys(numCache).length === 0) toGenerate = true\n      writeNumber = writeNumberCached\n    } else {\n      toGenerate = false\n      writeNumber = writeNumberGenerated\n    }\n  }\n})\n\nfunction uncork (stream) {\n  stream.uncork()\n}\n\nfunction connect (packet, stream, opts) {\n  const settings = packet || {}\n  const protocolId = settings.protocolId || 'MQTT'\n  let protocolVersion = settings.protocolVersion || 4\n  const will = settings.will\n  let clean = settings.clean\n  const keepalive = settings.keepalive || 0\n  const clientId = settings.clientId || ''\n  const username = settings.username\n  const password = settings.password\n  /* mqtt5 new oprions */\n  const properties = settings.properties\n\n  if (clean === undefined) clean = true\n\n  let length = 0\n\n  // Must be a string and non-falsy\n  if (!protocolId ||\n     (typeof protocolId !== 'string' && !Buffer.isBuffer(protocolId))) {\n    stream.destroy(new Error('Invalid protocolId'))\n    return false\n  } else length += protocolId.length + 2\n\n  // Must be 3 or 4 or 5\n  if (protocolVersion !== 3 && protocolVersion !== 4 && protocolVersion !== 5) {\n    stream.destroy(new Error('Invalid protocol version'))\n    return false\n  } else length += 1\n\n  // ClientId might be omitted in 3.1.1 and 5, but only if cleanSession is set to 1\n  if ((typeof clientId === 'string' || Buffer.isBuffer(clientId)) &&\n     (clientId || protocolVersion >= 4) && (clientId || clean)) {\n    length += Buffer.byteLength(clientId) + 2\n  } else {\n    if (protocolVersion < 4) {\n      stream.destroy(new Error('clientId must be supplied before 3.1.1'))\n      return false\n    }\n    if ((clean * 1) === 0) {\n      stream.destroy(new Error('clientId must be given if cleanSession set to 0'))\n      return false\n    }\n  }\n\n  // Must be a two byte number\n  if (typeof keepalive !== 'number' ||\n      keepalive < 0 ||\n      keepalive > 65535 ||\n      keepalive % 1 !== 0) {\n    stream.destroy(new Error('Invalid keepalive'))\n    return false\n  } else length += 2\n\n  // Connect flags\n  length += 1\n\n  let propertiesData\n  let willProperties\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // If will exists...\n  if (will) {\n    // It must be an object\n    if (typeof will !== 'object') {\n      stream.destroy(new Error('Invalid will'))\n      return false\n    }\n    // It must have topic typeof string\n    if (!will.topic || typeof will.topic !== 'string') {\n      stream.destroy(new Error('Invalid will topic'))\n      return false\n    } else {\n      length += Buffer.byteLength(will.topic) + 2\n    }\n\n    // Payload\n    length += 2 // payload length\n    if (will.payload) {\n      if (will.payload.length >= 0) {\n        if (typeof will.payload === 'string') {\n          length += Buffer.byteLength(will.payload)\n        } else {\n          length += will.payload.length\n        }\n      } else {\n        stream.destroy(new Error('Invalid will payload'))\n        return false\n      }\n    }\n    // will properties\n    willProperties = {}\n    if (protocolVersion === 5) {\n      willProperties = getProperties(stream, will.properties)\n      if (!willProperties) { return false }\n      length += willProperties.length\n    }\n  }\n\n  // Username\n  let providedUsername = false\n  if (username != null) {\n    if (isStringOrBuffer(username)) {\n      providedUsername = true\n      length += Buffer.byteLength(username) + 2\n    } else {\n      stream.destroy(new Error('Invalid username'))\n      return false\n    }\n  }\n\n  // Password\n  if (password != null) {\n    if (!providedUsername) {\n      stream.destroy(new Error('Username is required to use password'))\n      return false\n    }\n\n    if (isStringOrBuffer(password)) {\n      length += byteLength(password) + 2\n    } else {\n      stream.destroy(new Error('Invalid password'))\n      return false\n    }\n  }\n\n  // Generate header\n  stream.write(protocol.CONNECT_HEADER)\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate protocol ID\n  writeStringOrBuffer(stream, protocolId)\n\n  if (settings.bridgeMode) {\n    protocolVersion += 128\n  }\n\n  stream.write(\n    protocolVersion === 131\n      ? protocol.VERSION131\n      : protocolVersion === 132\n        ? protocol.VERSION132\n        : protocolVersion === 4\n          ? protocol.VERSION4\n          : protocolVersion === 5\n            ? protocol.VERSION5\n            : protocol.VERSION3\n  )\n\n  // Connect flags\n  let flags = 0\n  flags |= (username != null) ? protocol.USERNAME_MASK : 0\n  flags |= (password != null) ? protocol.PASSWORD_MASK : 0\n  flags |= (will && will.retain) ? protocol.WILL_RETAIN_MASK : 0\n  flags |= (will && will.qos) ? will.qos << protocol.WILL_QOS_SHIFT : 0\n  flags |= will ? protocol.WILL_FLAG_MASK : 0\n  flags |= clean ? protocol.CLEAN_SESSION_MASK : 0\n\n  stream.write(Buffer.from([flags]))\n\n  // Keepalive\n  writeNumber(stream, keepalive)\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData.write()\n  }\n\n  // Client ID\n  writeStringOrBuffer(stream, clientId)\n\n  // Will\n  if (will) {\n    if (protocolVersion === 5) {\n      willProperties.write()\n    }\n    writeString(stream, will.topic)\n    writeStringOrBuffer(stream, will.payload)\n  }\n\n  // Username and password\n  if (username != null) {\n    writeStringOrBuffer(stream, username)\n  }\n  if (password != null) {\n    writeStringOrBuffer(stream, password)\n  }\n  // This is a small packet that happens only once on a stream\n  // We assume the stream is always free to receive more data after this\n  return true\n}\n\nfunction connack (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const rc = version === 5 ? settings.reasonCode : settings.returnCode\n  const properties = settings.properties\n  let length = 2 // length of rc and sessionHeader\n\n  // Check return code\n  if (typeof rc !== 'number') {\n    stream.destroy(new Error('Invalid return code'))\n    return false\n  }\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  stream.write(protocol.CONNACK_HEADER)\n  // length\n  writeVarByteInt(stream, length)\n  stream.write(settings.sessionPresent ? protocol.SESSIONPRESENT_HEADER : zeroBuf)\n\n  stream.write(Buffer.from([rc]))\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n  return true\n}\n\nfunction publish (packet, stream, opts) {\n  debug('publish: packet: %o', packet)\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const qos = settings.qos || 0\n  const retain = settings.retain ? protocol.RETAIN_MASK : 0\n  const topic = settings.topic\n  const payload = settings.payload || empty\n  const id = settings.messageId\n  const properties = settings.properties\n\n  let length = 0\n\n  // Topic must be a non-empty string or Buffer\n  if (typeof topic === 'string') length += Buffer.byteLength(topic) + 2\n  else if (Buffer.isBuffer(topic)) length += topic.length + 2\n  else {\n    stream.destroy(new Error('Invalid topic'))\n    return false\n  }\n\n  // Get the payload length\n  if (!Buffer.isBuffer(payload)) length += Buffer.byteLength(payload)\n  else length += payload.length\n\n  // Message ID must a number if qos > 0\n  if (qos && typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else if (qos) length += 2\n\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.PUBLISH_HEADER[qos][settings.dup ? 1 : 0][retain ? 1 : 0])\n\n  // Remaining length\n  writeVarByteInt(stream, length)\n\n  // Topic\n  writeNumber(stream, byteLength(topic))\n  stream.write(topic)\n\n  // Message ID\n  if (qos > 0) writeNumber(stream, id)\n\n  // Properties\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n\n  // Payload\n  debug('publish: payload: %o', payload)\n  return stream.write(payload)\n}\n\n/* Puback, pubrec, pubrel and pubcomp */\nfunction confirmation (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const type = settings.cmd || 'puback'\n  const id = settings.messageId\n  const dup = (settings.dup && type === 'pubrel') ? protocol.DUP_MASK : 0\n  let qos = 0\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 3 : 2\n\n  if (type === 'pubrel') qos = 1\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    // Confirm should not add empty property length with no properties (rfc 3.4.2.2.1)\n    if (typeof properties === 'object') {\n      propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n      if (!propertiesData) { return false }\n      length += propertiesData.length\n    }\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length === 3 is only true of version === 5 and no properties; therefore if reasonCode === 0 we are allowed to skip both bytes - but if we write the reason code we also have to write property length [MQTT-3.4.2-1].\n  if (length === 3) length += reasonCode !== 0 ? 1 : -1\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // reason code in header - but only if it couldn't be omitted - indicated by length !== 2.\n  if (version === 5 && length !== 2) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properties mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  } else {\n    if (length === 4) {\n      // we have no properties but have written a reason code - so we need to indicate empty properties by filling in a zero.\n      stream.write(Buffer.from([0]))\n    }\n  }\n  return true\n}\n\nfunction subscribe (packet, stream, opts) {\n  debug('subscribe: packet: ')\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const id = settings.messageId\n  const subs = settings.subscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Check subscriptions\n  if (typeof subs === 'object' && subs.length) {\n    for (let i = 0; i < subs.length; i += 1) {\n      const itopic = subs[i].topic\n      const iqos = subs[i].qos\n\n      if (typeof itopic !== 'string') {\n        stream.destroy(new Error('Invalid subscriptions - invalid topic'))\n        return false\n      }\n      if (typeof iqos !== 'number') {\n        stream.destroy(new Error('Invalid subscriptions - invalid qos'))\n        return false\n      }\n\n      if (version === 5) {\n        const nl = subs[i].nl || false\n        if (typeof nl !== 'boolean') {\n          stream.destroy(new Error('Invalid subscriptions - invalid No Local'))\n          return false\n        }\n        const rap = subs[i].rap || false\n        if (typeof rap !== 'boolean') {\n          stream.destroy(new Error('Invalid subscriptions - invalid Retain as Published'))\n          return false\n        }\n        const rh = subs[i].rh || 0\n        if (typeof rh !== 'number' || rh > 2) {\n          stream.destroy(new Error('Invalid subscriptions - invalid Retain Handling'))\n          return false\n        }\n      }\n\n      length += Buffer.byteLength(itopic) + 2 + 1\n    }\n  } else {\n    stream.destroy(new Error('Invalid subscriptions'))\n    return false\n  }\n\n  // Generate header\n  debug('subscribe: writing to stream: %o', protocol.SUBSCRIBE_HEADER)\n  stream.write(protocol.SUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  let result = true\n\n  // Generate subs\n  for (const sub of subs) {\n    const jtopic = sub.topic\n    const jqos = sub.qos\n    const jnl = +sub.nl\n    const jrap = +sub.rap\n    const jrh = sub.rh\n    let joptions\n\n    // Write topic string\n    writeString(stream, jtopic)\n\n    // options process\n    joptions = protocol.SUBSCRIBE_OPTIONS_QOS[jqos]\n    if (version === 5) {\n      joptions |= jnl ? protocol.SUBSCRIBE_OPTIONS_NL : 0\n      joptions |= jrap ? protocol.SUBSCRIBE_OPTIONS_RAP : 0\n      joptions |= jrh ? protocol.SUBSCRIBE_OPTIONS_RH[jrh] : 0\n    }\n    // Write options\n    result = stream.write(Buffer.from([joptions]))\n  }\n\n  return result\n}\n\nfunction suback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const granted = settings.granted\n  const properties = settings.properties\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // Check granted qos vector\n  if (typeof granted === 'object' && granted.length) {\n    for (let i = 0; i < granted.length; i += 1) {\n      if (typeof granted[i] !== 'number') {\n        stream.destroy(new Error('Invalid qos vector'))\n        return false\n      }\n      length += 1\n    }\n  } else {\n    stream.destroy(new Error('Invalid qos vector'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // header\n  stream.write(protocol.SUBACK_HEADER)\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return stream.write(Buffer.from(granted))\n}\n\nfunction unsubscribe (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const unsubs = settings.unsubscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else {\n    length += 2\n  }\n  // Check unsubs\n  if (typeof unsubs === 'object' && unsubs.length) {\n    for (let i = 0; i < unsubs.length; i += 1) {\n      if (typeof unsubs[i] !== 'string') {\n        stream.destroy(new Error('Invalid unsubscriptions'))\n        return false\n      }\n      length += Buffer.byteLength(unsubs[i]) + 2\n    }\n  } else {\n    stream.destroy(new Error('Invalid unsubscriptions'))\n    return false\n  }\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.UNSUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // Unsubs\n  let result = true\n  for (let j = 0; j < unsubs.length; j++) {\n    result = writeString(stream, unsubs[j])\n  }\n\n  return result\n}\n\nfunction unsuback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const granted = settings.granted\n  const properties = settings.properties\n  const type = settings.cmd\n  const qos = 0\n\n  let length = 2\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  }\n\n  // Check granted\n  if (version === 5) {\n    if (typeof granted === 'object' && granted.length) {\n      for (let i = 0; i < granted.length; i += 1) {\n        if (typeof granted[i] !== 'number') {\n          stream.destroy(new Error('Invalid qos vector'))\n          return false\n        }\n        length += 1\n      }\n    } else {\n      stream.destroy(new Error('Invalid qos vector'))\n      return false\n    }\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // payload\n  if (version === 5) {\n    stream.write(Buffer.from(granted))\n  }\n  return true\n}\n\nfunction emptyPacket (packet, stream, opts) {\n  return stream.write(protocol.EMPTY[packet.cmd])\n}\n\nfunction disconnect (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.disconnect << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  if (version === 5) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return true\n}\n\nfunction auth (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  if (version !== 5) stream.destroy(new Error('Invalid mqtt version for auth packet'))\n\n  // properies mqtt 5\n  const propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n  if (!propertiesData) { return false }\n  length += propertiesData.length\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.auth << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  stream.write(Buffer.from([reasonCode]))\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n  return true\n}\n\n/**\n * writeVarByteInt - write an MQTT style variable byte integer to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <Number> length - length (>0)\n * @returns <Number> number of bytes written\n *\n * @api private\n */\n\nconst varByteIntCache = {}\nfunction writeVarByteInt (stream, num) {\n  if (num > protocol.VARBYTEINT_MAX) {\n    stream.destroy(new Error(`Invalid variable byte integer: ${num}`))\n    return false\n  }\n\n  let buffer = varByteIntCache[num]\n\n  if (!buffer) {\n    buffer = genBufVariableByteInt(num)\n    if (num < 16384) varByteIntCache[num] = buffer\n  }\n  debug('writeVarByteInt: writing to stream: %o', buffer)\n  return stream.write(buffer)\n}\n\n/**\n * writeString - write a utf8 string to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> string - string to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\n\nfunction writeString (stream, string) {\n  const strlen = Buffer.byteLength(string)\n  writeNumber(stream, strlen)\n\n  debug('writeString: %s', string)\n  return stream.write(string, 'utf8')\n}\n\n/**\n * writeStringPair - write a utf8 string pairs to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <String> name - string name to write\n * @param <String> value - string value to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeStringPair (stream, name, value) {\n  writeString(stream, name)\n  writeString(stream, value)\n}\n\n/**\n * writeNumber - write a two byte number to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> number - number to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeNumberCached (stream, number) {\n  debug('writeNumberCached: number: %d', number)\n  debug('writeNumberCached: %o', numCache[number])\n  return stream.write(numCache[number])\n}\nfunction writeNumberGenerated (stream, number) {\n  const generatedNumber = generateNumber(number)\n  debug('writeNumberGenerated: %o', generatedNumber)\n  return stream.write(generatedNumber)\n}\nfunction write4ByteNumber (stream, number) {\n  const generated4ByteBuffer = generate4ByteBuffer(number)\n  debug('write4ByteNumber: %o', generated4ByteBuffer)\n  return stream.write(generated4ByteBuffer)\n}\n/**\n * writeStringOrBuffer - write a String or Buffer with the its length prefix\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> toWrite - String or Buffer\n * @return <Number> number of bytes written\n */\nfunction writeStringOrBuffer (stream, toWrite) {\n  if (typeof toWrite === 'string') {\n    writeString(stream, toWrite)\n  } else if (toWrite) {\n    writeNumber(stream, toWrite.length)\n    stream.write(toWrite)\n  } else writeNumber(stream, 0)\n}\n\nfunction getProperties (stream, properties) {\n  /* connect properties */\n  if (typeof properties !== 'object' || properties.length != null) {\n    return {\n      length: 1,\n      write () {\n        writeProperties(stream, {}, 0)\n      }\n    }\n  }\n  let propertiesLength = 0\n  function getLengthProperty (name, value) {\n    const type = protocol.propertiesTypes[name]\n    let length = 0\n    switch (type) {\n      case 'byte': {\n        if (typeof value !== 'boolean') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'int8': {\n        if (typeof value !== 'number' || value < 0 || value > 0xff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'binary': {\n        if (value && value === null) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(value) + 2\n        break\n      }\n      case 'int16': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2\n        break\n      }\n      case 'int32': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffffffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 4\n        break\n      }\n      case 'var': {\n        // var byte integer is max 24 bits packed in 32 bits\n        if (typeof value !== 'number' || value < 0 || value > 0x0fffffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(genBufVariableByteInt(value))\n        break\n      }\n      case 'string': {\n        if (typeof value !== 'string') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2 + Buffer.byteLength(value.toString())\n        break\n      }\n      case 'pair': {\n        if (typeof value !== 'object') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += Object.getOwnPropertyNames(value).reduce((result, name) => {\n          const currentValue = value[name]\n          if (Array.isArray(currentValue)) {\n            result += currentValue.reduce((currentLength, value) => {\n              currentLength += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value.toString())\n              return currentLength\n            }, 0)\n          } else {\n            result += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value[name].toString())\n          }\n          return result\n        }, 0)\n        break\n      }\n      default: {\n        stream.destroy(new Error(`Invalid property ${name}: ${value}`))\n        return false\n      }\n    }\n    return length\n  }\n  if (properties) {\n    for (const propName in properties) {\n      let propLength = 0\n      let propValueLength = 0\n      const propValue = properties[propName]\n      if (Array.isArray(propValue)) {\n        for (let valueIndex = 0; valueIndex < propValue.length; valueIndex++) {\n          propValueLength = getLengthProperty(propName, propValue[valueIndex])\n          if (!propValueLength) { return false }\n          propLength += propValueLength\n        }\n      } else {\n        propValueLength = getLengthProperty(propName, propValue)\n        if (!propValueLength) { return false }\n        propLength = propValueLength\n      }\n      if (!propLength) return false\n      propertiesLength += propLength\n    }\n  }\n  const propertiesLengthLength = Buffer.byteLength(genBufVariableByteInt(propertiesLength))\n\n  return {\n    length: propertiesLengthLength + propertiesLength,\n    write () {\n      writeProperties(stream, properties, propertiesLength)\n    }\n  }\n}\n\nfunction getPropertiesByMaximumPacketSize (stream, properties, opts, length) {\n  const mayEmptyProps = ['reasonString', 'userProperties']\n  const maximumPacketSize = opts && opts.properties && opts.properties.maximumPacketSize ? opts.properties.maximumPacketSize : 0\n\n  let propertiesData = getProperties(stream, properties)\n  if (maximumPacketSize) {\n    while (length + propertiesData.length > maximumPacketSize) {\n      const currentMayEmptyProp = mayEmptyProps.shift()\n      if (currentMayEmptyProp && properties[currentMayEmptyProp]) {\n        delete properties[currentMayEmptyProp]\n        propertiesData = getProperties(stream, properties)\n      } else {\n        return false\n      }\n    }\n  }\n  return propertiesData\n}\n\nfunction writeProperty (stream, propName, value) {\n  const type = protocol.propertiesTypes[propName]\n  switch (type) {\n    case 'byte': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([+value]))\n      break\n    }\n    case 'int8': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([value]))\n      break\n    }\n    case 'binary': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeStringOrBuffer(stream, value)\n      break\n    }\n    case 'int16': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeNumber(stream, value)\n      break\n    }\n    case 'int32': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      write4ByteNumber(stream, value)\n      break\n    }\n    case 'var': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeVarByteInt(stream, value)\n      break\n    }\n    case 'string': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeString(stream, value)\n      break\n    }\n    case 'pair': {\n      Object.getOwnPropertyNames(value).forEach(name => {\n        const currentValue = value[name]\n        if (Array.isArray(currentValue)) {\n          currentValue.forEach(value => {\n            stream.write(Buffer.from([protocol.properties[propName]]))\n            writeStringPair(stream, name.toString(), value.toString())\n          })\n        } else {\n          stream.write(Buffer.from([protocol.properties[propName]]))\n          writeStringPair(stream, name.toString(), currentValue.toString())\n        }\n      })\n      break\n    }\n    default: {\n      stream.destroy(new Error(`Invalid property ${propName} value: ${value}`))\n      return false\n    }\n  }\n}\n\nfunction writeProperties (stream, properties, propertiesLength) {\n  /* write properties to stream */\n  writeVarByteInt(stream, propertiesLength)\n  for (const propName in properties) {\n    if (Object.prototype.hasOwnProperty.call(properties, propName) && properties[propName] !== null) {\n      const value = properties[propName]\n      if (Array.isArray(value)) {\n        for (let valueIndex = 0; valueIndex < value.length; valueIndex++) {\n          writeProperty(stream, propName, value[valueIndex])\n        }\n      } else {\n        writeProperty(stream, propName, value)\n      }\n    }\n  }\n}\n\nfunction byteLength (bufOrString) {\n  if (!bufOrString) return 0\n  else if (bufOrString instanceof Buffer) return bufOrString.length\n  else return Buffer.byteLength(bufOrString)\n}\n\nfunction isStringOrBuffer (field) {\n  return typeof field === 'string' || field instanceof Buffer\n}\n\nmodule.exports = generate\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mqtt = __importStar(require(\"./mqtt\"));\nexports.default = mqtt;\n__exportStar(require(\"./mqtt\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BufferedDuplex = exports.writev = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\nconst buffer_1 = require(\"buffer\");\nfunction writev(chunks, cb) {\n    const buffers = new Array(chunks.length);\n    for (let i = 0; i < chunks.length; i++) {\n        if (typeof chunks[i].chunk === 'string') {\n            buffers[i] = buffer_1.Buffer.from(chunks[i].chunk, 'utf8');\n        }\n        else {\n            buffers[i] = chunks[i].chunk;\n        }\n    }\n    this._write(buffer_1.Buffer.concat(buffers), 'binary', cb);\n}\nexports.writev = writev;\nclass BufferedDuplex extends readable_stream_1.Duplex {\n    constructor(opts, proxy, socket) {\n        super({\n            objectMode: true,\n        });\n        this.proxy = proxy;\n        this.socket = socket;\n        this.writeQueue = [];\n        if (!opts.objectMode) {\n            this._writev = writev.bind(this);\n        }\n        this.isSocketOpen = false;\n        this.proxy.on('data', (chunk) => {\n            if (!this.destroyed) {\n                this.push(chunk);\n            }\n        });\n    }\n    _read(size) {\n        this.proxy.read(size);\n    }\n    _write(chunk, encoding, cb) {\n        if (!this.isSocketOpen) {\n            this.writeQueue.push({ chunk, encoding, cb });\n        }\n        else {\n            this.writeToProxy(chunk, encoding, cb);\n        }\n    }\n    _final(callback) {\n        this.writeQueue = [];\n        this.proxy.end(callback);\n    }\n    _destroy(err, callback) {\n        this.writeQueue = [];\n        this.proxy.destroy();\n        callback(err);\n    }\n    socketReady() {\n        this.emit('connect');\n        this.isSocketOpen = true;\n        this.processWriteQueue();\n    }\n    writeToProxy(chunk, encoding, cb) {\n        if (this.proxy.write(chunk, encoding) === false) {\n            this.proxy.once('drain', cb);\n        }\n        else {\n            cb();\n        }\n    }\n    processWriteQueue() {\n        while (this.writeQueue.length > 0) {\n            const { chunk, encoding, cb } = this.writeQueue.shift();\n            this.writeToProxy(chunk, encoding, cb);\n        }\n    }\n}\nexports.BufferedDuplex = BufferedDuplex;\n//# sourceMappingURL=BufferedDuplex.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_timer_1 = __importDefault(require(\"./get-timer\"));\nclass KeepaliveManager {\n    get keepaliveTimeoutTimestamp() {\n        return this._keepaliveTimeoutTimestamp;\n    }\n    get intervalEvery() {\n        return this._intervalEvery;\n    }\n    get keepalive() {\n        return this._keepalive;\n    }\n    constructor(client, variant) {\n        this.destroyed = false;\n        this.client = client;\n        this.timer =\n            typeof variant === 'object' &&\n                'set' in variant &&\n                'clear' in variant\n                ? variant\n                : (0, get_timer_1.default)(variant);\n        this.setKeepalive(client.options.keepalive);\n    }\n    clear() {\n        if (this.timerId) {\n            this.timer.clear(this.timerId);\n            this.timerId = null;\n        }\n    }\n    setKeepalive(value) {\n        value *= 1000;\n        if (isNaN(value) ||\n            value <= 0 ||\n            value > 2147483647) {\n            throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${value}`);\n        }\n        this._keepalive = value;\n        this.reschedule();\n        this.client['log'](`KeepaliveManager: set keepalive to ${value}ms`);\n    }\n    destroy() {\n        this.clear();\n        this.destroyed = true;\n    }\n    reschedule() {\n        if (this.destroyed) {\n            return;\n        }\n        this.clear();\n        this.counter = 0;\n        const keepAliveTimeout = Math.ceil(this._keepalive * 1.5);\n        this._keepaliveTimeoutTimestamp = Date.now() + keepAliveTimeout;\n        this._intervalEvery = Math.ceil(this._keepalive / 2);\n        this.timerId = this.timer.set(() => {\n            if (this.destroyed) {\n                return;\n            }\n            this.counter += 1;\n            if (this.counter === 2) {\n                this.client.sendPing();\n            }\n            else if (this.counter > 2) {\n                this.client.onKeepaliveTimeout();\n            }\n        }, this._intervalEvery);\n    }\n}\nexports.default = KeepaliveManager;\n//# sourceMappingURL=KeepaliveManager.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\nconst events_1 = __importDefault(require(\"events\"));\nconst shared_1 = require(\"./shared\");\nclass TypedEventEmitter {\n}\nexports.TypedEventEmitter = TypedEventEmitter;\n(0, shared_1.applyMixin)(TypedEventEmitter, events_1.default);\n//# sourceMappingURL=TypedEmitter.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst topic_alias_recv_1 = __importDefault(require(\"./topic-alias-recv\"));\nconst mqtt_packet_1 = __importDefault(require(\"mqtt-packet\"));\nconst default_message_id_provider_1 = __importDefault(require(\"./default-message-id-provider\"));\nconst readable_stream_1 = require(\"readable-stream\");\nconst default_1 = __importDefault(require(\"rfdc/default\"));\nconst validations = __importStar(require(\"./validations\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst store_1 = __importDefault(require(\"./store\"));\nconst handlers_1 = __importDefault(require(\"./handlers\"));\nconst shared_1 = require(\"./shared\");\nconst TypedEmitter_1 = require(\"./TypedEmitter\");\nconst KeepaliveManager_1 = __importDefault(require(\"./KeepaliveManager\"));\nconst is_browser_1 = __importStar(require(\"./is-browser\"));\nconst setImmediate = globalThis.setImmediate ||\n    ((...args) => {\n        const callback = args.shift();\n        (0, shared_1.nextTick)(() => {\n            callback(...args);\n        });\n    });\nconst defaultConnectOptions = {\n    keepalive: 60,\n    reschedulePings: true,\n    protocolId: 'MQTT',\n    protocolVersion: 4,\n    reconnectPeriod: 1000,\n    connectTimeout: 30 * 1000,\n    clean: true,\n    resubscribe: true,\n    writeCache: true,\n    timerVariant: 'auto',\n};\nclass MqttClient extends TypedEmitter_1.TypedEventEmitter {\n    static defaultId() {\n        return `mqttjs_${Math.random().toString(16).substr(2, 8)}`;\n    }\n    constructor(streamBuilder, options) {\n        super();\n        this.options = options || {};\n        for (const k in defaultConnectOptions) {\n            if (typeof this.options[k] === 'undefined') {\n                this.options[k] = defaultConnectOptions[k];\n            }\n            else {\n                this.options[k] = options[k];\n            }\n        }\n        this.log = this.options.log || (0, debug_1.default)('mqttjs:client');\n        this.noop = this._noop.bind(this);\n        this.log('MqttClient :: version:', MqttClient.VERSION);\n        if (is_browser_1.isWebWorker) {\n            this.log('MqttClient :: environment', 'webworker');\n        }\n        else {\n            this.log('MqttClient :: environment', is_browser_1.default ? 'browser' : 'node');\n        }\n        this.log('MqttClient :: options.protocol', options.protocol);\n        this.log('MqttClient :: options.protocolVersion', options.protocolVersion);\n        this.log('MqttClient :: options.username', options.username);\n        this.log('MqttClient :: options.keepalive', options.keepalive);\n        this.log('MqttClient :: options.reconnectPeriod', options.reconnectPeriod);\n        this.log('MqttClient :: options.rejectUnauthorized', options.rejectUnauthorized);\n        this.log('MqttClient :: options.properties.topicAliasMaximum', options.properties\n            ? options.properties.topicAliasMaximum\n            : undefined);\n        this.options.clientId =\n            typeof options.clientId === 'string'\n                ? options.clientId\n                : MqttClient.defaultId();\n        this.log('MqttClient :: clientId', this.options.clientId);\n        this.options.customHandleAcks =\n            options.protocolVersion === 5 && options.customHandleAcks\n                ? options.customHandleAcks\n                : (...args) => {\n                    args[3](null, 0);\n                };\n        if (!this.options.writeCache) {\n            mqtt_packet_1.default.writeToStream.cacheNumbers = false;\n        }\n        this.streamBuilder = streamBuilder;\n        this.messageIdProvider =\n            typeof this.options.messageIdProvider === 'undefined'\n                ? new default_message_id_provider_1.default()\n                : this.options.messageIdProvider;\n        this.outgoingStore = options.outgoingStore || new store_1.default();\n        this.incomingStore = options.incomingStore || new store_1.default();\n        this.queueQoSZero =\n            options.queueQoSZero === undefined ? true : options.queueQoSZero;\n        this._resubscribeTopics = {};\n        this.messageIdToTopic = {};\n        this.keepaliveManager = null;\n        this.connected = false;\n        this.disconnecting = false;\n        this.reconnecting = false;\n        this.queue = [];\n        this.connackTimer = null;\n        this.reconnectTimer = null;\n        this._storeProcessing = false;\n        this._packetIdsDuringStoreProcessing = {};\n        this._storeProcessingQueue = [];\n        this.outgoing = {};\n        this._firstConnection = true;\n        if (options.properties && options.properties.topicAliasMaximum > 0) {\n            if (options.properties.topicAliasMaximum > 0xffff) {\n                this.log('MqttClient :: options.properties.topicAliasMaximum is out of range');\n            }\n            else {\n                this.topicAliasRecv = new topic_alias_recv_1.default(options.properties.topicAliasMaximum);\n            }\n        }\n        this.on('connect', () => {\n            const { queue } = this;\n            const deliver = () => {\n                const entry = queue.shift();\n                this.log('deliver :: entry %o', entry);\n                let packet = null;\n                if (!entry) {\n                    this._resubscribe();\n                    return;\n                }\n                packet = entry.packet;\n                this.log('deliver :: call _sendPacket for %o', packet);\n                let send = true;\n                if (packet.messageId && packet.messageId !== 0) {\n                    if (!this.messageIdProvider.register(packet.messageId)) {\n                        send = false;\n                    }\n                }\n                if (send) {\n                    this._sendPacket(packet, (err) => {\n                        if (entry.cb) {\n                            entry.cb(err);\n                        }\n                        deliver();\n                    });\n                }\n                else {\n                    this.log('messageId: %d has already used. The message is skipped and removed.', packet.messageId);\n                    deliver();\n                }\n            };\n            this.log('connect :: sending queued packets');\n            deliver();\n        });\n        this.on('close', () => {\n            this.log('close :: connected set to `false`');\n            this.connected = false;\n            this.log('close :: clearing connackTimer');\n            clearTimeout(this.connackTimer);\n            this._destroyKeepaliveManager();\n            if (this.topicAliasRecv) {\n                this.topicAliasRecv.clear();\n            }\n            this.log('close :: calling _setupReconnect');\n            this._setupReconnect();\n        });\n        if (!this.options.manualConnect) {\n            this.log('MqttClient :: setting up stream');\n            this.connect();\n        }\n    }\n    handleAuth(packet, callback) {\n        callback();\n    }\n    handleMessage(packet, callback) {\n        callback();\n    }\n    _nextId() {\n        return this.messageIdProvider.allocate();\n    }\n    getLastMessageId() {\n        return this.messageIdProvider.getLastAllocated();\n    }\n    connect() {\n        var _a;\n        const writable = new readable_stream_1.Writable();\n        const parser = mqtt_packet_1.default.parser(this.options);\n        let completeParse = null;\n        const packets = [];\n        this.log('connect :: calling method to clear reconnect');\n        this._clearReconnect();\n        if (this.disconnected && !this.reconnecting) {\n            this.incomingStore = this.options.incomingStore || new store_1.default();\n            this.outgoingStore = this.options.outgoingStore || new store_1.default();\n            this.disconnecting = false;\n            this.disconnected = false;\n        }\n        this.log('connect :: using streamBuilder provided to client to create stream');\n        this.stream = this.streamBuilder(this);\n        parser.on('packet', (packet) => {\n            this.log('parser :: on packet push to packets array.');\n            packets.push(packet);\n        });\n        const work = () => {\n            this.log('work :: getting next packet in queue');\n            const packet = packets.shift();\n            if (packet) {\n                this.log('work :: packet pulled from queue');\n                (0, handlers_1.default)(this, packet, nextTickWork);\n            }\n            else {\n                this.log('work :: no packets in queue');\n                const done = completeParse;\n                completeParse = null;\n                this.log('work :: done flag is %s', !!done);\n                if (done)\n                    done();\n            }\n        };\n        const nextTickWork = () => {\n            if (packets.length) {\n                (0, shared_1.nextTick)(work);\n            }\n            else {\n                const done = completeParse;\n                completeParse = null;\n                done();\n            }\n        };\n        writable._write = (buf, enc, done) => {\n            completeParse = done;\n            this.log('writable stream :: parsing buffer');\n            parser.parse(buf);\n            work();\n        };\n        const streamErrorHandler = (error) => {\n            this.log('streamErrorHandler :: error', error.message);\n            if (error.code) {\n                this.log('streamErrorHandler :: emitting error');\n                this.emit('error', error);\n            }\n            else {\n                this.noop(error);\n            }\n        };\n        this.log('connect :: pipe stream to writable stream');\n        this.stream.pipe(writable);\n        this.stream.on('error', streamErrorHandler);\n        this.stream.on('close', () => {\n            this.log('(%s)stream :: on close', this.options.clientId);\n            this._flushVolatile();\n            this.log('stream: emit close to MqttClient');\n            this.emit('close');\n        });\n        this.log('connect: sending packet `connect`');\n        const connectPacket = {\n            cmd: 'connect',\n            protocolId: this.options.protocolId,\n            protocolVersion: this.options.protocolVersion,\n            clean: this.options.clean,\n            clientId: this.options.clientId,\n            keepalive: this.options.keepalive,\n            username: this.options.username,\n            password: this.options.password,\n            properties: this.options.properties,\n        };\n        if (this.options.will) {\n            connectPacket.will = Object.assign(Object.assign({}, this.options.will), { payload: (_a = this.options.will) === null || _a === void 0 ? void 0 : _a.payload });\n        }\n        if (this.topicAliasRecv) {\n            if (!connectPacket.properties) {\n                connectPacket.properties = {};\n            }\n            if (this.topicAliasRecv) {\n                connectPacket.properties.topicAliasMaximum =\n                    this.topicAliasRecv.max;\n            }\n        }\n        this._writePacket(connectPacket);\n        parser.on('error', this.emit.bind(this, 'error'));\n        if (this.options.properties) {\n            if (!this.options.properties.authenticationMethod &&\n                this.options.properties.authenticationData) {\n                this.end(() => this.emit('error', new Error('Packet has no Authentication Method')));\n                return this;\n            }\n            if (this.options.properties.authenticationMethod &&\n                this.options.authPacket &&\n                typeof this.options.authPacket === 'object') {\n                const authPacket = Object.assign({ cmd: 'auth', reasonCode: 0 }, this.options.authPacket);\n                this._writePacket(authPacket);\n            }\n        }\n        this.stream.setMaxListeners(1000);\n        clearTimeout(this.connackTimer);\n        this.connackTimer = setTimeout(() => {\n            this.log('!!connectTimeout hit!! Calling _cleanUp with force `true`');\n            this.emit('error', new Error('connack timeout'));\n            this._cleanUp(true);\n        }, this.options.connectTimeout);\n        return this;\n    }\n    publish(topic, message, opts, callback) {\n        this.log('publish :: message `%s` to topic `%s`', message, topic);\n        const { options } = this;\n        if (typeof opts === 'function') {\n            callback = opts;\n            opts = null;\n        }\n        opts = opts || {};\n        const defaultOpts = {\n            qos: 0,\n            retain: false,\n            dup: false,\n        };\n        opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        const { qos, retain, dup, properties, cbStorePut } = opts;\n        if (this._checkDisconnecting(callback)) {\n            return this;\n        }\n        const publishProc = () => {\n            let messageId = 0;\n            if (qos === 1 || qos === 2) {\n                messageId = this._nextId();\n                if (messageId === null) {\n                    this.log('No messageId left');\n                    return false;\n                }\n            }\n            const packet = {\n                cmd: 'publish',\n                topic,\n                payload: message,\n                qos,\n                retain,\n                messageId,\n                dup,\n            };\n            if (options.protocolVersion === 5) {\n                packet.properties = properties;\n            }\n            this.log('publish :: qos', qos);\n            switch (qos) {\n                case 1:\n                case 2:\n                    this.outgoing[packet.messageId] = {\n                        volatile: false,\n                        cb: callback || this.noop,\n                    };\n                    this.log('MqttClient:publish: packet cmd: %s', packet.cmd);\n                    this._sendPacket(packet, undefined, cbStorePut);\n                    break;\n                default:\n                    this.log('MqttClient:publish: packet cmd: %s', packet.cmd);\n                    this._sendPacket(packet, callback, cbStorePut);\n                    break;\n            }\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !publishProc()) {\n            this._storeProcessingQueue.push({\n                invoke: publishProc,\n                cbStorePut: opts.cbStorePut,\n                callback,\n            });\n        }\n        return this;\n    }\n    publishAsync(topic, message, opts) {\n        return new Promise((resolve, reject) => {\n            this.publish(topic, message, opts, (err, packet) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(packet);\n                }\n            });\n        });\n    }\n    subscribe(topicObject, opts, callback) {\n        const version = this.options.protocolVersion;\n        if (typeof opts === 'function') {\n            callback = opts;\n        }\n        callback = callback || this.noop;\n        let resubscribe = false;\n        let topicsList = [];\n        if (typeof topicObject === 'string') {\n            topicObject = [topicObject];\n            topicsList = topicObject;\n        }\n        else if (Array.isArray(topicObject)) {\n            topicsList = topicObject;\n        }\n        else if (typeof topicObject === 'object') {\n            resubscribe = topicObject.resubscribe;\n            delete topicObject.resubscribe;\n            topicsList = Object.keys(topicObject);\n        }\n        const invalidTopic = validations.validateTopics(topicsList);\n        if (invalidTopic !== null) {\n            setImmediate(callback, new Error(`Invalid topic ${invalidTopic}`));\n            return this;\n        }\n        if (this._checkDisconnecting(callback)) {\n            this.log('subscribe: discconecting true');\n            return this;\n        }\n        const defaultOpts = {\n            qos: 0,\n        };\n        if (version === 5) {\n            defaultOpts.nl = false;\n            defaultOpts.rap = false;\n            defaultOpts.rh = 0;\n        }\n        opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        const properties = opts.properties;\n        const subs = [];\n        const parseSub = (topic, subOptions) => {\n            subOptions = (subOptions || opts);\n            if (!Object.prototype.hasOwnProperty.call(this._resubscribeTopics, topic) ||\n                this._resubscribeTopics[topic].qos < subOptions.qos ||\n                resubscribe) {\n                const currentOpts = {\n                    topic,\n                    qos: subOptions.qos,\n                };\n                if (version === 5) {\n                    currentOpts.nl = subOptions.nl;\n                    currentOpts.rap = subOptions.rap;\n                    currentOpts.rh = subOptions.rh;\n                    currentOpts.properties = properties;\n                }\n                this.log('subscribe: pushing topic `%s` and qos `%s` to subs list', currentOpts.topic, currentOpts.qos);\n                subs.push(currentOpts);\n            }\n        };\n        if (Array.isArray(topicObject)) {\n            topicObject.forEach((topic) => {\n                this.log('subscribe: array topic %s', topic);\n                parseSub(topic);\n            });\n        }\n        else {\n            Object.keys(topicObject).forEach((topic) => {\n                this.log('subscribe: object topic %s, %o', topic, topicObject[topic]);\n                parseSub(topic, topicObject[topic]);\n            });\n        }\n        if (!subs.length) {\n            callback(null, []);\n            return this;\n        }\n        const subscribeProc = () => {\n            const messageId = this._nextId();\n            if (messageId === null) {\n                this.log('No messageId left');\n                return false;\n            }\n            const packet = {\n                cmd: 'subscribe',\n                subscriptions: subs,\n                messageId,\n            };\n            if (properties) {\n                packet.properties = properties;\n            }\n            if (this.options.resubscribe) {\n                this.log('subscribe :: resubscribe true');\n                const topics = [];\n                subs.forEach((sub) => {\n                    if (this.options.reconnectPeriod > 0) {\n                        const topic = { qos: sub.qos };\n                        if (version === 5) {\n                            topic.nl = sub.nl || false;\n                            topic.rap = sub.rap || false;\n                            topic.rh = sub.rh || 0;\n                            topic.properties = sub.properties;\n                        }\n                        this._resubscribeTopics[sub.topic] = topic;\n                        topics.push(sub.topic);\n                    }\n                });\n                this.messageIdToTopic[packet.messageId] = topics;\n            }\n            this.outgoing[packet.messageId] = {\n                volatile: true,\n                cb(err, packet2) {\n                    if (!err) {\n                        const { granted } = packet2;\n                        for (let i = 0; i < granted.length; i += 1) {\n                            subs[i].qos = granted[i];\n                        }\n                    }\n                    callback(err, subs, packet2);\n                },\n            };\n            this.log('subscribe :: call _sendPacket');\n            this._sendPacket(packet);\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !subscribeProc()) {\n            this._storeProcessingQueue.push({\n                invoke: subscribeProc,\n                callback,\n            });\n        }\n        return this;\n    }\n    subscribeAsync(topicObject, opts) {\n        return new Promise((resolve, reject) => {\n            this.subscribe(topicObject, opts, (err, granted) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(granted);\n                }\n            });\n        });\n    }\n    unsubscribe(topic, opts, callback) {\n        if (typeof topic === 'string') {\n            topic = [topic];\n        }\n        if (typeof opts === 'function') {\n            callback = opts;\n        }\n        callback = callback || this.noop;\n        const invalidTopic = validations.validateTopics(topic);\n        if (invalidTopic !== null) {\n            setImmediate(callback, new Error(`Invalid topic ${invalidTopic}`));\n            return this;\n        }\n        if (this._checkDisconnecting(callback)) {\n            return this;\n        }\n        const unsubscribeProc = () => {\n            const messageId = this._nextId();\n            if (messageId === null) {\n                this.log('No messageId left');\n                return false;\n            }\n            const packet = {\n                cmd: 'unsubscribe',\n                messageId,\n                unsubscriptions: [],\n            };\n            if (typeof topic === 'string') {\n                packet.unsubscriptions = [topic];\n            }\n            else if (Array.isArray(topic)) {\n                packet.unsubscriptions = topic;\n            }\n            if (this.options.resubscribe) {\n                packet.unsubscriptions.forEach((topic2) => {\n                    delete this._resubscribeTopics[topic2];\n                });\n            }\n            if (typeof opts === 'object' && opts.properties) {\n                packet.properties = opts.properties;\n            }\n            this.outgoing[packet.messageId] = {\n                volatile: true,\n                cb: callback,\n            };\n            this.log('unsubscribe: call _sendPacket');\n            this._sendPacket(packet);\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !unsubscribeProc()) {\n            this._storeProcessingQueue.push({\n                invoke: unsubscribeProc,\n                callback,\n            });\n        }\n        return this;\n    }\n    unsubscribeAsync(topic, opts) {\n        return new Promise((resolve, reject) => {\n            this.unsubscribe(topic, opts, (err, packet) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(packet);\n                }\n            });\n        });\n    }\n    end(force, opts, cb) {\n        this.log('end :: (%s)', this.options.clientId);\n        if (force == null || typeof force !== 'boolean') {\n            cb = cb || opts;\n            opts = force;\n            force = false;\n        }\n        if (typeof opts !== 'object') {\n            cb = cb || opts;\n            opts = null;\n        }\n        this.log('end :: cb? %s', !!cb);\n        if (!cb || typeof cb !== 'function') {\n            cb = this.noop;\n        }\n        const closeStores = () => {\n            this.log('end :: closeStores: closing incoming and outgoing stores');\n            this.disconnected = true;\n            this.incomingStore.close((e1) => {\n                this.outgoingStore.close((e2) => {\n                    this.log('end :: closeStores: emitting end');\n                    this.emit('end');\n                    if (cb) {\n                        const err = e1 || e2;\n                        this.log('end :: closeStores: invoking callback with args');\n                        cb(err);\n                    }\n                });\n            });\n            if (this._deferredReconnect) {\n                this._deferredReconnect();\n            }\n            else if (this.options.reconnectPeriod === 0 ||\n                this.options.manualConnect) {\n                this.disconnecting = false;\n            }\n        };\n        const finish = () => {\n            this.log('end :: (%s) :: finish :: calling _cleanUp with force %s', this.options.clientId, force);\n            this._cleanUp(force, () => {\n                this.log('end :: finish :: calling process.nextTick on closeStores');\n                (0, shared_1.nextTick)(closeStores);\n            }, opts);\n        };\n        if (this.disconnecting) {\n            cb();\n            return this;\n        }\n        this._clearReconnect();\n        this.disconnecting = true;\n        if (!force && Object.keys(this.outgoing).length > 0) {\n            this.log('end :: (%s) :: calling finish in 10ms once outgoing is empty', this.options.clientId);\n            this.once('outgoingEmpty', setTimeout.bind(null, finish, 10));\n        }\n        else {\n            this.log('end :: (%s) :: immediately calling finish', this.options.clientId);\n            finish();\n        }\n        return this;\n    }\n    endAsync(force, opts) {\n        return new Promise((resolve, reject) => {\n            this.end(force, opts, (err) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve();\n                }\n            });\n        });\n    }\n    removeOutgoingMessage(messageId) {\n        if (this.outgoing[messageId]) {\n            const { cb } = this.outgoing[messageId];\n            this._removeOutgoingAndStoreMessage(messageId, () => {\n                cb(new Error('Message removed'));\n            });\n        }\n        return this;\n    }\n    reconnect(opts) {\n        this.log('client reconnect');\n        const f = () => {\n            if (opts) {\n                this.options.incomingStore = opts.incomingStore;\n                this.options.outgoingStore = opts.outgoingStore;\n            }\n            else {\n                this.options.incomingStore = null;\n                this.options.outgoingStore = null;\n            }\n            this.incomingStore = this.options.incomingStore || new store_1.default();\n            this.outgoingStore = this.options.outgoingStore || new store_1.default();\n            this.disconnecting = false;\n            this.disconnected = false;\n            this._deferredReconnect = null;\n            this._reconnect();\n        };\n        if (this.disconnecting && !this.disconnected) {\n            this._deferredReconnect = f;\n        }\n        else {\n            f();\n        }\n        return this;\n    }\n    _flushVolatile() {\n        if (this.outgoing) {\n            this.log('_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function');\n            Object.keys(this.outgoing).forEach((messageId) => {\n                if (this.outgoing[messageId].volatile &&\n                    typeof this.outgoing[messageId].cb === 'function') {\n                    this.outgoing[messageId].cb(new Error('Connection closed'));\n                    delete this.outgoing[messageId];\n                }\n            });\n        }\n    }\n    _flush() {\n        if (this.outgoing) {\n            this.log('_flush: queue exists? %b', !!this.outgoing);\n            Object.keys(this.outgoing).forEach((messageId) => {\n                if (typeof this.outgoing[messageId].cb === 'function') {\n                    this.outgoing[messageId].cb(new Error('Connection closed'));\n                    delete this.outgoing[messageId];\n                }\n            });\n        }\n    }\n    _removeTopicAliasAndRecoverTopicName(packet) {\n        let alias;\n        if (packet.properties) {\n            alias = packet.properties.topicAlias;\n        }\n        let topic = packet.topic.toString();\n        this.log('_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o', alias, topic);\n        if (topic.length === 0) {\n            if (typeof alias === 'undefined') {\n                return new Error('Unregistered Topic Alias');\n            }\n            topic = this.topicAliasSend.getTopicByAlias(alias);\n            if (typeof topic === 'undefined') {\n                return new Error('Unregistered Topic Alias');\n            }\n            packet.topic = topic;\n        }\n        if (alias) {\n            delete packet.properties.topicAlias;\n        }\n    }\n    _checkDisconnecting(callback) {\n        if (this.disconnecting) {\n            if (callback && callback !== this.noop) {\n                callback(new Error('client disconnecting'));\n            }\n            else {\n                this.emit('error', new Error('client disconnecting'));\n            }\n        }\n        return this.disconnecting;\n    }\n    _reconnect() {\n        this.log('_reconnect: emitting reconnect to client');\n        this.emit('reconnect');\n        if (this.connected) {\n            this.end(() => {\n                this.connect();\n            });\n            this.log('client already connected. disconnecting first.');\n        }\n        else {\n            this.log('_reconnect: calling connect');\n            this.connect();\n        }\n    }\n    _setupReconnect() {\n        if (!this.disconnecting &&\n            !this.reconnectTimer &&\n            this.options.reconnectPeriod > 0) {\n            if (!this.reconnecting) {\n                this.log('_setupReconnect :: emit `offline` state');\n                this.emit('offline');\n                this.log('_setupReconnect :: set `reconnecting` to `true`');\n                this.reconnecting = true;\n            }\n            this.log('_setupReconnect :: setting reconnectTimer for %d ms', this.options.reconnectPeriod);\n            this.reconnectTimer = setInterval(() => {\n                this.log('reconnectTimer :: reconnect triggered!');\n                this._reconnect();\n            }, this.options.reconnectPeriod);\n        }\n        else {\n            this.log('_setupReconnect :: doing nothing...');\n        }\n    }\n    _clearReconnect() {\n        this.log('_clearReconnect : clearing reconnect timer');\n        if (this.reconnectTimer) {\n            clearInterval(this.reconnectTimer);\n            this.reconnectTimer = null;\n        }\n    }\n    _cleanUp(forced, done, opts = {}) {\n        if (done) {\n            this.log('_cleanUp :: done callback provided for on stream close');\n            this.stream.on('close', done);\n        }\n        this.log('_cleanUp :: forced? %s', forced);\n        if (forced) {\n            if (this.options.reconnectPeriod === 0 && this.options.clean) {\n                this._flush();\n            }\n            this.log('_cleanUp :: (%s) :: destroying stream', this.options.clientId);\n            this.stream.destroy();\n        }\n        else {\n            const packet = Object.assign({ cmd: 'disconnect' }, opts);\n            this.log('_cleanUp :: (%s) :: call _sendPacket with disconnect packet', this.options.clientId);\n            this._sendPacket(packet, () => {\n                this.log('_cleanUp :: (%s) :: destroying stream', this.options.clientId);\n                setImmediate(() => {\n                    this.stream.end(() => {\n                        this.log('_cleanUp :: (%s) :: stream destroyed', this.options.clientId);\n                    });\n                });\n            });\n        }\n        if (!this.disconnecting && !this.reconnecting) {\n            this.log('_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect.');\n            this._clearReconnect();\n            this._setupReconnect();\n        }\n        this._destroyKeepaliveManager();\n        if (done && !this.connected) {\n            this.log('_cleanUp :: (%s) :: removing stream `done` callback `close` listener', this.options.clientId);\n            this.stream.removeListener('close', done);\n            done();\n        }\n    }\n    _storeAndSend(packet, cb, cbStorePut) {\n        this.log('storeAndSend :: store packet with cmd %s to outgoingStore', packet.cmd);\n        let storePacket = packet;\n        let err;\n        if (storePacket.cmd === 'publish') {\n            storePacket = (0, default_1.default)(packet);\n            err = this._removeTopicAliasAndRecoverTopicName(storePacket);\n            if (err) {\n                return cb && cb(err);\n            }\n        }\n        this.outgoingStore.put(storePacket, (err2) => {\n            if (err2) {\n                return cb && cb(err2);\n            }\n            cbStorePut();\n            this._writePacket(packet, cb);\n        });\n    }\n    _applyTopicAlias(packet) {\n        if (this.options.protocolVersion === 5) {\n            if (packet.cmd === 'publish') {\n                let alias;\n                if (packet.properties) {\n                    alias = packet.properties.topicAlias;\n                }\n                const topic = packet.topic.toString();\n                if (this.topicAliasSend) {\n                    if (alias) {\n                        if (topic.length !== 0) {\n                            this.log('applyTopicAlias :: register topic: %s - alias: %d', topic, alias);\n                            if (!this.topicAliasSend.put(topic, alias)) {\n                                this.log('applyTopicAlias :: error out of range. topic: %s - alias: %d', topic, alias);\n                                return new Error('Sending Topic Alias out of range');\n                            }\n                        }\n                    }\n                    else if (topic.length !== 0) {\n                        if (this.options.autoAssignTopicAlias) {\n                            alias = this.topicAliasSend.getAliasByTopic(topic);\n                            if (alias) {\n                                packet.topic = '';\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto assign(use) topic: %s - alias: %d', topic, alias);\n                            }\n                            else {\n                                alias = this.topicAliasSend.getLruAlias();\n                                this.topicAliasSend.put(topic, alias);\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto assign topic: %s - alias: %d', topic, alias);\n                            }\n                        }\n                        else if (this.options.autoUseTopicAlias) {\n                            alias = this.topicAliasSend.getAliasByTopic(topic);\n                            if (alias) {\n                                packet.topic = '';\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto use topic: %s - alias: %d', topic, alias);\n                            }\n                        }\n                    }\n                }\n                else if (alias) {\n                    this.log('applyTopicAlias :: error out of range. topic: %s - alias: %d', topic, alias);\n                    return new Error('Sending Topic Alias out of range');\n                }\n            }\n        }\n    }\n    _noop(err) {\n        this.log('noop ::', err);\n    }\n    _writePacket(packet, cb) {\n        this.log('_writePacket :: packet: %O', packet);\n        this.log('_writePacket :: emitting `packetsend`');\n        this.emit('packetsend', packet);\n        this.log('_writePacket :: writing to stream');\n        const result = mqtt_packet_1.default.writeToStream(packet, this.stream, this.options);\n        this.log('_writePacket :: writeToStream result %s', result);\n        if (!result && cb && cb !== this.noop) {\n            this.log('_writePacket :: handle events on `drain` once through callback.');\n            this.stream.once('drain', cb);\n        }\n        else if (cb) {\n            this.log('_writePacket :: invoking cb');\n            cb();\n        }\n    }\n    _sendPacket(packet, cb, cbStorePut, noStore) {\n        this.log('_sendPacket :: (%s) ::  start', this.options.clientId);\n        cbStorePut = cbStorePut || this.noop;\n        cb = cb || this.noop;\n        const err = this._applyTopicAlias(packet);\n        if (err) {\n            cb(err);\n            return;\n        }\n        if (!this.connected) {\n            if (packet.cmd === 'auth') {\n                this._writePacket(packet, cb);\n                return;\n            }\n            this.log('_sendPacket :: client not connected. Storing packet offline.');\n            this._storePacket(packet, cb, cbStorePut);\n            return;\n        }\n        if (noStore) {\n            this._writePacket(packet, cb);\n            return;\n        }\n        switch (packet.cmd) {\n            case 'publish':\n                break;\n            case 'pubrel':\n                this._storeAndSend(packet, cb, cbStorePut);\n                return;\n            default:\n                this._writePacket(packet, cb);\n                return;\n        }\n        switch (packet.qos) {\n            case 2:\n            case 1:\n                this._storeAndSend(packet, cb, cbStorePut);\n                break;\n            case 0:\n            default:\n                this._writePacket(packet, cb);\n                break;\n        }\n        this.log('_sendPacket :: (%s) ::  end', this.options.clientId);\n    }\n    _storePacket(packet, cb, cbStorePut) {\n        this.log('_storePacket :: packet: %o', packet);\n        this.log('_storePacket :: cb? %s', !!cb);\n        cbStorePut = cbStorePut || this.noop;\n        let storePacket = packet;\n        if (storePacket.cmd === 'publish') {\n            storePacket = (0, default_1.default)(packet);\n            const err = this._removeTopicAliasAndRecoverTopicName(storePacket);\n            if (err) {\n                return cb && cb(err);\n            }\n        }\n        const qos = storePacket.qos || 0;\n        if ((qos === 0 && this.queueQoSZero) || storePacket.cmd !== 'publish') {\n            this.queue.push({ packet: storePacket, cb });\n        }\n        else if (qos > 0) {\n            cb = this.outgoing[storePacket.messageId]\n                ? this.outgoing[storePacket.messageId].cb\n                : null;\n            this.outgoingStore.put(storePacket, (err) => {\n                if (err) {\n                    return cb && cb(err);\n                }\n                cbStorePut();\n            });\n        }\n        else if (cb) {\n            cb(new Error('No connection to broker'));\n        }\n    }\n    _setupKeepaliveManager() {\n        this.log('_setupKeepaliveManager :: keepalive %d (seconds)', this.options.keepalive);\n        if (!this.keepaliveManager && this.options.keepalive) {\n            this.keepaliveManager = new KeepaliveManager_1.default(this, this.options.timerVariant);\n        }\n    }\n    _destroyKeepaliveManager() {\n        if (this.keepaliveManager) {\n            this.log('_destroyKeepaliveManager :: destroying keepalive manager');\n            this.keepaliveManager.destroy();\n            this.keepaliveManager = null;\n        }\n    }\n    reschedulePing(force = false) {\n        if (this.keepaliveManager &&\n            this.options.keepalive &&\n            (force || this.options.reschedulePings)) {\n            this._reschedulePing();\n        }\n    }\n    _reschedulePing() {\n        this.log('_reschedulePing :: rescheduling ping');\n        this.keepaliveManager.reschedule();\n    }\n    sendPing() {\n        this.log('_sendPing :: sending pingreq');\n        this._sendPacket({ cmd: 'pingreq' });\n    }\n    onKeepaliveTimeout() {\n        this.emit('error', new Error('Keepalive timeout'));\n        this.log('onKeepaliveTimeout :: calling _cleanUp with force true');\n        this._cleanUp(true);\n    }\n    _resubscribe() {\n        this.log('_resubscribe');\n        const _resubscribeTopicsKeys = Object.keys(this._resubscribeTopics);\n        if (!this._firstConnection &&\n            (this.options.clean ||\n                (this.options.protocolVersion >= 4 &&\n                    !this.connackPacket.sessionPresent)) &&\n            _resubscribeTopicsKeys.length > 0) {\n            if (this.options.resubscribe) {\n                if (this.options.protocolVersion === 5) {\n                    this.log('_resubscribe: protocolVersion 5');\n                    for (let topicI = 0; topicI < _resubscribeTopicsKeys.length; topicI++) {\n                        const resubscribeTopic = {};\n                        resubscribeTopic[_resubscribeTopicsKeys[topicI]] =\n                            this._resubscribeTopics[_resubscribeTopicsKeys[topicI]];\n                        resubscribeTopic.resubscribe = true;\n                        this.subscribe(resubscribeTopic, {\n                            properties: resubscribeTopic[_resubscribeTopicsKeys[topicI]]\n                                .properties,\n                        });\n                    }\n                }\n                else {\n                    this._resubscribeTopics.resubscribe = true;\n                    this.subscribe(this._resubscribeTopics);\n                }\n            }\n            else {\n                this._resubscribeTopics = {};\n            }\n        }\n        this._firstConnection = false;\n    }\n    _onConnect(packet) {\n        if (this.disconnected) {\n            this.emit('connect', packet);\n            return;\n        }\n        this.connackPacket = packet;\n        this.messageIdProvider.clear();\n        this._setupKeepaliveManager();\n        this.connected = true;\n        const startStreamProcess = () => {\n            let outStore = this.outgoingStore.createStream();\n            const remove = () => {\n                outStore.destroy();\n                outStore = null;\n                this._flushStoreProcessingQueue();\n                clearStoreProcessing();\n            };\n            const clearStoreProcessing = () => {\n                this._storeProcessing = false;\n                this._packetIdsDuringStoreProcessing = {};\n            };\n            this.once('close', remove);\n            outStore.on('error', (err) => {\n                clearStoreProcessing();\n                this._flushStoreProcessingQueue();\n                this.removeListener('close', remove);\n                this.emit('error', err);\n            });\n            const storeDeliver = () => {\n                if (!outStore) {\n                    return;\n                }\n                const packet2 = outStore.read(1);\n                let cb;\n                if (!packet2) {\n                    outStore.once('readable', storeDeliver);\n                    return;\n                }\n                this._storeProcessing = true;\n                if (this._packetIdsDuringStoreProcessing[packet2.messageId]) {\n                    storeDeliver();\n                    return;\n                }\n                if (!this.disconnecting && !this.reconnectTimer) {\n                    cb = this.outgoing[packet2.messageId]\n                        ? this.outgoing[packet2.messageId].cb\n                        : null;\n                    this.outgoing[packet2.messageId] = {\n                        volatile: false,\n                        cb(err, status) {\n                            if (cb) {\n                                cb(err, status);\n                            }\n                            storeDeliver();\n                        },\n                    };\n                    this._packetIdsDuringStoreProcessing[packet2.messageId] =\n                        true;\n                    if (this.messageIdProvider.register(packet2.messageId)) {\n                        this._sendPacket(packet2, undefined, undefined, true);\n                    }\n                    else {\n                        this.log('messageId: %d has already used.', packet2.messageId);\n                    }\n                }\n                else if (outStore.destroy) {\n                    outStore.destroy();\n                }\n            };\n            outStore.on('end', () => {\n                let allProcessed = true;\n                for (const id in this._packetIdsDuringStoreProcessing) {\n                    if (!this._packetIdsDuringStoreProcessing[id]) {\n                        allProcessed = false;\n                        break;\n                    }\n                }\n                this.removeListener('close', remove);\n                if (allProcessed) {\n                    clearStoreProcessing();\n                    this._invokeAllStoreProcessingQueue();\n                    this.emit('connect', packet);\n                }\n                else {\n                    startStreamProcess();\n                }\n            });\n            storeDeliver();\n        };\n        startStreamProcess();\n    }\n    _invokeStoreProcessingQueue() {\n        if (!this._storeProcessing && this._storeProcessingQueue.length > 0) {\n            const f = this._storeProcessingQueue[0];\n            if (f && f.invoke()) {\n                this._storeProcessingQueue.shift();\n                return true;\n            }\n        }\n        return false;\n    }\n    _invokeAllStoreProcessingQueue() {\n        while (this._invokeStoreProcessingQueue()) {\n        }\n    }\n    _flushStoreProcessingQueue() {\n        for (const f of this._storeProcessingQueue) {\n            if (f.cbStorePut)\n                f.cbStorePut(new Error('Connection closed'));\n            if (f.callback)\n                f.callback(new Error('Connection closed'));\n        }\n        this._storeProcessingQueue.splice(0);\n    }\n    _removeOutgoingAndStoreMessage(messageId, cb) {\n        delete this.outgoing[messageId];\n        this.outgoingStore.del({ messageId }, (err, packet) => {\n            cb(err, packet);\n            this.messageIdProvider.deallocate(messageId);\n            this._invokeStoreProcessingQueue();\n        });\n    }\n}\nMqttClient.VERSION = shared_1.MQTTJS_VERSION;\nexports.default = MqttClient;\n//# sourceMappingURL=client.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst readable_stream_1 = require(\"readable-stream\");\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nlet my;\nlet proxy;\nlet stream;\nlet isInitialized = false;\nfunction buildProxy() {\n    const _proxy = new readable_stream_1.Transform();\n    _proxy._write = (chunk, encoding, next) => {\n        my.sendSocketMessage({\n            data: chunk.buffer,\n            success() {\n                next();\n            },\n            fail() {\n                next(new Error());\n            },\n        });\n    };\n    _proxy._flush = (done) => {\n        my.closeSocket({\n            success() {\n                done();\n            },\n        });\n    };\n    return _proxy;\n}\nfunction setDefaultOpts(opts) {\n    if (!opts.hostname) {\n        opts.hostname = 'localhost';\n    }\n    if (!opts.path) {\n        opts.path = '/';\n    }\n    if (!opts.wsOptions) {\n        opts.wsOptions = {};\n    }\n}\nfunction buildUrl(opts, client) {\n    const protocol = opts.protocol === 'alis' ? 'wss' : 'ws';\n    let url = `${protocol}://${opts.hostname}${opts.path}`;\n    if (opts.port && opts.port !== 80 && opts.port !== 443) {\n        url = `${protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    }\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction bindEventHandler() {\n    if (isInitialized)\n        return;\n    isInitialized = true;\n    my.onSocketOpen(() => {\n        stream.socketReady();\n    });\n    my.onSocketMessage((res) => {\n        if (typeof res.data === 'string') {\n            const buffer = buffer_1.Buffer.from(res.data, 'base64');\n            proxy.push(buffer);\n        }\n        else {\n            const reader = new FileReader();\n            reader.addEventListener('load', () => {\n                let data = reader.result;\n                if (data instanceof ArrayBuffer)\n                    data = buffer_1.Buffer.from(data);\n                else\n                    data = buffer_1.Buffer.from(data, 'utf8');\n                proxy.push(data);\n            });\n            reader.readAsArrayBuffer(res.data);\n        }\n    });\n    my.onSocketClose(() => {\n        stream.end();\n        stream.destroy();\n    });\n    my.onSocketError((err) => {\n        stream.destroy(err);\n    });\n}\nconst buildStream = (client, opts) => {\n    opts.hostname = opts.hostname || opts.host;\n    if (!opts.hostname) {\n        throw new Error('Could not determine host. Specify host manually.');\n    }\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    setDefaultOpts(opts);\n    const url = buildUrl(opts, client);\n    my = opts.my;\n    my.connectSocket({\n        url,\n        protocols: websocketSubProtocol,\n    });\n    proxy = buildProxy();\n    stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, my);\n    bindEventHandler();\n    return stream;\n};\nexports.default = buildStream;\n//# sourceMappingURL=ali.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connectAsync = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst client_1 = __importDefault(require(\"../client\"));\nconst is_browser_1 = __importDefault(require(\"../is-browser\"));\nif (typeof (process === null || process === void 0 ? void 0 : process.nextTick) !== 'function') {\n    process.nextTick = setImmediate;\n}\nconst debug = (0, debug_1.default)('mqttjs');\nlet protocols = null;\nfunction parseAuthOptions(opts) {\n    let matches;\n    if (opts.auth) {\n        matches = opts.auth.match(/^(.+):(.+)$/);\n        if (matches) {\n            opts.username = matches[1];\n            opts.password = matches[2];\n        }\n        else {\n            opts.username = opts.auth;\n        }\n    }\n}\nfunction connect(brokerUrl, opts) {\n    var _a, _b, _c, _d;\n    debug('connecting to an MQTT broker...');\n    if (typeof brokerUrl === 'object' && !opts) {\n        opts = brokerUrl;\n        brokerUrl = '';\n    }\n    opts = opts || {};\n    if (brokerUrl && typeof brokerUrl === 'string') {\n        const parsedUrl = url_1.default.parse(brokerUrl, true);\n        const parsedOptions = {};\n        if (parsedUrl.port != null) {\n            parsedOptions.port = Number(parsedUrl.port);\n        }\n        parsedOptions.host = parsedUrl.hostname;\n        parsedOptions.query = parsedUrl.query;\n        parsedOptions.auth = parsedUrl.auth;\n        parsedOptions.protocol = parsedUrl.protocol;\n        parsedOptions.path = parsedUrl.path;\n        parsedOptions.protocol = (_a = parsedOptions.protocol) === null || _a === void 0 ? void 0 : _a.replace(/:$/, '');\n        opts = Object.assign(Object.assign({}, parsedOptions), opts);\n        if (!opts.protocol) {\n            throw new Error('Missing protocol');\n        }\n    }\n    opts.unixSocket = opts.unixSocket || ((_b = opts.protocol) === null || _b === void 0 ? void 0 : _b.includes('+unix'));\n    if (opts.unixSocket) {\n        opts.protocol = opts.protocol.replace('+unix', '');\n    }\n    else if (!((_c = opts.protocol) === null || _c === void 0 ? void 0 : _c.startsWith('ws')) &&\n        !((_d = opts.protocol) === null || _d === void 0 ? void 0 : _d.startsWith('wx'))) {\n        delete opts.path;\n    }\n    parseAuthOptions(opts);\n    if (opts.query && typeof opts.query.clientId === 'string') {\n        opts.clientId = opts.query.clientId;\n    }\n    if (opts.cert && opts.key) {\n        if (opts.protocol) {\n            if (['mqtts', 'wss', 'wxs', 'alis'].indexOf(opts.protocol) === -1) {\n                switch (opts.protocol) {\n                    case 'mqtt':\n                        opts.protocol = 'mqtts';\n                        break;\n                    case 'ws':\n                        opts.protocol = 'wss';\n                        break;\n                    case 'wx':\n                        opts.protocol = 'wxs';\n                        break;\n                    case 'ali':\n                        opts.protocol = 'alis';\n                        break;\n                    default:\n                        throw new Error(`Unknown protocol for secure connection: \"${opts.protocol}\"!`);\n                }\n            }\n        }\n        else {\n            throw new Error('Missing secure protocol key');\n        }\n    }\n    if (!protocols) {\n        protocols = {};\n        if (!is_browser_1.default && !opts.forceNativeWebSocket) {\n            protocols.ws = require('./ws').streamBuilder;\n            protocols.wss = require('./ws').streamBuilder;\n            protocols.mqtt = require('./tcp').default;\n            protocols.tcp = require('./tcp').default;\n            protocols.ssl = require('./tls').default;\n            protocols.tls = protocols.ssl;\n            protocols.mqtts = require('./tls').default;\n        }\n        else {\n            protocols.ws = require('./ws').browserStreamBuilder;\n            protocols.wss = require('./ws').browserStreamBuilder;\n            protocols.wx = require('./wx').default;\n            protocols.wxs = require('./wx').default;\n            protocols.ali = require('./ali').default;\n            protocols.alis = require('./ali').default;\n        }\n    }\n    if (!protocols[opts.protocol]) {\n        const isSecure = ['mqtts', 'wss'].indexOf(opts.protocol) !== -1;\n        opts.protocol = [\n            'mqtt',\n            'mqtts',\n            'ws',\n            'wss',\n            'wx',\n            'wxs',\n            'ali',\n            'alis',\n        ].filter((key, index) => {\n            if (isSecure && index % 2 === 0) {\n                return false;\n            }\n            return typeof protocols[key] === 'function';\n        })[0];\n    }\n    if (opts.clean === false && !opts.clientId) {\n        throw new Error('Missing clientId for unclean clients');\n    }\n    if (opts.protocol) {\n        opts.defaultProtocol = opts.protocol;\n    }\n    function wrapper(client) {\n        if (opts.servers) {\n            if (!client._reconnectCount ||\n                client._reconnectCount === opts.servers.length) {\n                client._reconnectCount = 0;\n            }\n            opts.host = opts.servers[client._reconnectCount].host;\n            opts.port = opts.servers[client._reconnectCount].port;\n            opts.protocol = !opts.servers[client._reconnectCount].protocol\n                ? opts.defaultProtocol\n                : opts.servers[client._reconnectCount].protocol;\n            opts.hostname = opts.host;\n            client._reconnectCount++;\n        }\n        debug('calling streambuilder for', opts.protocol);\n        return protocols[opts.protocol](client, opts);\n    }\n    const client = new client_1.default(wrapper, opts);\n    client.on('error', () => {\n    });\n    return client;\n}\nfunction connectAsync(brokerUrl, opts, allowRetries = true) {\n    return new Promise((resolve, reject) => {\n        const client = connect(brokerUrl, opts);\n        const promiseResolutionListeners = {\n            connect: (connack) => {\n                removePromiseResolutionListeners();\n                resolve(client);\n            },\n            end: () => {\n                removePromiseResolutionListeners();\n                resolve(client);\n            },\n            error: (err) => {\n                removePromiseResolutionListeners();\n                client.end();\n                reject(err);\n            },\n        };\n        if (allowRetries === false) {\n            promiseResolutionListeners.close = () => {\n                promiseResolutionListeners.error(new Error(\"Couldn't connect to server\"));\n            };\n        }\n        function removePromiseResolutionListeners() {\n            Object.keys(promiseResolutionListeners).forEach((eventName) => {\n                client.off(eventName, promiseResolutionListeners[eventName]);\n            });\n        }\n        Object.keys(promiseResolutionListeners).forEach((eventName) => {\n            client.on(eventName, promiseResolutionListeners[eventName]);\n        });\n    });\n}\nexports.connectAsync = connectAsync;\nexports.default = connect;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('mqttjs:tcp');\nconst buildStream = (client, opts) => {\n    opts.port = opts.port || 1883;\n    opts.hostname = opts.hostname || opts.host || 'localhost';\n    const { port, path } = opts;\n    const host = opts.hostname;\n    debug('port %d and host %s', port, host);\n    return net_1.default.createConnection({ port, host, path });\n};\nexports.default = buildStream;\n//# sourceMappingURL=tcp.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tls_1 = __importDefault(require(\"tls\"));\nconst net_1 = __importDefault(require(\"net\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('mqttjs:tls');\nconst buildStream = (client, opts) => {\n    opts.port = opts.port || 8883;\n    opts.host = opts.hostname || opts.host || 'localhost';\n    if (net_1.default.isIP(opts.host) === 0) {\n        opts.servername = opts.host;\n    }\n    opts.rejectUnauthorized = opts.rejectUnauthorized !== false;\n    delete opts.path;\n    debug('port %d host %s rejectUnauthorized %b', opts.port, opts.host, opts.rejectUnauthorized);\n    const connection = tls_1.default.connect(opts);\n    connection.on('secureConnect', () => {\n        if (opts.rejectUnauthorized && !connection.authorized) {\n            connection.emit('error', new Error('TLS not authorized'));\n        }\n        else {\n            connection.removeListener('error', handleTLSerrors);\n        }\n    });\n    function handleTLSerrors(err) {\n        if (opts.rejectUnauthorized) {\n            client.emit('error', err);\n        }\n        connection.end();\n    }\n    connection.on('error', handleTLSerrors);\n    return connection;\n};\nexports.default = buildStream;\n//# sourceMappingURL=tls.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.streamBuilder = exports.browserStreamBuilder = void 0;\nconst buffer_1 = require(\"buffer\");\nconst ws_1 = __importDefault(require(\"ws\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst readable_stream_1 = require(\"readable-stream\");\nconst is_browser_1 = __importDefault(require(\"../is-browser\"));\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nconst debug = (0, debug_1.default)('mqttjs:ws');\nconst WSS_OPTIONS = [\n    'rejectUnauthorized',\n    'ca',\n    'cert',\n    'key',\n    'pfx',\n    'passphrase',\n];\nfunction buildUrl(opts, client) {\n    let url = `${opts.protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction setDefaultOpts(opts) {\n    const options = opts;\n    if (!opts.port) {\n        if (opts.protocol === 'wss') {\n            options.port = 443;\n        }\n        else {\n            options.port = 80;\n        }\n    }\n    if (!opts.path) {\n        options.path = '/';\n    }\n    if (!opts.wsOptions) {\n        options.wsOptions = {};\n    }\n    if (!is_browser_1.default && !opts.forceNativeWebSocket && opts.protocol === 'wss') {\n        WSS_OPTIONS.forEach((prop) => {\n            if (Object.prototype.hasOwnProperty.call(opts, prop) &&\n                !Object.prototype.hasOwnProperty.call(opts.wsOptions, prop)) {\n                options.wsOptions[prop] = opts[prop];\n            }\n        });\n    }\n    return options;\n}\nfunction setDefaultBrowserOpts(opts) {\n    const options = setDefaultOpts(opts);\n    if (!options.hostname) {\n        options.hostname = options.host;\n    }\n    if (!options.hostname) {\n        if (typeof document === 'undefined') {\n            throw new Error('Could not determine host. Specify host manually.');\n        }\n        const parsed = new URL(document.URL);\n        options.hostname = parsed.hostname;\n        if (!options.port) {\n            options.port = Number(parsed.port);\n        }\n    }\n    if (options.objectMode === undefined) {\n        options.objectMode = !(options.binary === true || options.binary === undefined);\n    }\n    return options;\n}\nfunction createWebSocket(client, url, opts) {\n    debug('createWebSocket');\n    debug(`protocol: ${opts.protocolId} ${opts.protocolVersion}`);\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    debug(`creating new Websocket for url: ${url} and protocol: ${websocketSubProtocol}`);\n    let socket;\n    if (opts.createWebsocket) {\n        socket = opts.createWebsocket(url, [websocketSubProtocol], opts);\n    }\n    else {\n        socket = new ws_1.default(url, [websocketSubProtocol], opts.wsOptions);\n    }\n    return socket;\n}\nfunction createBrowserWebSocket(client, opts) {\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    const url = buildUrl(opts, client);\n    let socket;\n    if (opts.createWebsocket) {\n        socket = opts.createWebsocket(url, [websocketSubProtocol], opts);\n    }\n    else {\n        socket = new WebSocket(url, [websocketSubProtocol]);\n    }\n    socket.binaryType = 'arraybuffer';\n    return socket;\n}\nconst streamBuilder = (client, opts) => {\n    debug('streamBuilder');\n    const options = setDefaultOpts(opts);\n    options.hostname = options.hostname || options.host || 'localhost';\n    const url = buildUrl(options, client);\n    const socket = createWebSocket(client, url, options);\n    const webSocketStream = ws_1.default.createWebSocketStream(socket, options.wsOptions);\n    webSocketStream['url'] = url;\n    socket.on('close', () => {\n        webSocketStream.destroy();\n    });\n    return webSocketStream;\n};\nexports.streamBuilder = streamBuilder;\nconst browserStreamBuilder = (client, opts) => {\n    debug('browserStreamBuilder');\n    let stream;\n    const options = setDefaultBrowserOpts(opts);\n    const bufferSize = options.browserBufferSize || 1024 * 512;\n    const bufferTimeout = opts.browserBufferTimeout || 1000;\n    const coerceToBuffer = !opts.objectMode;\n    const socket = createBrowserWebSocket(client, opts);\n    const proxy = buildProxy(opts, socketWriteBrowser, socketEndBrowser);\n    if (!opts.objectMode) {\n        proxy._writev = BufferedDuplex_1.writev.bind(proxy);\n    }\n    proxy.on('close', () => {\n        socket.close();\n    });\n    const eventListenerSupport = typeof socket.addEventListener !== 'undefined';\n    if (socket.readyState === socket.OPEN) {\n        stream = proxy;\n        stream.socket = socket;\n    }\n    else {\n        stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, socket);\n        if (eventListenerSupport) {\n            socket.addEventListener('open', onOpen);\n        }\n        else {\n            socket.onopen = onOpen;\n        }\n    }\n    if (eventListenerSupport) {\n        socket.addEventListener('close', onClose);\n        socket.addEventListener('error', onError);\n        socket.addEventListener('message', onMessage);\n    }\n    else {\n        socket.onclose = onClose;\n        socket.onerror = onError;\n        socket.onmessage = onMessage;\n    }\n    function buildProxy(pOptions, socketWrite, socketEnd) {\n        const _proxy = new readable_stream_1.Transform({\n            objectMode: pOptions.objectMode,\n        });\n        _proxy._write = socketWrite;\n        _proxy._flush = socketEnd;\n        return _proxy;\n    }\n    function onOpen() {\n        debug('WebSocket onOpen');\n        if (stream instanceof BufferedDuplex_1.BufferedDuplex) {\n            stream.socketReady();\n        }\n    }\n    function onClose(event) {\n        debug('WebSocket onClose', event);\n        stream.end();\n        stream.destroy();\n    }\n    function onError(err) {\n        debug('WebSocket onError', err);\n        const error = new Error('WebSocket error');\n        error['event'] = err;\n        stream.destroy(error);\n    }\n    async function onMessage(event) {\n        let { data } = event;\n        if (data instanceof ArrayBuffer)\n            data = buffer_1.Buffer.from(data);\n        else if (data instanceof Blob)\n            data = buffer_1.Buffer.from(await new Response(data).arrayBuffer());\n        else\n            data = buffer_1.Buffer.from(data, 'utf8');\n        if (proxy && !proxy.destroyed) {\n            proxy.push(data);\n        }\n    }\n    function socketWriteBrowser(chunk, enc, next) {\n        if (socket.bufferedAmount > bufferSize) {\n            setTimeout(socketWriteBrowser, bufferTimeout, chunk, enc, next);\n            return;\n        }\n        if (coerceToBuffer && typeof chunk === 'string') {\n            chunk = buffer_1.Buffer.from(chunk, 'utf8');\n        }\n        try {\n            socket.send(chunk);\n        }\n        catch (err) {\n            return next(err);\n        }\n        next();\n    }\n    function socketEndBrowser(done) {\n        socket.close();\n        done();\n    }\n    return stream;\n};\nexports.browserStreamBuilder = browserStreamBuilder;\n//# sourceMappingURL=ws.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst readable_stream_1 = require(\"readable-stream\");\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nlet socketTask;\nlet proxy;\nlet stream;\nfunction buildProxy() {\n    const _proxy = new readable_stream_1.Transform();\n    _proxy._write = (chunk, encoding, next) => {\n        socketTask.send({\n            data: chunk.buffer,\n            success() {\n                next();\n            },\n            fail(errMsg) {\n                next(new Error(errMsg));\n            },\n        });\n    };\n    _proxy._flush = (done) => {\n        socketTask.close({\n            success() {\n                done();\n            },\n        });\n    };\n    return _proxy;\n}\nfunction setDefaultOpts(opts) {\n    if (!opts.hostname) {\n        opts.hostname = 'localhost';\n    }\n    if (!opts.path) {\n        opts.path = '/';\n    }\n    if (!opts.wsOptions) {\n        opts.wsOptions = {};\n    }\n}\nfunction buildUrl(opts, client) {\n    const protocol = opts.protocol === 'wxs' ? 'wss' : 'ws';\n    let url = `${protocol}://${opts.hostname}${opts.path}`;\n    if (opts.port && opts.port !== 80 && opts.port !== 443) {\n        url = `${protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    }\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction bindEventHandler() {\n    socketTask.onOpen(() => {\n        stream.socketReady();\n    });\n    socketTask.onMessage((res) => {\n        let { data } = res;\n        if (data instanceof ArrayBuffer)\n            data = buffer_1.Buffer.from(data);\n        else\n            data = buffer_1.Buffer.from(data, 'utf8');\n        proxy.push(data);\n    });\n    socketTask.onClose(() => {\n        stream.emit('close');\n        stream.end();\n        stream.destroy();\n    });\n    socketTask.onError((error) => {\n        const err = new Error(error.errMsg);\n        stream.destroy(err);\n    });\n}\nconst buildStream = (client, opts) => {\n    opts.hostname = opts.hostname || opts.host;\n    if (!opts.hostname) {\n        throw new Error('Could not determine host. Specify host manually.');\n    }\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    setDefaultOpts(opts);\n    const url = buildUrl(opts, client);\n    socketTask = wx.connectSocket({\n        url,\n        protocols: [websocketSubProtocol],\n    });\n    proxy = buildProxy();\n    stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, socketTask);\n    stream._destroy = (err, cb) => {\n        socketTask.close({\n            success() {\n                if (cb)\n                    cb(err);\n            },\n        });\n    };\n    const destroyRef = stream.destroy;\n    stream.destroy = (err, cb) => {\n        stream.destroy = destroyRef;\n        setTimeout(() => {\n            socketTask.close({\n                fail() {\n                    stream._destroy(err, cb);\n                },\n            });\n        }, 0);\n        return stream;\n    };\n    bindEventHandler();\n    return stream;\n};\nexports.default = buildStream;\n//# sourceMappingURL=wx.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass DefaultMessageIdProvider {\n    constructor() {\n        this.nextId = Math.max(1, Math.floor(Math.random() * 65535));\n    }\n    allocate() {\n        const id = this.nextId++;\n        if (this.nextId === 65536) {\n            this.nextId = 1;\n        }\n        return id;\n    }\n    getLastAllocated() {\n        return this.nextId === 1 ? 65535 : this.nextId - 1;\n    }\n    register(messageId) {\n        return true;\n    }\n    deallocate(messageId) { }\n    clear() { }\n}\nexports.default = DefaultMessageIdProvider;\n//# sourceMappingURL=default-message-id-provider.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_browser_1 = __importStar(require(\"./is-browser\"));\nconst worker_timers_1 = require(\"worker-timers\");\nconst workerTimer = {\n    set: worker_timers_1.setInterval,\n    clear: worker_timers_1.clearInterval,\n};\nconst nativeTimer = {\n    set: (func, time) => setInterval(func, time),\n    clear: (timerId) => clearInterval(timerId),\n};\nconst getTimer = (variant) => {\n    switch (variant) {\n        case 'native': {\n            return nativeTimer;\n        }\n        case 'worker': {\n            return workerTimer;\n        }\n        case 'auto':\n        default: {\n            return is_browser_1.default && !is_browser_1.isWebWorker && !is_browser_1.isReactNativeBrowser\n                ? workerTimer\n                : nativeTimer;\n        }\n    }\n};\nexports.default = getTimer;\n//# sourceMappingURL=get-timer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReasonCodes = void 0;\nconst shared_1 = require(\"../shared\");\nexports.ReasonCodes = {\n    0: '',\n    1: 'Unacceptable protocol version',\n    2: 'Identifier rejected',\n    3: 'Server unavailable',\n    4: 'Bad username or password',\n    5: 'Not authorized',\n    16: 'No matching subscribers',\n    17: 'No subscription existed',\n    128: 'Unspecified error',\n    129: 'Malformed Packet',\n    130: 'Protocol Error',\n    131: 'Implementation specific error',\n    132: 'Unsupported Protocol Version',\n    133: 'Client Identifier not valid',\n    134: 'Bad User Name or Password',\n    135: 'Not authorized',\n    136: 'Server unavailable',\n    137: 'Server busy',\n    138: 'Banned',\n    139: 'Server shutting down',\n    140: 'Bad authentication method',\n    141: 'Keep Alive timeout',\n    142: 'Session taken over',\n    143: 'Topic Filter invalid',\n    144: 'Topic Name invalid',\n    145: 'Packet identifier in use',\n    146: 'Packet Identifier not found',\n    147: 'Receive Maximum exceeded',\n    148: 'Topic Alias invalid',\n    149: 'Packet too large',\n    150: 'Message rate too high',\n    151: 'Quota exceeded',\n    152: 'Administrative action',\n    153: 'Payload format invalid',\n    154: 'Retain not supported',\n    155: 'QoS not supported',\n    156: 'Use another server',\n    157: 'Server moved',\n    158: 'Shared Subscriptions not supported',\n    159: 'Connection rate exceeded',\n    160: 'Maximum connect time',\n    161: 'Subscription Identifiers not supported',\n    162: 'Wildcard Subscriptions not supported',\n};\nconst handleAck = (client, packet) => {\n    const { messageId } = packet;\n    const type = packet.cmd;\n    let response = null;\n    const cb = client.outgoing[messageId] ? client.outgoing[messageId].cb : null;\n    let err = null;\n    if (!cb) {\n        client.log('_handleAck :: Server sent an ack in error. Ignoring.');\n        return;\n    }\n    client.log('_handleAck :: packet type', type);\n    switch (type) {\n        case 'pubcomp':\n        case 'puback': {\n            const pubackRC = packet.reasonCode;\n            if (pubackRC && pubackRC > 0 && pubackRC !== 16) {\n                err = new shared_1.ErrorWithReasonCode(`Publish error: ${exports.ReasonCodes[pubackRC]}`, pubackRC);\n                client['_removeOutgoingAndStoreMessage'](messageId, () => {\n                    cb(err, packet);\n                });\n            }\n            else {\n                client['_removeOutgoingAndStoreMessage'](messageId, cb);\n            }\n            break;\n        }\n        case 'pubrec': {\n            response = {\n                cmd: 'pubrel',\n                qos: 2,\n                messageId,\n            };\n            const pubrecRC = packet.reasonCode;\n            if (pubrecRC && pubrecRC > 0 && pubrecRC !== 16) {\n                err = new shared_1.ErrorWithReasonCode(`Publish error: ${exports.ReasonCodes[pubrecRC]}`, pubrecRC);\n                client['_removeOutgoingAndStoreMessage'](messageId, () => {\n                    cb(err, packet);\n                });\n            }\n            else {\n                client['_sendPacket'](response);\n            }\n            break;\n        }\n        case 'suback': {\n            delete client.outgoing[messageId];\n            client.messageIdProvider.deallocate(messageId);\n            const granted = packet.granted;\n            for (let grantedI = 0; grantedI < granted.length; grantedI++) {\n                const subackRC = granted[grantedI];\n                if ((subackRC & 0x80) !== 0) {\n                    err = new Error(`Subscribe error: ${exports.ReasonCodes[subackRC]}`);\n                    err.code = subackRC;\n                    const topics = client.messageIdToTopic[messageId];\n                    if (topics) {\n                        topics.forEach((topic) => {\n                            delete client['_resubscribeTopics'][topic];\n                        });\n                    }\n                }\n            }\n            delete client.messageIdToTopic[messageId];\n            client['_invokeStoreProcessingQueue']();\n            cb(err, packet);\n            break;\n        }\n        case 'unsuback': {\n            delete client.outgoing[messageId];\n            client.messageIdProvider.deallocate(messageId);\n            client['_invokeStoreProcessingQueue']();\n            cb(null, packet);\n            break;\n        }\n        default:\n            client.emit('error', new Error('unrecognized packet type'));\n    }\n    if (client.disconnecting && Object.keys(client.outgoing).length === 0) {\n        client.emit('outgoingEmpty');\n    }\n};\nexports.default = handleAck;\n//# sourceMappingURL=ack.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shared_1 = require(\"../shared\");\nconst ack_1 = require(\"./ack\");\nconst handleAuth = (client, packet) => {\n    const { options } = client;\n    const version = options.protocolVersion;\n    const rc = version === 5 ? packet.reasonCode : packet.returnCode;\n    if (version !== 5) {\n        const err = new shared_1.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${version}`, rc);\n        client.emit('error', err);\n        return;\n    }\n    client.handleAuth(packet, (err, packet2) => {\n        if (err) {\n            client.emit('error', err);\n            return;\n        }\n        if (rc === 24) {\n            client.reconnecting = false;\n            client['_sendPacket'](packet2);\n        }\n        else {\n            const error = new shared_1.ErrorWithReasonCode(`Connection refused: ${ack_1.ReasonCodes[rc]}`, rc);\n            client.emit('error', error);\n        }\n    });\n};\nexports.default = handleAuth;\n//# sourceMappingURL=auth.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ack_1 = require(\"./ack\");\nconst topic_alias_send_1 = __importDefault(require(\"../topic-alias-send\"));\nconst shared_1 = require(\"../shared\");\nconst handleConnack = (client, packet) => {\n    client.log('_handleConnack');\n    const { options } = client;\n    const version = options.protocolVersion;\n    const rc = version === 5 ? packet.reasonCode : packet.returnCode;\n    clearTimeout(client['connackTimer']);\n    delete client['topicAliasSend'];\n    if (packet.properties) {\n        if (packet.properties.topicAliasMaximum) {\n            if (packet.properties.topicAliasMaximum > 0xffff) {\n                client.emit('error', new Error('topicAliasMaximum from broker is out of range'));\n                return;\n            }\n            if (packet.properties.topicAliasMaximum > 0) {\n                client['topicAliasSend'] = new topic_alias_send_1.default(packet.properties.topicAliasMaximum);\n            }\n        }\n        if (packet.properties.serverKeepAlive && options.keepalive) {\n            options.keepalive = packet.properties.serverKeepAlive;\n        }\n        if (packet.properties.maximumPacketSize) {\n            if (!options.properties) {\n                options.properties = {};\n            }\n            options.properties.maximumPacketSize =\n                packet.properties.maximumPacketSize;\n        }\n    }\n    if (rc === 0) {\n        client.reconnecting = false;\n        client['_onConnect'](packet);\n    }\n    else if (rc > 0) {\n        const err = new shared_1.ErrorWithReasonCode(`Connection refused: ${ack_1.ReasonCodes[rc]}`, rc);\n        client.emit('error', err);\n    }\n};\nexports.default = handleConnack;\n//# sourceMappingURL=connack.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst publish_1 = __importDefault(require(\"./publish\"));\nconst auth_1 = __importDefault(require(\"./auth\"));\nconst connack_1 = __importDefault(require(\"./connack\"));\nconst ack_1 = __importDefault(require(\"./ack\"));\nconst pubrel_1 = __importDefault(require(\"./pubrel\"));\nconst handle = (client, packet, done) => {\n    const { options } = client;\n    if (options.protocolVersion === 5 &&\n        options.properties &&\n        options.properties.maximumPacketSize &&\n        options.properties.maximumPacketSize < packet.length) {\n        client.emit('error', new Error(`exceeding packets size ${packet.cmd}`));\n        client.end({\n            reasonCode: 149,\n            properties: { reasonString: 'Maximum packet size was exceeded' },\n        });\n        return client;\n    }\n    client.log('_handlePacket :: emitting packetreceive');\n    client.emit('packetreceive', packet);\n    switch (packet.cmd) {\n        case 'publish':\n            (0, publish_1.default)(client, packet, done);\n            break;\n        case 'puback':\n        case 'pubrec':\n        case 'pubcomp':\n        case 'suback':\n        case 'unsuback':\n            client.reschedulePing();\n            (0, ack_1.default)(client, packet);\n            done();\n            break;\n        case 'pubrel':\n            client.reschedulePing();\n            (0, pubrel_1.default)(client, packet, done);\n            break;\n        case 'connack':\n            (0, connack_1.default)(client, packet);\n            done();\n            break;\n        case 'auth':\n            client.reschedulePing();\n            (0, auth_1.default)(client, packet);\n            done();\n            break;\n        case 'pingresp':\n            client.log('_handlePacket :: received pingresp');\n            client.reschedulePing(true);\n            done();\n            break;\n        case 'disconnect':\n            client.emit('disconnect', packet);\n            done();\n            break;\n        default:\n            client.log('_handlePacket :: unknown command');\n            done();\n            break;\n    }\n};\nexports.default = handle;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validReasonCodes = [0, 16, 128, 131, 135, 144, 145, 151, 153];\nconst handlePublish = (client, packet, done) => {\n    client.log('handlePublish: packet %o', packet);\n    done = typeof done !== 'undefined' ? done : client.noop;\n    let topic = packet.topic.toString();\n    const message = packet.payload;\n    const { qos } = packet;\n    const { messageId } = packet;\n    const { options } = client;\n    if (client.options.protocolVersion === 5) {\n        let alias;\n        if (packet.properties) {\n            alias = packet.properties.topicAlias;\n        }\n        if (typeof alias !== 'undefined') {\n            if (topic.length === 0) {\n                if (alias > 0 && alias <= 0xffff) {\n                    const gotTopic = client['topicAliasRecv'].getTopicByAlias(alias);\n                    if (gotTopic) {\n                        topic = gotTopic;\n                        client.log('handlePublish :: topic complemented by alias. topic: %s - alias: %d', topic, alias);\n                    }\n                    else {\n                        client.log('handlePublish :: unregistered topic alias. alias: %d', alias);\n                        client.emit('error', new Error('Received unregistered Topic Alias'));\n                        return;\n                    }\n                }\n                else {\n                    client.log('handlePublish :: topic alias out of range. alias: %d', alias);\n                    client.emit('error', new Error('Received Topic Alias is out of range'));\n                    return;\n                }\n            }\n            else if (client['topicAliasRecv'].put(topic, alias)) {\n                client.log('handlePublish :: registered topic: %s - alias: %d', topic, alias);\n            }\n            else {\n                client.log('handlePublish :: topic alias out of range. alias: %d', alias);\n                client.emit('error', new Error('Received Topic Alias is out of range'));\n                return;\n            }\n        }\n    }\n    client.log('handlePublish: qos %d', qos);\n    switch (qos) {\n        case 2: {\n            options.customHandleAcks(topic, message, packet, (error, code) => {\n                if (typeof error === 'number') {\n                    code = error;\n                    error = null;\n                }\n                if (error) {\n                    return client.emit('error', error);\n                }\n                if (validReasonCodes.indexOf(code) === -1) {\n                    return client.emit('error', new Error('Wrong reason code for pubrec'));\n                }\n                if (code) {\n                    client['_sendPacket']({ cmd: 'pubrec', messageId, reasonCode: code }, done);\n                }\n                else {\n                    client.incomingStore.put(packet, () => {\n                        client['_sendPacket']({ cmd: 'pubrec', messageId }, done);\n                    });\n                }\n            });\n            break;\n        }\n        case 1: {\n            options.customHandleAcks(topic, message, packet, (error, code) => {\n                if (typeof error === 'number') {\n                    code = error;\n                    error = null;\n                }\n                if (error) {\n                    return client.emit('error', error);\n                }\n                if (validReasonCodes.indexOf(code) === -1) {\n                    return client.emit('error', new Error('Wrong reason code for puback'));\n                }\n                if (!code) {\n                    client.emit('message', topic, message, packet);\n                }\n                client.handleMessage(packet, (err) => {\n                    if (err) {\n                        return done && done(err);\n                    }\n                    client['_sendPacket']({ cmd: 'puback', messageId, reasonCode: code }, done);\n                });\n            });\n            break;\n        }\n        case 0:\n            client.emit('message', topic, message, packet);\n            client.handleMessage(packet, done);\n            break;\n        default:\n            client.log('handlePublish: unknown QoS. Doing nothing.');\n            break;\n    }\n};\nexports.default = handlePublish;\n//# sourceMappingURL=publish.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst handlePubrel = (client, packet, done) => {\n    client.log('handling pubrel packet');\n    const callback = typeof done !== 'undefined' ? done : client.noop;\n    const { messageId } = packet;\n    const comp = { cmd: 'pubcomp', messageId };\n    client.incomingStore.get(packet, (err, pub) => {\n        if (!err) {\n            client.emit('message', pub.topic, pub.payload, pub);\n            client.handleMessage(pub, (err2) => {\n                if (err2) {\n                    return callback(err2);\n                }\n                client.incomingStore.del(pub, client.noop);\n                client['_sendPacket'](comp, callback);\n            });\n        }\n        else {\n            client['_sendPacket'](comp, callback);\n        }\n    });\n};\nexports.default = handlePubrel;\n//# sourceMappingURL=pubrel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isReactNativeBrowser = exports.isWebWorker = void 0;\nconst isStandardBrowserEnv = () => {\n    var _a;\n    if (typeof window !== 'undefined') {\n        const electronRenderCheck = typeof navigator !== 'undefined' &&\n            ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.toLowerCase().indexOf(' electron/')) > -1;\n        if (electronRenderCheck && (process === null || process === void 0 ? void 0 : process.versions)) {\n            const electronMainCheck = Object.prototype.hasOwnProperty.call(process.versions, 'electron');\n            return !electronMainCheck;\n        }\n        return typeof window.document !== 'undefined';\n    }\n    return false;\n};\nconst isWebWorkerEnv = () => {\n    var _a, _b;\n    return Boolean(typeof self === 'object' &&\n        ((_b = (_a = self === null || self === void 0 ? void 0 : self.constructor) === null || _a === void 0 ? void 0 : _a.name) === null || _b === void 0 ? void 0 : _b.includes('WorkerGlobalScope')));\n};\nconst isReactNativeEnv = () => typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nconst isBrowser = isStandardBrowserEnv() || isWebWorkerEnv() || isReactNativeEnv();\nexports.isWebWorker = isWebWorkerEnv();\nexports.isReactNativeBrowser = isReactNativeEnv();\nexports.default = isBrowser;\n//# sourceMappingURL=is-browser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MQTTJS_VERSION = exports.nextTick = exports.applyMixin = exports.ErrorWithReasonCode = void 0;\nclass ErrorWithReasonCode extends Error {\n    constructor(message, code) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ErrorWithReasonCode.prototype);\n        Object.getPrototypeOf(this).name = 'ErrorWithReasonCode';\n    }\n}\nexports.ErrorWithReasonCode = ErrorWithReasonCode;\nfunction applyMixin(target, mixin, includeConstructor = false) {\n    var _a;\n    const inheritanceChain = [mixin];\n    while (true) {\n        const current = inheritanceChain[0];\n        const base = Object.getPrototypeOf(current);\n        if (base === null || base === void 0 ? void 0 : base.prototype) {\n            inheritanceChain.unshift(base);\n        }\n        else {\n            break;\n        }\n    }\n    for (const ctor of inheritanceChain) {\n        for (const prop of Object.getOwnPropertyNames(ctor.prototype)) {\n            if (includeConstructor || prop !== 'constructor') {\n                Object.defineProperty(target.prototype, prop, (_a = Object.getOwnPropertyDescriptor(ctor.prototype, prop)) !== null && _a !== void 0 ? _a : Object.create(null));\n            }\n        }\n    }\n}\nexports.applyMixin = applyMixin;\nexports.nextTick = typeof (process === null || process === void 0 ? void 0 : process.nextTick) === 'function'\n    ? process.nextTick\n    : (callback) => {\n        setTimeout(callback, 0);\n    };\nexports.MQTTJS_VERSION = require('../../package.json').version;\n//# sourceMappingURL=shared.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst readable_stream_1 = require(\"readable-stream\");\nconst streamsOpts = { objectMode: true };\nconst defaultStoreOptions = {\n    clean: true,\n};\nclass Store {\n    constructor(options) {\n        this.options = options || {};\n        this.options = Object.assign(Object.assign({}, defaultStoreOptions), options);\n        this._inflights = new Map();\n    }\n    put(packet, cb) {\n        this._inflights.set(packet.messageId, packet);\n        if (cb) {\n            cb();\n        }\n        return this;\n    }\n    createStream() {\n        const stream = new readable_stream_1.Readable(streamsOpts);\n        const values = [];\n        let destroyed = false;\n        let i = 0;\n        this._inflights.forEach((value, key) => {\n            values.push(value);\n        });\n        stream._read = () => {\n            if (!destroyed && i < values.length) {\n                stream.push(values[i++]);\n            }\n            else {\n                stream.push(null);\n            }\n        };\n        stream.destroy = (err) => {\n            if (destroyed) {\n                return;\n            }\n            destroyed = true;\n            setTimeout(() => {\n                stream.emit('close');\n            }, 0);\n            return stream;\n        };\n        return stream;\n    }\n    del(packet, cb) {\n        const toDelete = this._inflights.get(packet.messageId);\n        if (toDelete) {\n            this._inflights.delete(packet.messageId);\n            cb(null, toDelete);\n        }\n        else if (cb) {\n            cb(new Error('missing packet'));\n        }\n        return this;\n    }\n    get(packet, cb) {\n        const storedPacket = this._inflights.get(packet.messageId);\n        if (storedPacket) {\n            cb(null, storedPacket);\n        }\n        else if (cb) {\n            cb(new Error('missing packet'));\n        }\n        return this;\n    }\n    close(cb) {\n        if (this.options.clean) {\n            this._inflights = null;\n        }\n        if (cb) {\n            cb();\n        }\n    }\n}\nexports.default = Store;\n//# sourceMappingURL=store.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass TopicAliasRecv {\n    constructor(max) {\n        this.aliasToTopic = {};\n        this.max = max;\n    }\n    put(topic, alias) {\n        if (alias === 0 || alias > this.max) {\n            return false;\n        }\n        this.aliasToTopic[alias] = topic;\n        this.length = Object.keys(this.aliasToTopic).length;\n        return true;\n    }\n    getTopicByAlias(alias) {\n        return this.aliasToTopic[alias];\n    }\n    clear() {\n        this.aliasToTopic = {};\n    }\n}\nexports.default = TopicAliasRecv;\n//# sourceMappingURL=topic-alias-recv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lru_cache_1 = require(\"lru-cache\");\nconst number_allocator_1 = require(\"number-allocator\");\nclass TopicAliasSend {\n    constructor(max) {\n        if (max > 0) {\n            this.aliasToTopic = new lru_cache_1.LRUCache({ max });\n            this.topicToAlias = {};\n            this.numberAllocator = new number_allocator_1.NumberAllocator(1, max);\n            this.max = max;\n            this.length = 0;\n        }\n    }\n    put(topic, alias) {\n        if (alias === 0 || alias > this.max) {\n            return false;\n        }\n        const entry = this.aliasToTopic.get(alias);\n        if (entry) {\n            delete this.topicToAlias[entry];\n        }\n        this.aliasToTopic.set(alias, topic);\n        this.topicToAlias[topic] = alias;\n        this.numberAllocator.use(alias);\n        this.length = this.aliasToTopic.size;\n        return true;\n    }\n    getTopicByAlias(alias) {\n        return this.aliasToTopic.get(alias);\n    }\n    getAliasByTopic(topic) {\n        const alias = this.topicToAlias[topic];\n        if (typeof alias !== 'undefined') {\n            this.aliasToTopic.get(alias);\n        }\n        return alias;\n    }\n    clear() {\n        this.aliasToTopic.clear();\n        this.topicToAlias = {};\n        this.numberAllocator.clear();\n        this.length = 0;\n    }\n    getLruAlias() {\n        const alias = this.numberAllocator.firstVacant();\n        if (alias)\n            return alias;\n        return [...this.aliasToTopic.keys()][this.aliasToTopic.size - 1];\n    }\n}\nexports.default = TopicAliasSend;\n//# sourceMappingURL=topic-alias-send.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst number_allocator_1 = require(\"number-allocator\");\nclass UniqueMessageIdProvider {\n    constructor() {\n        this.numberAllocator = new number_allocator_1.NumberAllocator(1, 65535);\n    }\n    allocate() {\n        this.lastId = this.numberAllocator.alloc();\n        return this.lastId;\n    }\n    getLastAllocated() {\n        return this.lastId;\n    }\n    register(messageId) {\n        return this.numberAllocator.use(messageId);\n    }\n    deallocate(messageId) {\n        this.numberAllocator.free(messageId);\n    }\n    clear() {\n        this.numberAllocator.clear();\n    }\n}\nexports.default = UniqueMessageIdProvider;\n//# sourceMappingURL=unique-message-id-provider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTopics = exports.validateTopic = void 0;\nfunction validateTopic(topic) {\n    const parts = topic.split('/');\n    for (let i = 0; i < parts.length; i++) {\n        if (parts[i] === '+') {\n            continue;\n        }\n        if (parts[i] === '#') {\n            return i === parts.length - 1;\n        }\n        if (parts[i].indexOf('+') !== -1 || parts[i].indexOf('#') !== -1) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.validateTopic = validateTopic;\nfunction validateTopics(topics) {\n    if (topics.length === 0) {\n        return 'empty_topic_list';\n    }\n    for (let i = 0; i < topics.length; i++) {\n        if (!validateTopic(topics[i])) {\n            return topics[i];\n        }\n    }\n    return null;\n}\nexports.validateTopics = validateTopics;\n//# sourceMappingURL=validations.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReasonCodes = exports.KeepaliveManager = exports.UniqueMessageIdProvider = exports.DefaultMessageIdProvider = exports.Store = exports.MqttClient = exports.connectAsync = exports.connect = exports.Client = void 0;\nconst client_1 = __importDefault(require(\"./lib/client\"));\nexports.MqttClient = client_1.default;\nconst default_message_id_provider_1 = __importDefault(require(\"./lib/default-message-id-provider\"));\nexports.DefaultMessageIdProvider = default_message_id_provider_1.default;\nconst unique_message_id_provider_1 = __importDefault(require(\"./lib/unique-message-id-provider\"));\nexports.UniqueMessageIdProvider = unique_message_id_provider_1.default;\nconst store_1 = __importDefault(require(\"./lib/store\"));\nexports.Store = store_1.default;\nconst connect_1 = __importStar(require(\"./lib/connect\"));\nexports.connect = connect_1.default;\nObject.defineProperty(exports, \"connectAsync\", { enumerable: true, get: function () { return connect_1.connectAsync; } });\nconst KeepaliveManager_1 = __importDefault(require(\"./lib/KeepaliveManager\"));\nexports.KeepaliveManager = KeepaliveManager_1.default;\nexports.Client = client_1.default;\n__exportStar(require(\"./lib/client\"), exports);\n__exportStar(require(\"./lib/shared\"), exports);\nvar ack_1 = require(\"./lib/handlers/ack\");\nObject.defineProperty(exports, \"ReasonCodes\", { enumerable: true, get: function () { return ack_1.ReasonCodes; } });\n//# sourceMappingURL=mqtt.js.map","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","// Copyright Takatoshi Kondo 2021\n//\n// Distributed under the MIT License\n\nconst NumberAllocator = require('./lib/number-allocator.js')\n\nmodule.exports.NumberAllocator = NumberAllocator\n","// Copyright Takatoshi Kondo 2021\n//\n// Distributed under the MIT License\n\n'use strict'\n\nconst SortedSet = require('js-sdsl').OrderedSet\nconst debugTrace = require('debug')('number-allocator:trace')\nconst debugError = require('debug')('number-allocator:error')\n/**\n * Interval constructor\n * @constructor\n * @param {Number} low  - The lowest value of the interval\n * @param {Number} high - The highest value of the interval\n */\nfunction Interval (low, high) {\n  this.low = low\n  this.high = high\n}\n\nInterval.prototype.equals = function (other) {\n  return this.low === other.low && this.high === other.high\n}\n\nInterval.prototype.compare = function (other) {\n  if (this.low < other.low && this.high < other.low) return -1\n  if (other.low < this.low && other.high < this.low) return 1\n  return 0\n}\n\n/**\n * NumberAllocator constructor.\n * The all numbers are set to vacant status.\n * Time Complexity O(1)\n * @constructor\n * @param {Number} min  - The maximum number of allocatable. The number must be integer.\n * @param {Number} maxh - The minimum number of allocatable. The number must be integer.\n */\nfunction NumberAllocator (min, max) {\n  if (!(this instanceof NumberAllocator)) {\n    return new NumberAllocator(min, max)\n  }\n\n  this.min = min\n  this.max = max\n\n  this.ss = new SortedSet(\n    [],\n    (lhs, rhs) => {\n      return lhs.compare(rhs)\n    }\n  )\n  debugTrace('Create')\n  this.clear()\n}\n\n/**\n * Get the first vacant number. The status of the number is not updated.\n * Time Complexity O(1)\n * @return {Number} - The first vacant number. If all numbers are occupied, return null.\n *                    When alloc() is called then the same value will be allocated.\n */\nNumberAllocator.prototype.firstVacant = function () {\n  if (this.ss.size() === 0) return null\n  return this.ss.front().low\n}\n\n/**\n * Allocate the first vacant number. The number become occupied status.\n * Time Complexity O(1)\n * @return {Number} - The first vacant number. If all numbers are occupied, return null.\n */\nNumberAllocator.prototype.alloc = function () {\n  if (this.ss.size() === 0) {\n    debugTrace('alloc():empty')\n    return null\n  }\n  const it = this.ss.begin()\n  const low = it.pointer.low\n  const high = it.pointer.high\n  const num = low\n  if (num + 1 <= high) {\n    // x|----|\n    this.ss.updateKeyByIterator(it, new Interval(low + 1, high))\n  } else {\n    this.ss.eraseElementByPos(0)\n  }\n  debugTrace('alloc():' + num)\n  return num\n}\n\n/**\n * Use the number. The number become occupied status.\n * If the number has already been occupied, then return false.\n * Time Complexity O(logN) : N is the number of intervals (not numbers)\n * @param {Number} num - The number to request use.\n * @return {Boolean} - If `num` was not occupied, then return true, otherwise return false.\n */\nNumberAllocator.prototype.use = function (num) {\n  const key = new Interval(num, num)\n  const it = this.ss.lowerBound(key)\n  if (!it.equals(this.ss.end())) {\n    const low = it.pointer.low\n    const high = it.pointer.high\n    if (it.pointer.equals(key)) {\n      // |x|\n      this.ss.eraseElementByIterator(it)\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // x |-----|\n    if (low > num) return false\n\n    // |x----|\n    if (low === num) {\n      // x|----|\n      this.ss.updateKeyByIterator(it, new Interval(low + 1, high))\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // |----x|\n    if (high === num) {\n      // |----|x\n      this.ss.updateKeyByIterator(it, new Interval(low, high - 1))\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // |--x--|\n    // x|--|\n    this.ss.updateKeyByIterator(it, new Interval(num + 1, high))\n    // |--|x|--|\n    this.ss.insert(new Interval(low, num - 1))\n    debugTrace('use():' + num)\n    return true\n  }\n\n  debugTrace('use():failed')\n  return false\n}\n\n/**\n * Deallocate the number. The number become vacant status.\n * Time Complexity O(logN) : N is the number of intervals (not numbers)\n * @param {Number} num - The number to deallocate. The number must be occupied status.\n *                       In other words, the number must be allocated by alloc() or occupied be use().\n */\nNumberAllocator.prototype.free = function (num) {\n  if (num < this.min || num > this.max) {\n    debugError('free():' + num + ' is out of range')\n    return\n  }\n  const key = new Interval(num, num)\n  const it = this.ss.upperBound(key)\n  if (it.equals(this.ss.end())) {\n    // ....v\n    if (it.equals(this.ss.begin())) {\n      // Insert new interval\n      this.ss.insert(key)\n      return\n    }\n    it.pre()\n    const low = it.pointer.high\n    const high = it.pointer.high\n    if (high + 1 === num) {\n      // Concat to left\n      this.ss.updateKeyByIterator(it, new Interval(low, num))\n    } else {\n      // Insert new interval\n      this.ss.insert(key)\n    }\n  } else {\n    if (it.equals(this.ss.begin())) {\n      // v....\n      if (num + 1 === it.pointer.low) {\n        // Concat to right\n        const high = it.pointer.high\n        this.ss.updateKeyByIterator(it, new Interval(num, high))\n      } else {\n        // Insert new interval\n        this.ss.insert(key)\n      }\n    } else {\n      // ..v..\n      const rLow = it.pointer.low\n      const rHigh = it.pointer.high\n      it.pre()\n      const lLow = it.pointer.low\n      const lHigh = it.pointer.high\n      if (lHigh + 1 === num) {\n        if (num + 1 === rLow) {\n          // Concat to left and right\n          this.ss.eraseElementByIterator(it)\n          this.ss.updateKeyByIterator(it, new Interval(lLow, rHigh))\n        } else {\n          // Concat to left\n          this.ss.updateKeyByIterator(it, new Interval(lLow, num))\n        }\n      } else {\n        if (num + 1 === rLow) {\n          // Concat to right\n          this.ss.eraseElementByIterator(it.next())\n          this.ss.insert(new Interval(num, rHigh))\n        } else {\n          // Insert new interval\n          this.ss.insert(key)\n        }\n      }\n    }\n  }\n  debugTrace('free():' + num)\n}\n\n/**\n * Clear all occupied numbers.\n * The all numbers are set to vacant status.\n * Time Complexity O(1)\n */\nNumberAllocator.prototype.clear = function () {\n  debugTrace('clear()')\n  this.ss.clear()\n  this.ss.insert(new Interval(this.min, this.max))\n}\n\n/**\n * Get the number of intervals. Interval is internal structure of this library.\n * This function is for debugging.\n * Time Complexity O(1)\n * @return {Number} - The number of intervals.\n */\nNumberAllocator.prototype.intervalCount = function () {\n  return this.ss.size()\n}\n\n/**\n * Dump the internal structor of the library.\n * This function is for debugging.\n * Time Complexity O(N) : N is the number of intervals (not numbers)\n */\nNumberAllocator.prototype.dump = function () {\n  console.log('length:' + this.ss.size())\n  for (const element of this.ss) {\n    console.log(element)\n  }\n}\n\nmodule.exports = NumberAllocator\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// for now just expose the builtin process global from node.js\nmodule.exports = global.process;\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","'use strict'\n\nconst { SymbolDispose } = require('../../ours/primordials')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { isNodeStream, isWebStream, kControllerErrorFunction } = require('./utils')\nconst eos = require('./end-of-stream')\nconst { ERR_INVALID_ARG_TYPE } = codes\nlet addAbortListener\n\n// This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n  if (!isNodeStream(stream) && !isWebStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n  const onAbort = isNodeStream(stream)\n    ? () => {\n        stream.destroy(\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n    : () => {\n        stream[kControllerErrorFunction](\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n    const disposable = addAbortListener(signal, onAbort)\n    eos(stream, disposable[SymbolDispose])\n  }\n  return stream\n}\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { inspect } = require('../../ours/util')\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n    while ((p = p.next) !== null) ret += s + p.data\n    return ret\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n    return ret\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    const data = this.head.data\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    }\n    // Result spans more than one buffer.\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n  first() {\n    return this.head.data\n  }\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n    do {\n      const str = p.data\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n    do {\n      const buf = p.data\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict'\n\nconst { pipeline } = require('./pipeline')\nconst Duplex = require('./duplex')\nconst { destroyer } = require('./destroy')\nconst {\n  isNodeStream,\n  isReadable,\n  isWritable,\n  isWebStream,\n  isTransformStream,\n  isWritableStream,\n  isReadableStream\n} = require('./utils')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\nconst eos = require('./end-of-stream')\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n  const orgStreams = [...streams]\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n]) && !isWebStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n    if (\n      n < streams.length - 1 &&\n      !(isReadable(streams[n]) || isReadableStream(streams[n]) || isTransformStream(streams[n]))\n    ) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n    if (n > 0 && !(isWritable(streams[n]) || isWritableStream(streams[n]) || isTransformStream(streams[n]))) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!(isWritable(head) || isWritableStream(head) || isTransformStream(head))\n  const readable = !!(isReadable(tail) || isReadableStream(tail) || isTransformStream(tail))\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.readableObjectMode),\n    writable,\n    readable\n  })\n  if (writable) {\n    if (isNodeStream(head)) {\n      d._write = function (chunk, encoding, callback) {\n        if (head.write(chunk, encoding)) {\n          callback()\n        } else {\n          ondrain = callback\n        }\n      }\n      d._final = function (callback) {\n        head.end()\n        onfinish = callback\n      }\n      head.on('drain', function () {\n        if (ondrain) {\n          const cb = ondrain\n          ondrain = null\n          cb()\n        }\n      })\n    } else if (isWebStream(head)) {\n      const writable = isTransformStream(head) ? head.writable : head\n      const writer = writable.getWriter()\n      d._write = async function (chunk, encoding, callback) {\n        try {\n          await writer.ready\n          writer.write(chunk).catch(() => {})\n          callback()\n        } catch (err) {\n          callback(err)\n        }\n      }\n      d._final = async function (callback) {\n        try {\n          await writer.ready\n          writer.close().catch(() => {})\n          onfinish = callback\n        } catch (err) {\n          callback(err)\n        }\n      }\n    }\n    const toRead = isTransformStream(tail) ? tail.readable : tail\n    eos(toRead, () => {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    if (isNodeStream(tail)) {\n      tail.on('readable', function () {\n        if (onreadable) {\n          const cb = onreadable\n          onreadable = null\n          cb()\n        }\n      })\n      tail.on('end', function () {\n        d.push(null)\n      })\n      d._read = function () {\n        while (true) {\n          const buf = tail.read()\n          if (buf === null) {\n            onreadable = d._read\n            return\n          }\n          if (!d.push(buf)) {\n            return\n          }\n        }\n      }\n    } else if (isWebStream(tail)) {\n      const readable = isTransformStream(tail) ? tail.readable : tail\n      const reader = readable.getReader()\n      d._read = async function () {\n        while (true) {\n          try {\n            const { value, done } = await reader.read()\n            if (!d.push(value)) {\n              return\n            }\n            if (done) {\n              d.push(null)\n              return\n            }\n          } catch {\n            return\n          }\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      if (isNodeStream(tail)) {\n        destroyer(tail, err)\n      }\n    }\n  }\n  return d\n}\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\nconst { Symbol } = require('../../ours/primordials')\nconst { kIsDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n}\n\n// Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState\n  // With duplex streams we use the writable side for state.\n  const s = w || r\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n    return this\n  }\n\n  // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n  checkError(err, w, r)\n  if (w) {\n    w.destroyed = true\n  }\n  if (r) {\n    r.destroyed = true\n  }\n\n  // If still constructing then defer calling _destroy.\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n  return this\n}\nfunction _destroy(self, err, cb) {\n  let called = false\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n    if (w) {\n      w.closed = true\n    }\n    if (r) {\n      r.closed = true\n    }\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n  if (w) {\n    w.closeEmitted = true\n  }\n  if (r) {\n    r.closeEmitted = true\n  }\n  if ((w !== null && w !== undefined && w.emitClose) || (r !== null && r !== undefined && r.emitClose)) {\n    self.emit('close')\n  }\n}\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n  if ((w !== null && w !== undefined && w.errorEmitted) || (r !== null && r !== undefined && r.errorEmitted)) {\n    return\n  }\n  if (w) {\n    w.errorEmitted = true\n  }\n  if (r) {\n    r.errorEmitted = true\n  }\n  self.emit('error', err)\n}\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const r = stream._readableState\n  const w = stream._writableState\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    return this\n  }\n  if ((r !== null && r !== undefined && r.autoDestroy) || (w !== null && w !== undefined && w.autoDestroy))\n    stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n  const r = stream._readableState\n  const w = stream._writableState\n  if (r) {\n    r.constructed = false\n  }\n  if (w) {\n    w.constructed = false\n  }\n  stream.once(kConstruct, cb)\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n  process.nextTick(constructNT, stream)\n}\nfunction constructNT(stream) {\n  let called = false\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n    if (r) {\n      r.constructed = true\n    }\n    if (w) {\n      w.constructed = true\n    }\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n  try {\n    stream._construct((err) => {\n      process.nextTick(onConstruct, err)\n    })\n  } catch (err) {\n    process.nextTick(onConstruct, err)\n  }\n}\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\nfunction isRequest(stream) {\n  return (stream === null || stream === undefined ? undefined : stream.setHeader) && typeof stream.abort === 'function'\n}\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n}\n\n// Normalize destroy for legacy.\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  }\n\n  // TODO: Remove isRequest branches.\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n  if (!stream.destroyed) {\n    stream[kIsDestroyed] = true\n  }\n}\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\nmodule.exports = Duplex\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype)\n  // Allow the keys array to be GC'ed.\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\nlet duplexify\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n  return duplexify(body, 'body')\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\n;('use strict')\nconst bufferModule = require('buffer')\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream,\n  isReadableStream,\n  isWritableStream\n} = require('./utils')\nconst eos = require('./end-of-stream')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\nconst { destroyer } = require('./destroy')\nconst Duplex = require('./duplex')\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nconst { createDeferredPromise } = require('../../ours/util')\nconst from = require('./from')\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst { FunctionPrototypeCall } = require('../../ours/primordials')\n\n// This is needed for pre node 17.\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options)\n\n    // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  }\n  if (isReadableStream(body)) {\n    return _duplexify({\n      readable: Readable.fromWeb(body)\n    })\n  }\n  if (isWritableStream(body)) {\n    return _duplexify({\n      writable: Writable.fromWeb(body)\n    })\n  }\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n    const then = value === null || value === undefined ? undefined : value.then\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n        destroy\n      }))\n    }\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  }\n  if (\n    isReadableStream(body === null || body === undefined ? undefined : body.readable) &&\n    isWritableStream(body === null || body === undefined ? undefined : body.writable)\n  ) {\n    return Duplexify.fromWeb(body)\n  }\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n  const then = body === null || body === undefined ? undefined : body.then\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n      read() {}\n    }))\n  }\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    }\n  }\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n  return d\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\nconst { kEmptyObject, once } = require('../../ours/util')\nconst { validateAbortSignal, validateFunction, validateObject, validateBoolean } = require('../validators')\nconst { Promise, PromisePrototypeThen, SymbolDispose } = require('../../ours/primordials')\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose,\n  kIsClosedPromise\n} = require('./utils')\nlet addAbortListener\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\nconst nop = () => {}\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  if (isReadableStream(stream) || isWritableStream(stream)) {\n    return eosWeb(stream, options, callback)\n  }\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  }\n\n  // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n  const onfinish = () => {\n    writableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n  let readableFinished = isReadableFinished(stream, false)\n  const onend = () => {\n    readableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n  let closed = isClosed(stream)\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    callback.call(stream)\n  }\n  const onclosed = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    callback.call(stream)\n  }\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  }\n\n  // Not all streams will emit 'close' after 'aborted'.\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n  stream.on('close', onclose)\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclosed)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclosed)\n  }\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  return cleanup\n}\nfunction eosWeb(stream, options, callback) {\n  let isAborted = false\n  let abort = nop\n  if (options.signal) {\n    abort = () => {\n      isAborted = true\n      callback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  const resolverFn = (...args) => {\n    if (!isAborted) {\n      process.nextTick(() => callback.apply(stream, args))\n    }\n  }\n  PromisePrototypeThen(stream[kIsClosedPromise].promise, resolverFn, resolverFn)\n  return nop\n}\nfunction finished(stream, opts) {\n  var _opts\n  let autoCleanup = false\n  if (opts === null) {\n    opts = kEmptyObject\n  }\n  if ((_opts = opts) !== null && _opts !== undefined && _opts.cleanup) {\n    validateBoolean(opts.cleanup, 'cleanup')\n    autoCleanup = opts.cleanup\n  }\n  return new Promise((resolve, reject) => {\n    const cleanup = eos(stream, opts, (err) => {\n      if (autoCleanup) {\n        cleanup()\n      }\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\nmodule.exports = eos\nmodule.exports.finished = finished\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\nfunction from(Readable, iterable, opts) {\n  let iterator\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n  let isAsync\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  })\n\n  // Flag to protect against _read\n  // being called before last iteration completion.\n  let reading = false\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error),\n      // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n      if (done) {\n        return\n      }\n    }\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n      break\n    }\n  }\n  return readable\n}\nmodule.exports = from\n","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\nconst { EventEmitter: EE } = require('events')\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n  source.on('data', ondata)\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n  dest.on('drain', ondrain)\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n  let didOnEnd = false\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  }\n\n  // Don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup()\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror)\n\n  // Remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source)\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest\n}\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn)\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst {\n  codes: { ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\nconst kResistStopPropagation = require('../../ours/primordials').Symbol('kResistStopPropagation')\nconst { finished } = require('./end-of-stream')\nconst staticCompose = require('./compose')\nconst { addAbortSignalNoValidate } = require('./add-abort-signal')\nconst { isWritable, isNodeStream } = require('./utils')\nconst { deprecate } = require('../../ours/util')\nconst {\n  ArrayPrototypePush,\n  Boolean,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromiseResolve,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\nfunction compose(stream, options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  if (isNodeStream(stream) && !isWritable(stream)) {\n    throw new ERR_INVALID_ARG_VALUE('stream', stream, 'must be writable')\n  }\n  const composedStream = staticCompose(this, stream)\n  if (options !== null && options !== undefined && options.signal) {\n    // Not validating as we already validated before\n    addAbortSignalNoValidate(options.signal, composedStream)\n  }\n  return composedStream\n}\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let concurrency = 1\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n  let highWaterMark = concurrency - 1\n  if ((options === null || options === undefined ? undefined : options.highWaterMark) != null) {\n    highWaterMark = MathFloor(options.highWaterMark)\n  }\n  validateInteger(concurrency, 'options.concurrency', 1)\n  validateInteger(highWaterMark, 'options.highWaterMark', 0)\n  highWaterMark += concurrency\n  return async function* map() {\n    const signal = require('../../ours/util').AbortSignalAny(\n      [options === null || options === undefined ? undefined : options.signal].filter(Boolean)\n    )\n    const stream = this\n    const queue = []\n    const signalOpt = {\n      signal\n    }\n    let next\n    let resume\n    let done = false\n    let cnt = 0\n    function onCatch() {\n      done = true\n      afterItemProcessed()\n    }\n    function afterItemProcessed() {\n      cnt -= 1\n      maybeResume()\n    }\n    function maybeResume() {\n      if (resume && !done && cnt < concurrency && queue.length < highWaterMark) {\n        resume()\n        resume = null\n      }\n    }\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          if (done) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          try {\n            val = fn(val, signalOpt)\n            if (val === kEmpty) {\n              continue\n            }\n            val = PromiseResolve(val)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n          cnt += 1\n          PromisePrototypeThen(val, afterItemProcessed, onCatch)\n          queue.push(val)\n          if (next) {\n            next()\n            next = null\n          }\n          if (!done && (queue.length >= highWaterMark || cnt >= concurrency)) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, afterItemProcessed, onCatch)\n        queue.push(val)\n      } finally {\n        done = true\n        if (next) {\n          next()\n          next = null\n        }\n      }\n    }\n    pump()\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n          if (val === kEof) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          if (val !== kEmpty) {\n            yield val\n          }\n          queue.shift()\n          maybeResume()\n        }\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      done = true\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  return async function* asIndexedPairs() {\n    let index = 0\n    for await (const val of this) {\n      var _options$signal\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal = options.signal) !== null &&\n        _options$signal !== undefined &&\n        _options$signal.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n      yield [index++, val]\n    }\n  }.call(this)\n}\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n  return false\n}\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n  return undefined\n}\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  }\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of map.call(this, forEachFn, options));\n}\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n    return kEmpty\n  }\n  return map.call(this, filterFn, options)\n}\n\n// Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal2\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let hasInitialValue = arguments.length > 1\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal2 = options.signal) !== null &&\n    _options$signal2 !== undefined &&\n    _options$signal2.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n    await finished(this.destroy(err))\n    throw err\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this,\n      [kResistStopPropagation]: true\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n  let gotAnyItemFromStream = false\n  try {\n    for await (const value of this) {\n      var _options$signal3\n      gotAnyItemFromStream = true\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal3 = options.signal) !== null &&\n        _options$signal3 !== undefined &&\n        _options$signal3.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n  return initialValue\n}\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  const result = []\n  for await (const val of this) {\n    var _options$signal4\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal4 = options.signal) !== null &&\n      _options$signal4 !== undefined &&\n      _options$signal4.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n    ArrayPrototypePush(result, val)\n  }\n  return result\n}\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n  return number\n}\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal5\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal5 = options.signal) !== null &&\n      _options$signal5 !== undefined &&\n      _options$signal5.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal6\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal7\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal8\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal8 = options.signal) !== null &&\n        _options$signal8 !== undefined &&\n        _options$signal8.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- > 0) {\n        yield val\n      }\n\n      // Don't get another item from iterator in case we reached the end\n      if (number <= 0) {\n        return\n      }\n    }\n  }.call(this)\n}\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs: deprecate(asIndexedPairs, 'readable.asIndexedPairs will be removed in a future version.'),\n  drop,\n  filter,\n  flatMap,\n  map,\n  take,\n  compose\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\nmodule.exports = PassThrough\nconst Transform = require('./transform')\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { ArrayIsArray, Promise, SymbolAsyncIterator, SymbolDispose } = require('../../ours/primordials')\nconst eos = require('./end-of-stream')\nconst { once } = require('../../ours/util')\nconst destroyImpl = require('./destroy')\nconst Duplex = require('./duplex')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateFunction, validateAbortSignal } = require('../validators')\nconst {\n  isIterable,\n  isReadable,\n  isReadableNodeStream,\n  isNodeStream,\n  isTransformStream,\n  isWebStream,\n  isReadableStream,\n  isReadableFinished\n} = require('./utils')\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nlet PassThrough\nlet Readable\nlet addAbortListener\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\nasync function pumpToNode(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n    if (end) {\n      writable.end()\n      await wait()\n    }\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\nasync function pumpToWeb(readable, writable, finish, { end }) {\n  if (isTransformStream(writable)) {\n    writable = writable.writable\n  }\n  // https://streams.spec.whatwg.org/#example-manual-write-with-backpressure\n  const writer = writable.getWriter()\n  try {\n    for await (const chunk of readable) {\n      await writer.ready\n      writer.write(chunk).catch(() => {})\n    }\n    await writer.ready\n    if (end) {\n      await writer.close()\n    }\n    finish()\n  } catch (err) {\n    try {\n      await writer.abort(err)\n      finish(err)\n    } catch (err) {\n      finish(err)\n    }\n  }\n}\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal\n\n  // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n  function abort() {\n    finishImpl(new AbortError())\n  }\n  addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n  let disposable\n  if (outerSignal) {\n    disposable = addAbortListener(outerSignal, abort)\n  }\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n  function finishImpl(err, final) {\n    var _disposable\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n    if (!error && !final) {\n      return\n    }\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n    ;(_disposable = disposable) === null || _disposable === undefined ? undefined : _disposable[SymbolDispose]()\n    ac.abort()\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n      process.nextTick(callback, error, value)\n    }\n  }\n  let ret\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n\n      // Catch stream errors that occur after pipe/pump has completed.\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n      stream.on('error', onError)\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream) || isTransformStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      if (isTransformStream(ret)) {\n        var _ret\n        ret = makeAsyncIterable((_ret = ret) === null || _ret === undefined ? undefined : _ret.readable)\n      } else {\n        ret = makeAsyncIterable(ret)\n      }\n      ret = stream(ret, {\n        signal\n      })\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret2\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        }\n\n        // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        })\n\n        // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n        const then = (_ret2 = ret) === null || _ret2 === undefined ? undefined : _ret2.then\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n              if (val != null) {\n                pt.write(val)\n              }\n              if (end) {\n                pt.end()\n              }\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pumpToNode(ret, pt, finish, {\n            end\n          })\n        } else if (isReadableStream(ret) || isTransformStream(ret)) {\n          const toRead = ret.readable || ret\n          finishCount++\n          pumpToNode(toRead, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isTransformStream(ret) || isReadableStream(ret)) {\n        const toRead = ret.readable || ret\n        finishCount++\n        pumpToNode(toRead, stream, finish, {\n          end\n        })\n      } else if (isIterable(ret)) {\n        finishCount++\n        pumpToNode(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else if (isWebStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount++\n        pumpToWeb(makeAsyncIterable(ret), stream, finish, {\n          end\n        })\n      } else if (isReadableStream(ret) || isIterable(ret)) {\n        finishCount++\n        pumpToWeb(ret, stream, finish, {\n          end\n        })\n      } else if (isTransformStream(ret)) {\n        finishCount++\n        pumpToWeb(ret.readable, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n  return ret\n}\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end: false\n  }) // If end is true we already will have a listener to end dst.\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n\n    function endFn() {\n      ended = true\n      dst.end()\n    }\n    if (isReadableFinished(src)) {\n      // End the destination if the source has already ended.\n      process.nextTick(endFn)\n    } else {\n      src.once('end', endFn)\n    }\n  } else {\n    finish()\n  }\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncDispose,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\nconst { EventEmitter: EE } = require('events')\nconst { Stream, prependListener } = require('./legacy')\nconst { Buffer } = require('buffer')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst eos = require('./end-of-stream')\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\nconst BufferList = require('./buffer_list')\nconst destroyImpl = require('./destroy')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateObject } = require('../validators')\nconst kPaused = Symbol('kPaused')\nconst { StringDecoder } = require('string_decoder')\nconst from = require('./from')\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\nconst nop = () => {}\nconst { errorOrDestroy } = destroyImpl\nconst kObjectMode = 1 << 0\nconst kEnded = 1 << 1\nconst kEndEmitted = 1 << 2\nconst kReading = 1 << 3\nconst kConstructed = 1 << 4\nconst kSync = 1 << 5\nconst kNeedReadable = 1 << 6\nconst kEmittedReadable = 1 << 7\nconst kReadableListening = 1 << 8\nconst kResumeScheduled = 1 << 9\nconst kErrorEmitted = 1 << 10\nconst kEmitClose = 1 << 11\nconst kAutoDestroy = 1 << 12\nconst kDestroyed = 1 << 13\nconst kClosed = 1 << 14\nconst kCloseEmitted = 1 << 15\nconst kMultiAwaitDrain = 1 << 16\nconst kReadingMore = 1 << 17\nconst kDataEmitted = 1 << 18\n\n// TODO(benjamingr) it is likely slower to do it this way than with free functions\nfunction makeBitMapDescriptor(bit) {\n  return {\n    enumerable: false,\n    get() {\n      return (this.state & bit) !== 0\n    },\n    set(value) {\n      if (value) this.state |= bit\n      else this.state &= ~bit\n    }\n  }\n}\nObjectDefineProperties(ReadableState.prototype, {\n  objectMode: makeBitMapDescriptor(kObjectMode),\n  ended: makeBitMapDescriptor(kEnded),\n  endEmitted: makeBitMapDescriptor(kEndEmitted),\n  reading: makeBitMapDescriptor(kReading),\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  constructed: makeBitMapDescriptor(kConstructed),\n  // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  sync: makeBitMapDescriptor(kSync),\n  // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  needReadable: makeBitMapDescriptor(kNeedReadable),\n  emittedReadable: makeBitMapDescriptor(kEmittedReadable),\n  readableListening: makeBitMapDescriptor(kReadableListening),\n  resumeScheduled: makeBitMapDescriptor(kResumeScheduled),\n  // True if the error was already emitted and should not be thrown again.\n  errorEmitted: makeBitMapDescriptor(kErrorEmitted),\n  emitClose: makeBitMapDescriptor(kEmitClose),\n  autoDestroy: makeBitMapDescriptor(kAutoDestroy),\n  // Has it been destroyed.\n  destroyed: makeBitMapDescriptor(kDestroyed),\n  // Indicates whether the stream has finished destroying.\n  closed: makeBitMapDescriptor(kClosed),\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  closeEmitted: makeBitMapDescriptor(kCloseEmitted),\n  multiAwaitDrain: makeBitMapDescriptor(kMultiAwaitDrain),\n  // If true, a maybeReadMore has been scheduled.\n  readingMore: makeBitMapDescriptor(kReadingMore),\n  dataEmitted: makeBitMapDescriptor(kDataEmitted)\n})\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Bit map field to store ReadableState more effciently with 1 bit per field\n  // instead of a V8 slot per field.\n  this.state = kEmitClose | kAutoDestroy | kConstructed | kSync\n  // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n  if (options && options.objectMode) this.state |= kObjectMode\n  if (isDuplex && options && options.readableObjectMode) this.state |= kObjectMode\n\n  // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this[kPaused] = null\n\n  // Should close be emitted on destroy. Defaults to true.\n  if (options && options.emitClose === false) this.state &= ~kEmitClose\n\n  // Should .destroy() be called after 'end' (and potentially 'finish').\n  if (options && options.autoDestroy === false) this.state &= ~kAutoDestroy\n\n  // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n  this.errored = null\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n  this.awaitDrainWriters = null\n  this.decoder = null\n  this.encoding = null\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options)\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  this._readableState = new ReadableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nReadable.prototype[SymbolAsyncDispose] = function () {\n  let error\n  if (!this.destroyed) {\n    error = this.readableEnded ? null : new AbortError()\n    this.destroy(error)\n  }\n  return new Promise((resolve, reject) => eos(this, (err) => (err && err !== error ? reject(err) : resolve(null))))\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n}\n\n// Unshift should *always* be something directly out of read().\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n  if ((state.state & kObjectMode) === 0) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.state &= ~kReading\n    onEofChunk(stream, state)\n  } else if ((state.state & kObjectMode) !== 0 || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if ((state.state & kEndEmitted) !== 0) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.state &= ~kReading\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.state &= ~kReading\n    maybeReadMore(stream, state)\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if ((state.state & kMultiAwaitDrain) !== 0) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if ((state.state & kNeedReadable) !== 0) emitReadable(stream)\n  }\n  maybeReadMore(stream, state)\n}\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n}\n\n// Backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder\n  // If setEncoding(null), decoder.encoding equals utf8.\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer\n  // Iterate over current buffer to convert already stored Buffers:\n  let content = ''\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n}\n\n// Don't raise the hwm > 1GB.\nconst MAX_HWM = 0x40000000\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n  return n\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if ((state.state & kObjectMode) !== 0) return 1\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n}\n\n// You can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n)\n  // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n  const state = this._readableState\n  const nOrig = n\n\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.state &= ~kEmittedReadable\n\n  // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n  n = howMuchToRead(n, state)\n\n  // If we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  let doRead = (state.state & kNeedReadable) !== 0\n  debug('need readable', doRead)\n\n  // If we currently have less than the highWaterMark, then also read some.\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  }\n\n  // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.state |= kReading | kSync\n    // If the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.state |= kNeedReadable\n\n    // Call internal read method\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n    state.state &= ~kSync\n\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n  return ret\n}\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n  state.ended = true\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true\n    // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n    emitReadable_(stream)\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  }\n\n  // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n}\n\n// At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n  state.readingMore = false\n}\n\n// Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n  let ondrain\n  let cleanedUp = false\n  function cleanup() {\n    debug('cleanup')\n    // Cleanup event handlers once the pipe is broken.\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true\n\n    // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n      src.pause()\n    }\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n  src.on('data', ondata)\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n    if (ret === false) {\n      pause()\n    }\n  }\n\n  // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror)\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n  dest.once('close', onclose)\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n  dest.once('finish', onfinish)\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  }\n\n  // Tell the dest that it's being piped to.\n  dest.emit('pipe', src)\n\n  // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    pause()\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n  return dest\n}\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState\n\n    // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  }\n\n  // If we're not piping anywhere, then do nothing.\n  if (state.pipes.length === 0) return this\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n    return this\n  }\n\n  // Try to find the right one.\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n}\n\n// Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0\n\n    // Try start flowing on next tick if stream isn't explicitly paused.\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n  return res\n}\nReadable.prototype.addListener = Readable.prototype.on\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nReadable.prototype.off = Readable.prototype.removeListener\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true\n\n    // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  const state = this._readableState\n  if (!state.flowing) {\n    debug('resume')\n    // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n  state[kPaused] = false\n  return this\n}\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n  if (!state.reading) {\n    stream.read(0)\n  }\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n  this._readableState[kPaused] = true\n  return this\n}\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n  while (state.flowing && stream.read() !== null);\n}\n\n// Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  let paused = false\n\n  // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  }\n\n  // Proxy all the other methods. Important when wrapping filters and duplexes.\n  const streamKeys = ObjectKeys(stream)\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n  return this\n}\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n  return streamToAsyncIterator(this, options)\n}\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n}\n\n// Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n    get() {\n      const r = this._readableState\n      // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      }\n\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n    get() {\n      return this[kPaused] !== false\n    },\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n})\n\n// Exposed for testing purposes only.\nReadable._fromList = fromList\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length)\n\n  // Check that we didn't get one last unshift.\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy &&\n          // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n  if (writable) {\n    stream.end()\n  }\n}\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { validateInteger } = require('../validators')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nlet defaultHighWaterMarkBytes = 16 * 1024\nlet defaultHighWaterMarkObjectMode = 16\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? defaultHighWaterMarkObjectMode : defaultHighWaterMarkBytes\n}\nfunction setDefaultHighWaterMark(objectMode, value) {\n  validateInteger(value, 'value', 0)\n  if (objectMode) {\n    defaultHighWaterMarkObjectMode = value\n  } else {\n    defaultHighWaterMarkBytes = value\n  }\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark,\n  setDefaultHighWaterMark\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\nmodule.exports = Transform\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\nconst Duplex = require('./duplex')\nconst { getHighWaterMark } = require('./state')\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n\n  // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n  Duplex.call(this, options)\n\n  // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false\n  this[kCallback] = null\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n  this.on('prefinish', prefinish)\n}\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n        return\n      }\n      if (data != null) {\n        this.push(data)\n      }\n      this.push(null)\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n    if (cb) {\n      cb()\n    }\n  }\n}\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\nTransform.prototype._final = final\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n    if (val != null) {\n      this.push(val)\n    }\n    if (\n      wState.ended ||\n      // Backwards compat.\n      length === rState.length ||\n      // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","'use strict'\n\nconst { SymbolAsyncIterator, SymbolIterator, SymbolFor } = require('../../ours/primordials')\n\n// We need to use SymbolFor to make these globally available\n// for interopt with readable-stream, i.e. readable-stream\n// and node core needs to be able to read/write private state\n// from each other for proper interoperability.\nconst kIsDestroyed = SymbolFor('nodejs.stream.destroyed')\nconst kIsErrored = SymbolFor('nodejs.stream.errored')\nconst kIsReadable = SymbolFor('nodejs.stream.readable')\nconst kIsWritable = SymbolFor('nodejs.stream.writable')\nconst kIsDisturbed = SymbolFor('nodejs.stream.disturbed')\nconst kIsClosedPromise = SymbolFor('nodejs.webstream.isClosedPromise')\nconst kControllerErrorFunction = SymbolFor('nodejs.webstream.controllerErrorFunction')\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) &&\n      // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\nfunction isReadableStream(obj) {\n  return !!(\n    obj &&\n    !isNodeStream(obj) &&\n    typeof obj.pipeThrough === 'function' &&\n    typeof obj.getReader === 'function' &&\n    typeof obj.cancel === 'function'\n  )\n}\nfunction isWritableStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.getWriter === 'function' && typeof obj.abort === 'function')\n}\nfunction isTransformStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.readable === 'object' && typeof obj.writable === 'object')\n}\nfunction isWebStream(obj) {\n  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)\n}\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kIsDestroyed] || (state !== null && state !== undefined && state.destroyed))\n}\n\n// Have been end():d.\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n}\n\n// Have emitted 'finish'.\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n}\n\n// Have been push(null):d.\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n}\n\n// Have emitted 'end'.\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\nfunction isWritable(stream) {\n  if (stream && stream[kIsWritable] != null) return stream[kIsWritable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (isDestroyed(stream)) {\n    return true\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n  return true\n}\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n  const wState = stream._writableState\n  const rState = stream._readableState\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n  return null\n}\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\nfunction isServerRequest(stream) {\n  var _stream$req\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\nmodule.exports = {\n  isDestroyed,\n  kIsDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  kIsClosedPromise,\n  kControllerErrorFunction,\n  kIsWritable,\n  isClosed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWebStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose,\n  isTransformStream\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\nmodule.exports = Writable\nWritable.WritableState = WritableState\nconst { EventEmitter: EE } = require('events')\nconst Stream = require('./legacy').Stream\nconst { Buffer } = require('buffer')\nconst destroyImpl = require('./destroy')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\nfunction nop() {}\nconst kOnFinished = Symbol('kOnFinished')\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode)\n\n  // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // if _final has been called.\n  this.finalCalled = false\n\n  // drain event flag.\n  this.needDrain = false\n  // At the start of calling end()\n  this.ending = false\n  // When end() has been called, and returned.\n  this.ended = false\n  // When 'finish' is emitted.\n  this.finished = false\n\n  // Has it been destroyed\n  this.destroyed = false\n\n  // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0\n\n  // A flag to see when we're in the middle of a write.\n  this.writing = false\n\n  // When true all writes will be buffered until .uncork() call.\n  this.corked = 0\n\n  // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true\n\n  // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false\n\n  // The callback that's passed to _write(chunk, cb).\n  this.onwrite = onwrite.bind(undefined, stream)\n\n  // The callback that the user supplies to write(chunk, encoding, cb).\n  this.writecb = null\n\n  // The amount that is being written when _write is called.\n  this.writelen = 0\n\n  // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n  this.afterWriteTickInfo = null\n  resetBuffer(this)\n\n  // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n  this.pendingcb = 0\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n  this.prefinished = false\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'finish' (and potentially 'end').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n    finishMaybe(this, state)\n  })\n}\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n})\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  let err\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n}\n\n// If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len\n\n  // stream._write resets state.length\n  const ret = state.length < state.highWaterMark\n  // We must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n    stream._write(chunk, encoding, state.onwrite)\n    state.sync = false\n  }\n\n  // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n  return ret && !state.errored && !state.destroyed\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er)\n  // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n  errorBuffer(state)\n  // This can emit error, but error must always follow cb.\n  errorOrDestroy(stream, er)\n}\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    }\n\n    // In case of duplex streams we need to notify the readable side of the\n    // error.\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n  finishMaybe(stream, state)\n}\n\n// If there's something in the buffer waiting, then invoke callbacks.\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n  resetBuffer(state)\n}\n\n// If there's something in the buffer waiting, then process it.\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n  if (!bufferedLength) {\n    return\n  }\n  let i = bufferedIndex\n  state.bufferProcessing = true\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        }\n    // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n  state.bufferProcessing = false\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\nWritable.prototype._writev = null\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n  let err\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n    if (ret instanceof Error) {\n      err = ret\n    }\n  }\n\n  // .end() fully uncorks.\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n  return this\n}\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\nfunction callFinal(stream, state) {\n  let called = false\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    state.pendingcb--\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish')\n      // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n  state.sync = true\n  state.pendingcb++\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n  state.sync = false\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n  stream.emit('finish')\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy &&\n        // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n    get() {\n      const w = this._writableState\n      // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState\n\n  // Invoke pending callbacks.\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n  destroy.call(this, err, cb)\n  return this\n}\nWritable.prototype._undestroy = destroyImpl.undestroy\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","/* eslint jsdoc/require-jsdoc: \"error\" */\n\n'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\nconst { normalizeEncoding } = require('../ours/util')\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\nconst signals = {}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUint32(value) {\n  return value === value >>> 0\n}\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n    value = NumberParseInt(value, 8)\n  }\n  validateUint32(value, name)\n  return value\n}\n\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  const min = positive ? 1 : 0\n  // 2 ** 32 === 4294967296\n  const max = 4294967295\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\n/**\n * @param {any} options\n * @param {string} key\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n\n/**\n * @callback validateDictionary - We are using the Web IDL Standard definition\n *                                of \"dictionary\" here, which means any value\n *                                whose Type is either Undefined, Null, or\n *                                Object (which includes functions).\n * @param {*} value\n * @param {string} name\n * @see https://webidl.spec.whatwg.org/#es-dictionary\n * @see https://tc39.es/ecma262/#table-typeof-operator-results\n */\n\n/** @type {validateDictionary} */\nconst validateDictionary = hideStackFrames((value, name) => {\n  if (value != null && typeof value !== 'object' && typeof value !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'a dictionary', value)\n  }\n})\n\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateStringArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string[]}\n */\n\n/** @type {validateStringArray} */\nfunction validateStringArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateString(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateBooleanArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean[]}\n */\n\n/** @type {validateBooleanArray} */\nfunction validateBooleanArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateBoolean(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateAbortSignalArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is AbortSignal[]}\n */\n\n/** @type {validateAbortSignalArray} */\nfunction validateAbortSignalArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    const signal = value[i]\n    const indexedName = `${name}[${i}]`\n    if (signal == null) {\n      throw new ERR_INVALID_ARG_TYPE(indexedName, 'AbortSignal', signal)\n    }\n    validateAbortSignal(signal, indexedName)\n  }\n}\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\n/**\n * @param {string} data\n * @param {string} encoding\n */\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n  return port | 0\n}\n\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\n/*\n  The rules for the Link header field are described here:\n  https://www.rfc-editor.org/rfc/rfc8288.html#section-3\n\n  This regex validates any string surrounded by angle brackets\n  (not necessarily a valid URI reference) followed by zero or more\n  link-params separated by semicolons.\n*/\nconst linkValueRegExp = /^(?:<[^>]*>)(?:\\s*;\\s*[^;\"\\s]+(?:=(\")?[^;\"\\s]*\\1)?)*$/\n\n/**\n * @param {any} value\n * @param {string} name\n */\nfunction validateLinkHeaderFormat(value, name) {\n  if (typeof value === 'undefined' || !RegExpPrototypeExec(linkValueRegExp, value)) {\n    throw new ERR_INVALID_ARG_VALUE(\n      name,\n      value,\n      'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n    )\n  }\n}\n\n/**\n * @param {any} hints\n * @return {string}\n */\nfunction validateLinkHeaderValue(hints) {\n  if (typeof hints === 'string') {\n    validateLinkHeaderFormat(hints, 'hints')\n    return hints\n  } else if (ArrayIsArray(hints)) {\n    const hintsLength = hints.length\n    let result = ''\n    if (hintsLength === 0) {\n      return result\n    }\n    for (let i = 0; i < hintsLength; i++) {\n      const link = hints[i]\n      validateLinkHeaderFormat(link, 'hints')\n      result += link\n      if (i !== hintsLength - 1) {\n        result += ', '\n      }\n    }\n    return result\n  }\n  throw new ERR_INVALID_ARG_VALUE(\n    'hints',\n    hints,\n    'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n  )\n}\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateStringArray,\n  validateBooleanArray,\n  validateAbortSignalArray,\n  validateBoolean,\n  validateBuffer,\n  validateDictionary,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal,\n  validateLinkHeaderValue\n}\n","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n}\n\n// Only use this for integers! Decimal numbers do not work with this function.\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length,\n      // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n  if (args.length === 0) {\n    return msg\n  }\n  return format(msg, ...args)\n}\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n  return innerError || outerError\n}\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n    let msg = 'The '\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n    switch (other.length) {\n      case 0:\n        break\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n        msg += `${other[0]}`\n        break\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","'use strict'\n\nconst Stream = require('stream')\nif (Stream && process.env.READABLE_STREAM === 'disable') {\n  const promises = Stream.promises\n\n  // Explicit export naming is needed for ESM\n  module.exports._uint8ArrayToBuffer = Stream._uint8ArrayToBuffer\n  module.exports._isUint8Array = Stream._isUint8Array\n  module.exports.isDisturbed = Stream.isDisturbed\n  module.exports.isErrored = Stream.isErrored\n  module.exports.isReadable = Stream.isReadable\n  module.exports.Readable = Stream.Readable\n  module.exports.Writable = Stream.Writable\n  module.exports.Duplex = Stream.Duplex\n  module.exports.Transform = Stream.Transform\n  module.exports.PassThrough = Stream.PassThrough\n  module.exports.addAbortSignal = Stream.addAbortSignal\n  module.exports.finished = Stream.finished\n  module.exports.destroy = Stream.destroy\n  module.exports.pipeline = Stream.pipeline\n  module.exports.compose = Stream.compose\n  Object.defineProperty(Stream, 'promises', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return promises\n    }\n  })\n  module.exports.Stream = Stream.Stream\n} else {\n  const CustomStream = require('../stream')\n  const promises = require('../stream/promises')\n  const originalDestroy = CustomStream.Readable.destroy\n  module.exports = CustomStream.Readable\n\n  // Explicit export naming is needed for ESM\n  module.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\n  module.exports._isUint8Array = CustomStream._isUint8Array\n  module.exports.isDisturbed = CustomStream.isDisturbed\n  module.exports.isErrored = CustomStream.isErrored\n  module.exports.isReadable = CustomStream.isReadable\n  module.exports.Readable = CustomStream.Readable\n  module.exports.Writable = CustomStream.Writable\n  module.exports.Duplex = CustomStream.Duplex\n  module.exports.Transform = CustomStream.Transform\n  module.exports.PassThrough = CustomStream.PassThrough\n  module.exports.addAbortSignal = CustomStream.addAbortSignal\n  module.exports.finished = CustomStream.finished\n  module.exports.destroy = CustomStream.destroy\n  module.exports.destroy = originalDestroy\n  module.exports.pipeline = CustomStream.pipeline\n  module.exports.compose = CustomStream.compose\n  Object.defineProperty(CustomStream, 'promises', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return promises\n    }\n  })\n  module.exports.Stream = CustomStream.Stream\n}\n\n// Allow default importing\nmodule.exports.default = module.exports\n","'use strict'\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  Error,\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n  Promise,\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n  PromiseResolve(val) {\n    return Promise.resolve(val)\n  },\n  ReflectApply: Reflect.apply,\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n  SafeSet: Set,\n  String,\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n  Symbol,\n  SymbolFor: Symbol.for,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n  SymbolDispose: Symbol.dispose || Symbol('Symbol.dispose'),\n  SymbolAsyncDispose: Symbol.asyncDispose || Symbol('Symbol.asyncDispose'),\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n  Boolean: Boolean,\n  Uint8Array\n}\n","'use strict'\n\nconst bufferModule = require('buffer')\nconst { kResistStopPropagation, SymbolDispose } = require('./primordials')\nconst AbortSignal = globalThis.AbortSignal || require('abort-controller').AbortSignal\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n\nconst validateAbortSignal = (signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nconst validateFunction = (value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n}\n\n// This is a simplified version of AggregateError\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n    let message = ''\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n      called = true\n      callback.apply(this, args)\n    }\n  },\n  createDeferredPromise: function () {\n    let resolve\n    let reject\n\n    // eslint-disable-next-line promise/param-names\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n        return resolve(...args)\n      })\n    })\n  },\n  debuglog() {\n    return function () {}\n  },\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n        return `'${value}'`\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n        return value\n      case 'bigint':\n        return `${String(value)}n`\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n      case 'object':\n        return '{}'\n    }\n  },\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob,\n  deprecate(fn, message) {\n    return fn\n  },\n  addAbortListener:\n    require('events').addAbortListener ||\n    function addAbortListener(signal, listener) {\n      if (signal === undefined) {\n        throw new ERR_INVALID_ARG_TYPE('signal', 'AbortSignal', signal)\n      }\n      validateAbortSignal(signal, 'signal')\n      validateFunction(listener, 'listener')\n      let removeEventListener\n      if (signal.aborted) {\n        queueMicrotask(() => listener())\n      } else {\n        signal.addEventListener('abort', listener, {\n          __proto__: null,\n          once: true,\n          [kResistStopPropagation]: true\n        })\n        removeEventListener = () => {\n          signal.removeEventListener('abort', listener)\n        }\n      }\n      return {\n        __proto__: null,\n        [SymbolDispose]() {\n          var _removeEventListener\n          ;(_removeEventListener = removeEventListener) === null || _removeEventListener === undefined\n            ? undefined\n            : _removeEventListener()\n        }\n      }\n    },\n  AbortSignalAny:\n    AbortSignal.any ||\n    function AbortSignalAny(signals) {\n      // Fast path if there is only one signal.\n      if (signals.length === 1) {\n        return signals[0]\n      }\n      const ac = new AbortController()\n      const abort = () => ac.abort()\n      signals.forEach((signal) => {\n        validateAbortSignal(signal, 'signals')\n        signal.addEventListener('abort', abort, {\n          once: true\n        })\n      })\n      ac.signal.addEventListener(\n        'abort',\n        () => {\n          signals.forEach((signal) => signal.removeEventListener('abort', abort))\n        },\n        {\n          once: true\n        }\n      )\n      return ac.signal\n    }\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","/* replacement start */\n\nconst { Buffer } = require('buffer')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\nconst compose = require('./internal/streams/compose')\nconst { setDefaultHighWaterMark, getDefaultHighWaterMark } = require('./internal/streams/state')\nconst { pipeline } = require('./internal/streams/pipeline')\nconst { destroyer } = require('./internal/streams/destroy')\nconst eos = require('./internal/streams/end-of-stream')\nconst internalBuffer = {}\nconst promises = require('./stream/promises')\nconst utils = require('./internal/streams/utils')\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\nStream.isDestroyed = utils.isDestroyed\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.isWritable = utils.isWritable\nStream.Readable = require('./internal/streams/readable')\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return ReflectApply(op, this, args)\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nStream.setDefaultHighWaterMark = setDefaultHighWaterMark\nStream.getDefaultHighWaterMark = getDefaultHighWaterMark\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.finished\n  }\n})\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n","'use strict'\n\nmodule.exports = require('./index.js')()\n","'use strict'\nmodule.exports = rfdc\n\nfunction copyBuffer (cur) {\n  if (cur instanceof Buffer) {\n    return Buffer.from(cur)\n  }\n\n  return new cur.constructor(cur.buffer.slice(), cur.byteOffset, cur.length)\n}\n\nfunction rfdc (opts) {\n  opts = opts || {}\n  if (opts.circles) return rfdcCircles(opts)\n\n  const constructorHandlers = new Map()\n  constructorHandlers.set(Date, (o) => new Date(o))\n  constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)))\n  constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)))\n  if (opts.constructorHandlers) {\n    for (const handler of opts.constructorHandlers) {\n      constructorHandlers.set(handler[0], handler[1])\n    }\n  }\n\n  let handler = null\n\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    const keys = Object.keys(a)\n    const a2 = new Array(keys.length)\n    for (let i = 0; i < keys.length; i++) {\n      const k = keys[i]\n      const cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        a2[k] = handler(cur, fn)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        a2[k] = fn(cur)\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, clone)\n    }\n    const o2 = {}\n    for (const k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, clone)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = clone(cur)\n      }\n    }\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, cloneProto)\n    }\n    const o2 = {}\n    for (const k in o) {\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, cloneProto)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = cloneProto(cur)\n      }\n    }\n    return o2\n  }\n}\n\nfunction rfdcCircles (opts) {\n  const refs = []\n  const refsNew = []\n\n  const constructorHandlers = new Map()\n  constructorHandlers.set(Date, (o) => new Date(o))\n  constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)))\n  constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)))\n  if (opts.constructorHandlers) {\n    for (const handler of opts.constructorHandlers) {\n      constructorHandlers.set(handler[0], handler[1])\n    }\n  }\n\n  let handler = null\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    const keys = Object.keys(a)\n    const a2 = new Array(keys.length)\n    for (let i = 0; i < keys.length; i++) {\n      const k = keys[i]\n      const cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        a2[k] = handler(cur, fn)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        const index = refs.indexOf(cur)\n        if (index !== -1) {\n          a2[k] = refsNew[index]\n        } else {\n          a2[k] = fn(cur)\n        }\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, clone)\n    }\n    const o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (const k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, clone)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        const i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = clone(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, cloneProto)\n    }\n    const o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (const k in o) {\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, cloneProto)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        const i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = cloneProto(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n}\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","export const createAddUniqueNumber = (generateUniqueNumber) => {\n    return (set) => {\n        const number = generateUniqueNumber(set);\n        set.add(number);\n        return number;\n    };\n};\n//# sourceMappingURL=add-unique-number.js.map","/*\n * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n * is fairly new.\n */\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\nconst TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\nconst TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\nexport const createGenerateUniqueNumber = (cache, lastNumberWeakMap) => {\n    return (collection) => {\n        const lastNumber = lastNumberWeakMap.get(collection);\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        let nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n        if (!collection.has(nextNumber)) {\n            return cache(collection, nextNumber);\n        }\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n            while (collection.has(nextNumber)) {\n                nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n            }\n            return cache(collection, nextNumber);\n        }\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n            throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n        return cache(collection, nextNumber);\n    };\n};\n//# sourceMappingURL=generate-unique-number.js.map","import { createAddUniqueNumber } from './factories/add-unique-number';\nimport { createCache } from './factories/cache';\nimport { createGenerateUniqueNumber } from './factories/generate-unique-number';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './types/index';\nconst LAST_NUMBER_WEAK_MAP = new WeakMap();\nconst cache = createCache(LAST_NUMBER_WEAK_MAP);\nconst generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\nconst addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\nexport { addUniqueNumber, generateUniqueNumber };\n//# sourceMappingURL=module.js.map","export const createCache = (lastNumberWeakMap) => {\n    return (collection, nextNumber) => {\n        lastNumberWeakMap.set(collection, nextNumber);\n        return nextNumber;\n    };\n};\n//# sourceMappingURL=cache.js.map","import { load } from 'worker-timers-broker';\nimport { createLoadOrReturnBroker } from './factories/load-or-return-broker';\nimport { worker } from './worker/worker';\nconst loadOrReturnBroker = createLoadOrReturnBroker(load, worker);\nexport const clearInterval = (timerId) => loadOrReturnBroker().clearInterval(timerId);\nexport const clearTimeout = (timerId) => loadOrReturnBroker().clearTimeout(timerId);\nexport const setInterval = (...args) => loadOrReturnBroker().setInterval(...args);\nexport const setTimeout = (...args) => loadOrReturnBroker().setTimeout(...args);\n//# sourceMappingURL=module.js.map","export const createLoadOrReturnBroker = (loadBroker, worker) => {\n    let broker = null;\n    return () => {\n        if (broker !== null) {\n            return broker;\n        }\n        const blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n        const url = URL.createObjectURL(blob);\n        broker = loadBroker(url);\n        // Bug #1: Edge up until v18 didn't like the URL to be revoked directly.\n        setTimeout(() => URL.revokeObjectURL(url));\n        return broker;\n    };\n};\n//# sourceMappingURL=load-or-return-broker.js.map","import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { isCallNotification } from './guards/call-notification';\nimport { isClearResponse } from './guards/clear-response';\nexport const load = (url) => {\n    // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\n    const scheduledIntervalFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const scheduledTimeoutFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const unrespondedRequests = new Map();\n    const worker = new Worker(url);\n    worker.addEventListener('message', ({ data }) => {\n        if (isCallNotification(data)) {\n            const { params: { timerId, timerType } } = data;\n            if (timerType === 'interval') {\n                const idOrFunc = scheduledIntervalFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n            else if (timerType === 'timeout') {\n                const idOrFunc = scheduledTimeoutFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                    // A timeout can be savely deleted because it is only called once.\n                    scheduledTimeoutFunctions.delete(timerId);\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n        }\n        else if (isClearResponse(data)) {\n            const { id } = data;\n            const timerIdAndTimerType = unrespondedRequests.get(id);\n            if (timerIdAndTimerType === undefined) {\n                throw new Error('The timer is in an undefined state.');\n            }\n            const { timerId, timerType } = timerIdAndTimerType;\n            unrespondedRequests.delete(id);\n            if (timerType === 'interval') {\n                scheduledIntervalFunctions.delete(timerId);\n            }\n            else {\n                scheduledTimeoutFunctions.delete(timerId);\n            }\n        }\n        else {\n            const { error: { message } } = data;\n            throw new Error(message);\n        }\n    });\n    const clearInterval = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'interval' });\n        scheduledIntervalFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'interval' }\n        });\n    };\n    const clearTimeout = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'timeout' });\n        scheduledTimeoutFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'timeout' }\n        });\n    };\n    const setInterval = (func, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledIntervalFunctions);\n        scheduledIntervalFunctions.set(timerId, () => {\n            func();\n            // Doublecheck if the interval should still be rescheduled because it could have been cleared inside of func().\n            if (typeof scheduledIntervalFunctions.get(timerId) === 'function') {\n                worker.postMessage({\n                    id: null,\n                    method: 'set',\n                    params: {\n                        delay,\n                        now: performance.now(),\n                        timerId,\n                        timerType: 'interval'\n                    }\n                });\n            }\n        });\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'interval'\n            }\n        });\n        return timerId;\n    };\n    const setTimeout = (func, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledTimeoutFunctions);\n        scheduledTimeoutFunctions.set(timerId, func);\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'timeout'\n            }\n        });\n        return timerId;\n    };\n    return {\n        clearInterval,\n        clearTimeout,\n        setInterval,\n        setTimeout\n    };\n};\n//# sourceMappingURL=module.js.map","export const isCallNotification = (message) => {\n    return message.method !== undefined && message.method === 'call';\n};\n//# sourceMappingURL=call-notification.js.map","export const isClearResponse = (message) => {\n    return message.error === null && typeof message.id === 'number';\n};\n//# sourceMappingURL=clear-response.js.map","// This is the minified and stringified code of the worker-timers-worker package.\nexport const worker = `(()=>{\"use strict\";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:\"call\",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener(\"message\",(i=>{let{data:s}=i;try{if(\"clear\"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if(\"interval\"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id \"'.concat(t,'\".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if(\"timeout\"!==i)throw new Error('The given type \"'.concat(i,'\" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if(\"set\"!==s.method)throw new Error('The given method \"'.concat(s.method,'\" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if(\"interval\"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,\"interval\"))})(i,a,n);else{if(\"timeout\"!==d)throw new Error('The given type \"'.concat(d,'\" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,\"timeout\"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`; // tslint:disable-line:max-line-length\n//# sourceMappingURL=worker.js.map","'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.createWebSocketStream = require('./lib/stream');\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nWebSocket.WebSocket = WebSocket;\nWebSocket.WebSocketServer = WebSocket.Server;\n\nmodule.exports = WebSocket;\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nconst hasBlob = typeof Blob !== 'undefined';\n\nif (hasBlob) BINARY_TYPES.push('blob');\n\nmodule.exports = {\n  BINARY_TYPES,\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  hasBlob,\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\nconst DEFER_EVENT = 6;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._allowSynchronousEvents =\n      options.allowSynchronousEvents !== undefined\n        ? options.allowSynchronousEvents\n        : true;\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._errored = false;\n    this._loop = false;\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64(cb);\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData(cb);\n          break;\n        case INFLATING:\n        case DEFER_EVENT:\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    if (!this._errored) cb();\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getInfo(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      const error = this.createError(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n\n      cb(error);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      const error = this.createError(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (!this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        const error = this.createError(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        const error = this.createError(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    } else {\n      const error = this.createError(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        const error = this.createError(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n\n        cb(error);\n        return;\n      }\n    } else if (this._masked) {\n      const error = this.createError(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength16(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength64(cb) {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      const error = this.createError(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  haveLength(cb) {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        const error = this.createError(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data, cb);\n      return;\n    }\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    this.dataMessage(cb);\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          const error = this.createError(\n            RangeError,\n            'Max payload size exceeded',\n            false,\n            1009,\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._fragments.push(buf);\n      }\n\n      this.dataMessage(cb);\n      if (this._state === GET_INFO) this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  dataMessage(cb) {\n    if (!this._fin) {\n      this._state = GET_INFO;\n      return;\n    }\n\n    const messageLength = this._messageLength;\n    const fragments = this._fragments;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragmented = 0;\n    this._fragments = [];\n\n    if (this._opcode === 2) {\n      let data;\n\n      if (this._binaryType === 'nodebuffer') {\n        data = concat(fragments, messageLength);\n      } else if (this._binaryType === 'arraybuffer') {\n        data = toArrayBuffer(concat(fragments, messageLength));\n      } else if (this._binaryType === 'blob') {\n        data = new Blob(fragments);\n      } else {\n        data = fragments;\n      }\n\n      if (this._allowSynchronousEvents) {\n        this.emit('message', data, true);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', data, true);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    } else {\n      const buf = concat(fragments, messageLength);\n\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n        const error = this.createError(\n          Error,\n          'invalid UTF-8 sequence',\n          true,\n          1007,\n          'WS_ERR_INVALID_UTF8'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\n        this.emit('message', buf, false);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', buf, false);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data, cb) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this._loop = false;\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          const error = this.createError(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n\n          cb(error);\n          return;\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          const error = this.createError(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._loop = false;\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n\n      this._state = GET_INFO;\n      return;\n    }\n\n    if (this._allowSynchronousEvents) {\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n      this._state = GET_INFO;\n    } else {\n      this._state = DEFER_EVENT;\n      setImmediate(() => {\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n        this._state = GET_INFO;\n        this.startLoop(cb);\n      });\n    }\n  }\n\n  /**\n   * Builds an error object.\n   *\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n   * @param {String} message The error message\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n   *     `message`\n   * @param {Number} statusCode The status code\n   * @param {String} errorCode The exposed error code\n   * @return {(Error|RangeError)} The error\n   * @private\n   */\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n    this._loop = false;\n    this._errored = true;\n\n    const err = new ErrorCtor(\n      prefix ? `Invalid WebSocket frame: ${message}` : message\n    );\n\n    Error.captureStackTrace(err, this.createError);\n    err.code = errorCode;\n    err[kStatusCode] = statusCode;\n    return err;\n  }\n}\n\nmodule.exports = Receiver;\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\n'use strict';\n\nconst { Duplex } = require('stream');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER, kWebSocket, NOOP } = require('./constants');\nconst { isBlob, isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\nconst RANDOM_POOL_SIZE = 8 * 1024;\nlet randomPool;\nlet randomPoolPointer = RANDOM_POOL_SIZE;\n\nconst DEFAULT = 0;\nconst DEFLATING = 1;\nconst GET_BLOB_DATA = 2;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {Duplex} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._queue = [];\n    this._state = DEFAULT;\n    this.onerror = NOOP;\n    this[kWebSocket] = undefined;\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n          /* istanbul ignore else  */\n          if (randomPool === undefined) {\n            //\n            // This is lazily initialized because server-sent frames must not\n            // be masked so it may never be used.\n            //\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n          }\n\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n          randomPoolPointer = 0;\n        }\n\n        mask[0] = randomPool[randomPoolPointer++];\n        mask[1] = randomPool[randomPoolPointer++];\n        mask[2] = randomPool[randomPoolPointer++];\n        mask[3] = randomPool[randomPoolPointer++];\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    const opts = {\n      [kByteLength]: byteLength,\n      fin: options.fin,\n      generateMask: this._generateMask,\n      mask: options.mask,\n      maskBuffer: this._maskBuffer,\n      opcode,\n      readOnly,\n      rsv1\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n      } else {\n        this.getBlobData(data, this._compress, opts, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n    } else {\n      this.dispatch(data, this._compress, opts, cb);\n    }\n  }\n\n  /**\n   * Gets the contents of a blob as binary data.\n   *\n   * @param {Blob} blob The blob\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     the data\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  getBlobData(blob, compress, options, cb) {\n    this._bufferedBytes += options[kByteLength];\n    this._state = GET_BLOB_DATA;\n\n    blob\n      .arrayBuffer()\n      .then((arrayBuffer) => {\n        if (this._socket.destroyed) {\n          const err = new Error(\n            'The socket was closed while the blob was being read'\n          );\n\n          //\n          // `callCallbacks` is called in the next tick to ensure that errors\n          // that might be thrown in the callbacks behave like errors thrown\n          // outside the promise chain.\n          //\n          process.nextTick(callCallbacks, this, err, cb);\n          return;\n        }\n\n        this._bufferedBytes -= options[kByteLength];\n        const data = toBuffer(arrayBuffer);\n\n        if (!compress) {\n          this._state = DEFAULT;\n          this.sendFrame(Sender.frame(data, options), cb);\n          this.dequeue();\n        } else {\n          this.dispatch(data, compress, options, cb);\n        }\n      })\n      .catch((err) => {\n        //\n        // `onError` is called in the next tick for the same reason that\n        // `callCallbacks` above is.\n        //\n        process.nextTick(onError, this, err, cb);\n      });\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._state = DEFLATING;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        callCallbacks(this, err, cb);\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._state = DEFAULT;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (this._state === DEFAULT && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Calls queued callbacks with an error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error to call the callbacks with\n * @param {Function} [cb] The first callback\n * @private\n */\nfunction callCallbacks(sender, err, cb) {\n  if (typeof cb === 'function') cb(err);\n\n  for (let i = 0; i < sender._queue.length; i++) {\n    const params = sender._queue[i];\n    const callback = params[params.length - 1];\n\n    if (typeof callback === 'function') callback(err);\n  }\n}\n\n/**\n * Handles a `Sender` error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error\n * @param {Function} [cb] The first pending callback\n * @private\n */\nfunction onError(sender, err, cb) {\n  callCallbacks(sender, err, cb);\n  sender.onerror(err);\n}\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\nconst { isUtf8 } = require('buffer');\n\nconst { hasBlob } = require('./constants');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Determines whether a value is a `Blob`.\n *\n * @param {*} value The value to be tested\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n * @private\n */\nfunction isBlob(value) {\n  return (\n    hasBlob &&\n    typeof value === 'object' &&\n    typeof value.arrayBuffer === 'function' &&\n    typeof value.type === 'string' &&\n    typeof value.stream === 'function' &&\n    (value[Symbol.toStringTag] === 'Blob' ||\n      value[Symbol.toStringTag] === 'File')\n  );\n}\n\nmodule.exports = {\n  isBlob,\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst { Duplex } = require('stream');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n   *     automatically send a pong in response to a ping\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      allowSynchronousEvents: true,\n      autoPong: true,\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (key === undefined || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Duplex, Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst { isBlob } = require('./validation');\n\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._errorEmitted = false;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._autoPong = options.autoPong;\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n   * instead of \"blob\".\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      allowSynchronousEvents: options.allowSynchronousEvents,\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n    this._receiver = receiver;\n    this._sender = sender;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    sender[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    sender.onerror = senderOnError;\n\n    //\n    // These methods may not be available if `socket` is just a `Duplex`.\n    //\n    if (socket.setTimeout) socket.setTimeout(0);\n    if (socket.setNoDelay) socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    setCloseTimer(this);\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n *     times in the same tick\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n *     automatically send a pong in response to a ping\n * @param {Function} [options.finishRequest] A function which can be used to\n *     customize the headers of each http request before it is sent\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    allowSynchronousEvents: true,\n    autoPong: true,\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  websocket._autoPong = opts.autoPong;\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n  }\n\n  if (parsedUrl.protocol === 'http:') {\n    parsedUrl.protocol = 'ws:';\n  } else if (parsedUrl.protocol === 'https:') {\n    parsedUrl.protocol = 'wss:';\n  }\n\n  websocket._url = parsedUrl.href;\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n      '\"http:\", \"https\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection =\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n          ? false\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      allowSynchronousEvents: opts.allowSynchronousEvents,\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  //\n  // The following assignment is practically useless and is done only for\n  // consistency.\n  //\n  websocket._errorEmitted = true;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The `Sender` error event handler.\n *\n * @param {Error} The error\n * @private\n */\nfunction senderOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket.readyState === WebSocket.CLOSED) return;\n  if (websocket.readyState === WebSocket.OPEN) {\n    websocket._readyState = WebSocket.CLOSING;\n    setCloseTimer(websocket);\n  }\n\n  //\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n  // peer to finish sending queued data. There is no need to set a timer here\n  // because `CLOSING` means that it is already set or not needed.\n  //\n  this._socket.end();\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * Set a timer to destroy the underlying raw socket of a WebSocket.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @private\n */\nfunction setCloseTimer(websocket) {\n  websocket._closeTimer = setTimeout(\n    websocket._socket.destroy.bind(websocket._socket),\n    closeTimeout\n  );\n}\n\n/**\n * The listener of the socket `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the socket `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the socket `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the socket `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","module.exports = require(\"assert\");","module.exports = require(\"buffer\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"string_decoder\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","// Axios v1.7.9 Copyright (c) 2024 Matt Zabriskie and contributors\n'use strict';\n\nconst FormData$1 = require('form-data');\nconst url = require('url');\nconst proxyFromEnv = require('proxy-from-env');\nconst http = require('http');\nconst https = require('https');\nconst util = require('util');\nconst followRedirects = require('follow-redirects');\nconst zlib = require('zlib');\nconst stream = require('stream');\nconst events = require('events');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nconst FormData__default = /*#__PURE__*/_interopDefaultLegacy(FormData$1);\nconst url__default = /*#__PURE__*/_interopDefaultLegacy(url);\nconst proxyFromEnv__default = /*#__PURE__*/_interopDefaultLegacy(proxyFromEnv);\nconst http__default = /*#__PURE__*/_interopDefaultLegacy(http);\nconst https__default = /*#__PURE__*/_interopDefaultLegacy(https);\nconst util__default = /*#__PURE__*/_interopDefaultLegacy(util);\nconst followRedirects__default = /*#__PURE__*/_interopDefaultLegacy(followRedirects);\nconst zlib__default = /*#__PURE__*/_interopDefaultLegacy(zlib);\nconst stream__default = /*#__PURE__*/_interopDefaultLegacy(stream);\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0];\n  }\n\n  return str;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nconst utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData__default[\"default\"] || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils$1.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nconst InterceptorManager$1 = InterceptorManager;\n\nconst transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nconst URLSearchParams = url__default[\"default\"].URLSearchParams;\n\nconst platform$1 = {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData: FormData__default[\"default\"],\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nconst utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nconst platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nconst defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nconst parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nconst AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst VERSION = \"1.7.9\";\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nfunction fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream__default[\"default\"].Transform{\n  constructor(options) {\n    options = utils$1.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils$1.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    };\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nconst AxiosTransformStream$1 = AxiosTransformStream;\n\nconst {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream();\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer();\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n};\n\nconst readBlob$1 = readBlob;\n\nconst BOUNDARY_ALPHABET = utils$1.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = typeof TextEncoder === 'function' ? new TextEncoder() : new util__default[\"default\"].TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils$1.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`;\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils$1.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob$1(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + utils$1.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils$1.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils$1.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  };\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return stream.Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nconst formDataToStream$1 = formDataToStream;\n\nclass ZlibHeaderTransformStream extends stream__default[\"default\"].Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nconst ZlibHeaderTransformStream$1 = ZlibHeaderTransformStream;\n\nconst callbackify = (fn, reducer) => {\n  return utils$1.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n};\n\nconst callbackify$1 = callbackify;\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\nconst zlibOptions = {\n  flush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH\n};\n\nconst isBrotliSupported = utils$1.isFunction(zlib__default[\"default\"].createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects__default[\"default\"];\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\nconst flushOnFinish = (stream, [throttled, flush]) => {\n  stream\n    .on('end', flush)\n    .on('error', flush);\n\n  return throttled;\n};\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options, responseDetails) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options, responseDetails);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = proxyFromEnv__default[\"default\"].getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils$1.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    };\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    };\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\nconst resolveFamily = ({address, family}) => {\n  if (!utils$1.isString(address)) {\n    throw TypeError('address must be a string');\n  }\n  return ({\n    address,\n    family: family || (address.indexOf('.') < 0 ? 6 : 4)\n  });\n};\n\nconst buildAddressEntry = (address, family) => resolveFamily(utils$1.isObject(address) ? address : {address, family});\n\n/*eslint consistent-return:0*/\nconst httpAdapter = isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup) {\n      const _lookup = callbackify$1(lookup, (value) => utils$1.isArray(value) ? value : [value]);\n      // hotfix to support opt.all option which is required for node 20.x\n      lookup = (hostname, opt, cb) => {\n        _lookup(hostname, opt, (err, arg0, arg1) => {\n          if (err) {\n            return cb(err);\n          }\n\n          const addresses = utils$1.isArray(arg0) ? arg0.map(addr => buildAddressEntry(addr)) : [buildAddressEntry(arg0, arg1)];\n\n          opt.all ? cb(err, addresses) : cb(err, addresses[0].address, addresses[0].family);\n        });\n      };\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new events.EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    };\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    const parsed = new URL(fullPath, platform.hasBrowserEnv ? platform.origin : undefined);\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils$1.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream__default[\"default\"].Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders$1(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders$1.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const {onUploadProgress, onDownloadProgress} = config;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils$1.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream$1(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils$1.isFormData(data) && utils$1.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util__default[\"default\"].promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils$1.isBlob(data) || utils$1.isFile(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream__default[\"default\"].Readable.from(readBlob$1(data));\n    } else if (data && !utils$1.isStream(data)) {\n      if (Buffer.isBuffer(data)) ; else if (utils$1.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils$1.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils$1.toFiniteNumber(headers.getContentLength());\n\n    if (utils$1.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils$1.isStream(data)) {\n        data = stream__default[\"default\"].Readable.from(data, {objectMode: false});\n      }\n\n      data = stream__default[\"default\"].pipeline([data, new AxiosTransformStream$1({\n        maxRate: utils$1.toFiniteNumber(maxUploadRate)\n      })], utils$1.noop);\n\n      onUploadProgress && data.on('progress', flushOnFinish(\n        data,\n        progressEventDecorator(\n          contentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress), false, 3)\n        )\n      ));\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    // cacheable-lookup integration hotfix\n    !utils$1.isUndefined(lookup) && (options.lookup = lookup);\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https__default[\"default\"] : http__default[\"default\"];\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress || maxDownloadRate) {\n        const transformStream = new AxiosTransformStream$1({\n          maxRate: utils$1.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n          transformStream,\n          progressEventDecorator(\n            responseLength,\n            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n          )\n        ));\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream$1());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib__default[\"default\"].createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream__default[\"default\"].pipeline(streams, utils$1.noop) : streams[0];\n\n      const offListeners = stream__default[\"default\"].finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders$1(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'stream has been aborted',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils$1.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            return reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (Number.isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils$1.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n\nconst isURLSameOrigin = platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n\nconst cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nconst resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nconst xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nconst composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils$1.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nconst fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nconst adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators$1.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nconst validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nconst Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nconst CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nconst HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","\"use strict\";\n/**\n * @module LRUCache\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = void 0;\nconst perf = typeof performance === 'object' &&\n    performance &&\n    typeof performance.now === 'function'\n    ? performance\n    : Date;\nconst warned = new Set();\n/* c8 ignore start */\nconst PROCESS = (typeof process === 'object' && !!process ? process : {});\n/* c8 ignore start */\nconst emitWarning = (msg, type, code, fn) => {\n    typeof PROCESS.emitWarning === 'function'\n        ? PROCESS.emitWarning(msg, type, code, fn)\n        : console.error(`[${code}] ${type}: ${msg}`);\n};\nlet AC = globalThis.AbortController;\nlet AS = globalThis.AbortSignal;\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n    //@ts-ignore\n    AS = class AbortSignal {\n        onabort;\n        _onabort = [];\n        reason;\n        aborted = false;\n        addEventListener(_, fn) {\n            this._onabort.push(fn);\n        }\n    };\n    //@ts-ignore\n    AC = class AbortController {\n        constructor() {\n            warnACPolyfill();\n        }\n        signal = new AS();\n        abort(reason) {\n            if (this.signal.aborted)\n                return;\n            //@ts-ignore\n            this.signal.reason = reason;\n            //@ts-ignore\n            this.signal.aborted = true;\n            //@ts-ignore\n            for (const fn of this.signal._onabort) {\n                fn(reason);\n            }\n            this.signal.onabort?.(reason);\n        }\n    };\n    let printACPolyfillWarning = PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1';\n    const warnACPolyfill = () => {\n        if (!printACPolyfillWarning)\n            return;\n        printACPolyfillWarning = false;\n        emitWarning('AbortController is not defined. If using lru-cache in ' +\n            'node 14, load an AbortController polyfill from the ' +\n            '`node-abort-controller` package. A minimal polyfill is ' +\n            'provided for use by LRUCache.fetch(), but it should not be ' +\n            'relied upon in other contexts (eg, passing it to other APIs that ' +\n            'use AbortController/AbortSignal might have undesirable effects). ' +\n            'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.', 'NO_ABORT_CONTROLLER', 'ENOTSUP', warnACPolyfill);\n    };\n}\n/* c8 ignore stop */\nconst shouldWarn = (code) => !warned.has(code);\nconst TYPE = Symbol('type');\nconst isPosInt = (n) => n && n === Math.floor(n) && n > 0 && isFinite(n);\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max) => !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n        ? Uint8Array\n        : max <= Math.pow(2, 16)\n            ? Uint16Array\n            : max <= Math.pow(2, 32)\n                ? Uint32Array\n                : max <= Number.MAX_SAFE_INTEGER\n                    ? ZeroArray\n                    : null;\n/* c8 ignore stop */\nclass ZeroArray extends Array {\n    constructor(size) {\n        super(size);\n        this.fill(0);\n    }\n}\nclass Stack {\n    heap;\n    length;\n    // private constructor\n    static #constructing = false;\n    static create(max) {\n        const HeapCls = getUintArray(max);\n        if (!HeapCls)\n            return [];\n        Stack.#constructing = true;\n        const s = new Stack(max, HeapCls);\n        Stack.#constructing = false;\n        return s;\n    }\n    constructor(max, HeapCls) {\n        /* c8 ignore start */\n        if (!Stack.#constructing) {\n            throw new TypeError('instantiate Stack using Stack.create(n)');\n        }\n        /* c8 ignore stop */\n        this.heap = new HeapCls(max);\n        this.length = 0;\n    }\n    push(n) {\n        this.heap[this.length++] = n;\n    }\n    pop() {\n        return this.heap[--this.length];\n    }\n}\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nclass LRUCache {\n    // options that cannot be changed without disaster\n    #max;\n    #maxSize;\n    #dispose;\n    #disposeAfter;\n    #fetchMethod;\n    #memoMethod;\n    /**\n     * {@link LRUCache.OptionsBase.ttl}\n     */\n    ttl;\n    /**\n     * {@link LRUCache.OptionsBase.ttlResolution}\n     */\n    ttlResolution;\n    /**\n     * {@link LRUCache.OptionsBase.ttlAutopurge}\n     */\n    ttlAutopurge;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnGet}\n     */\n    updateAgeOnGet;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnHas}\n     */\n    updateAgeOnHas;\n    /**\n     * {@link LRUCache.OptionsBase.allowStale}\n     */\n    allowStale;\n    /**\n     * {@link LRUCache.OptionsBase.noDisposeOnSet}\n     */\n    noDisposeOnSet;\n    /**\n     * {@link LRUCache.OptionsBase.noUpdateTTL}\n     */\n    noUpdateTTL;\n    /**\n     * {@link LRUCache.OptionsBase.maxEntrySize}\n     */\n    maxEntrySize;\n    /**\n     * {@link LRUCache.OptionsBase.sizeCalculation}\n     */\n    sizeCalculation;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n     */\n    noDeleteOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n     */\n    noDeleteOnStaleGet;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n     */\n    allowStaleOnFetchAbort;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n     */\n    allowStaleOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n     */\n    ignoreFetchAbort;\n    // computed properties\n    #size;\n    #calculatedSize;\n    #keyMap;\n    #keyList;\n    #valList;\n    #next;\n    #prev;\n    #head;\n    #tail;\n    #free;\n    #disposed;\n    #sizes;\n    #starts;\n    #ttls;\n    #hasDispose;\n    #hasFetchMethod;\n    #hasDisposeAfter;\n    /**\n     * Do not call this method unless you need to inspect the\n     * inner workings of the cache.  If anything returned by this\n     * object is modified in any way, strange breakage may occur.\n     *\n     * These fields are private for a reason!\n     *\n     * @internal\n     */\n    static unsafeExposeInternals(c) {\n        return {\n            // properties\n            starts: c.#starts,\n            ttls: c.#ttls,\n            sizes: c.#sizes,\n            keyMap: c.#keyMap,\n            keyList: c.#keyList,\n            valList: c.#valList,\n            next: c.#next,\n            prev: c.#prev,\n            get head() {\n                return c.#head;\n            },\n            get tail() {\n                return c.#tail;\n            },\n            free: c.#free,\n            // methods\n            isBackgroundFetch: (p) => c.#isBackgroundFetch(p),\n            backgroundFetch: (k, index, options, context) => c.#backgroundFetch(k, index, options, context),\n            moveToTail: (index) => c.#moveToTail(index),\n            indexes: (options) => c.#indexes(options),\n            rindexes: (options) => c.#rindexes(options),\n            isStale: (index) => c.#isStale(index),\n        };\n    }\n    // Protected read-only members\n    /**\n     * {@link LRUCache.OptionsBase.max} (read-only)\n     */\n    get max() {\n        return this.#max;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.maxSize} (read-only)\n     */\n    get maxSize() {\n        return this.#maxSize;\n    }\n    /**\n     * The total computed size of items in the cache (read-only)\n     */\n    get calculatedSize() {\n        return this.#calculatedSize;\n    }\n    /**\n     * The number of items stored in the cache (read-only)\n     */\n    get size() {\n        return this.#size;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n     */\n    get fetchMethod() {\n        return this.#fetchMethod;\n    }\n    get memoMethod() {\n        return this.#memoMethod;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.dispose} (read-only)\n     */\n    get dispose() {\n        return this.#dispose;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n     */\n    get disposeAfter() {\n        return this.#disposeAfter;\n    }\n    constructor(options) {\n        const { max = 0, ttl, ttlResolution = 1, ttlAutopurge, updateAgeOnGet, updateAgeOnHas, allowStale, dispose, disposeAfter, noDisposeOnSet, noUpdateTTL, maxSize = 0, maxEntrySize = 0, sizeCalculation, fetchMethod, memoMethod, noDeleteOnFetchRejection, noDeleteOnStaleGet, allowStaleOnFetchRejection, allowStaleOnFetchAbort, ignoreFetchAbort, } = options;\n        if (max !== 0 && !isPosInt(max)) {\n            throw new TypeError('max option must be a nonnegative integer');\n        }\n        const UintArray = max ? getUintArray(max) : Array;\n        if (!UintArray) {\n            throw new Error('invalid max value: ' + max);\n        }\n        this.#max = max;\n        this.#maxSize = maxSize;\n        this.maxEntrySize = maxEntrySize || this.#maxSize;\n        this.sizeCalculation = sizeCalculation;\n        if (this.sizeCalculation) {\n            if (!this.#maxSize && !this.maxEntrySize) {\n                throw new TypeError('cannot set sizeCalculation without setting maxSize or maxEntrySize');\n            }\n            if (typeof this.sizeCalculation !== 'function') {\n                throw new TypeError('sizeCalculation set to non-function');\n            }\n        }\n        if (memoMethod !== undefined &&\n            typeof memoMethod !== 'function') {\n            throw new TypeError('memoMethod must be a function if defined');\n        }\n        this.#memoMethod = memoMethod;\n        if (fetchMethod !== undefined &&\n            typeof fetchMethod !== 'function') {\n            throw new TypeError('fetchMethod must be a function if specified');\n        }\n        this.#fetchMethod = fetchMethod;\n        this.#hasFetchMethod = !!fetchMethod;\n        this.#keyMap = new Map();\n        this.#keyList = new Array(max).fill(undefined);\n        this.#valList = new Array(max).fill(undefined);\n        this.#next = new UintArray(max);\n        this.#prev = new UintArray(max);\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free = Stack.create(max);\n        this.#size = 0;\n        this.#calculatedSize = 0;\n        if (typeof dispose === 'function') {\n            this.#dispose = dispose;\n        }\n        if (typeof disposeAfter === 'function') {\n            this.#disposeAfter = disposeAfter;\n            this.#disposed = [];\n        }\n        else {\n            this.#disposeAfter = undefined;\n            this.#disposed = undefined;\n        }\n        this.#hasDispose = !!this.#dispose;\n        this.#hasDisposeAfter = !!this.#disposeAfter;\n        this.noDisposeOnSet = !!noDisposeOnSet;\n        this.noUpdateTTL = !!noUpdateTTL;\n        this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection;\n        this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection;\n        this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort;\n        this.ignoreFetchAbort = !!ignoreFetchAbort;\n        // NB: maxEntrySize is set to maxSize if it's set\n        if (this.maxEntrySize !== 0) {\n            if (this.#maxSize !== 0) {\n                if (!isPosInt(this.#maxSize)) {\n                    throw new TypeError('maxSize must be a positive integer if specified');\n                }\n            }\n            if (!isPosInt(this.maxEntrySize)) {\n                throw new TypeError('maxEntrySize must be a positive integer if specified');\n            }\n            this.#initializeSizeTracking();\n        }\n        this.allowStale = !!allowStale;\n        this.noDeleteOnStaleGet = !!noDeleteOnStaleGet;\n        this.updateAgeOnGet = !!updateAgeOnGet;\n        this.updateAgeOnHas = !!updateAgeOnHas;\n        this.ttlResolution =\n            isPosInt(ttlResolution) || ttlResolution === 0\n                ? ttlResolution\n                : 1;\n        this.ttlAutopurge = !!ttlAutopurge;\n        this.ttl = ttl || 0;\n        if (this.ttl) {\n            if (!isPosInt(this.ttl)) {\n                throw new TypeError('ttl must be a positive integer if specified');\n            }\n            this.#initializeTTLTracking();\n        }\n        // do not allow completely unbounded caches\n        if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n            throw new TypeError('At least one of max, maxSize, or ttl is required');\n        }\n        if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n            const code = 'LRU_CACHE_UNBOUNDED';\n            if (shouldWarn(code)) {\n                warned.add(code);\n                const msg = 'TTL caching without ttlAutopurge, max, or maxSize can ' +\n                    'result in unbounded memory consumption.';\n                emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache);\n            }\n        }\n    }\n    /**\n     * Return the number of ms left in the item's TTL. If item is not in cache,\n     * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n     */\n    getRemainingTTL(key) {\n        return this.#keyMap.has(key) ? Infinity : 0;\n    }\n    #initializeTTLTracking() {\n        const ttls = new ZeroArray(this.#max);\n        const starts = new ZeroArray(this.#max);\n        this.#ttls = ttls;\n        this.#starts = starts;\n        this.#setItemTTL = (index, ttl, start = perf.now()) => {\n            starts[index] = ttl !== 0 ? start : 0;\n            ttls[index] = ttl;\n            if (ttl !== 0 && this.ttlAutopurge) {\n                const t = setTimeout(() => {\n                    if (this.#isStale(index)) {\n                        this.#delete(this.#keyList[index], 'expire');\n                    }\n                }, ttl + 1);\n                // unref() not supported on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n        };\n        this.#updateItemAge = index => {\n            starts[index] = ttls[index] !== 0 ? perf.now() : 0;\n        };\n        this.#statusTTL = (status, index) => {\n            if (ttls[index]) {\n                const ttl = ttls[index];\n                const start = starts[index];\n                /* c8 ignore next */\n                if (!ttl || !start)\n                    return;\n                status.ttl = ttl;\n                status.start = start;\n                status.now = cachedNow || getNow();\n                const age = status.now - start;\n                status.remainingTTL = ttl - age;\n            }\n        };\n        // debounce calls to perf.now() to 1s so we're not hitting\n        // that costly call repeatedly.\n        let cachedNow = 0;\n        const getNow = () => {\n            const n = perf.now();\n            if (this.ttlResolution > 0) {\n                cachedNow = n;\n                const t = setTimeout(() => (cachedNow = 0), this.ttlResolution);\n                // not available on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n            return n;\n        };\n        this.getRemainingTTL = key => {\n            const index = this.#keyMap.get(key);\n            if (index === undefined) {\n                return 0;\n            }\n            const ttl = ttls[index];\n            const start = starts[index];\n            if (!ttl || !start) {\n                return Infinity;\n            }\n            const age = (cachedNow || getNow()) - start;\n            return ttl - age;\n        };\n        this.#isStale = index => {\n            const s = starts[index];\n            const t = ttls[index];\n            return !!t && !!s && (cachedNow || getNow()) - s > t;\n        };\n    }\n    // conditionally set private methods related to TTL\n    #updateItemAge = () => { };\n    #statusTTL = () => { };\n    #setItemTTL = () => { };\n    /* c8 ignore stop */\n    #isStale = () => false;\n    #initializeSizeTracking() {\n        const sizes = new ZeroArray(this.#max);\n        this.#calculatedSize = 0;\n        this.#sizes = sizes;\n        this.#removeItemSize = index => {\n            this.#calculatedSize -= sizes[index];\n            sizes[index] = 0;\n        };\n        this.#requireSize = (k, v, size, sizeCalculation) => {\n            // provisionally accept background fetches.\n            // actual value size will be checked when they return.\n            if (this.#isBackgroundFetch(v)) {\n                return 0;\n            }\n            if (!isPosInt(size)) {\n                if (sizeCalculation) {\n                    if (typeof sizeCalculation !== 'function') {\n                        throw new TypeError('sizeCalculation must be a function');\n                    }\n                    size = sizeCalculation(v, k);\n                    if (!isPosInt(size)) {\n                        throw new TypeError('sizeCalculation return invalid (expect positive integer)');\n                    }\n                }\n                else {\n                    throw new TypeError('invalid size value (must be positive integer). ' +\n                        'When maxSize or maxEntrySize is used, sizeCalculation ' +\n                        'or size must be set.');\n                }\n            }\n            return size;\n        };\n        this.#addItemSize = (index, size, status) => {\n            sizes[index] = size;\n            if (this.#maxSize) {\n                const maxSize = this.#maxSize - sizes[index];\n                while (this.#calculatedSize > maxSize) {\n                    this.#evict(true);\n                }\n            }\n            this.#calculatedSize += sizes[index];\n            if (status) {\n                status.entrySize = size;\n                status.totalCalculatedSize = this.#calculatedSize;\n            }\n        };\n    }\n    #removeItemSize = _i => { };\n    #addItemSize = (_i, _s, _st) => { };\n    #requireSize = (_k, _v, size, sizeCalculation) => {\n        if (size || sizeCalculation) {\n            throw new TypeError('cannot set size without setting maxSize or maxEntrySize on cache');\n        }\n        return 0;\n    };\n    *#indexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#tail; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#head) {\n                    break;\n                }\n                else {\n                    i = this.#prev[i];\n                }\n            }\n        }\n    }\n    *#rindexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#head; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#tail) {\n                    break;\n                }\n                else {\n                    i = this.#next[i];\n                }\n            }\n        }\n    }\n    #isValidIndex(index) {\n        return (index !== undefined &&\n            this.#keyMap.get(this.#keyList[index]) === index);\n    }\n    /**\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from most recently used to least recently used.\n     */\n    *entries() {\n        for (const i of this.#indexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.entries}\n     *\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from least recently used to most recently used.\n     */\n    *rentries() {\n        for (const i of this.#rindexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the keys in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *keys() {\n        for (const i of this.#indexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.keys}\n     *\n     * Return a generator yielding the keys in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rkeys() {\n        for (const i of this.#rindexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the values in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *values() {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.values}\n     *\n     * Return a generator yielding the values in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rvalues() {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Iterating over the cache itself yields the same results as\n     * {@link LRUCache.entries}\n     */\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    /**\n     * A String value that is used in the creation of the default string\n     * description of an object. Called by the built-in method\n     * `Object.prototype.toString`.\n     */\n    [Symbol.toStringTag] = 'LRUCache';\n    /**\n     * Find a value for which the supplied fn method returns a truthy value,\n     * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n     */\n    find(fn, getOptions = {}) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            if (fn(value, this.#keyList[i], this)) {\n                return this.get(this.#keyList[i], getOptions);\n            }\n        }\n    }\n    /**\n     * Call the supplied function on each item in the cache, in order from most\n     * recently used to least recently used.\n     *\n     * `fn` is called as `fn(value, key, cache)`.\n     *\n     * If `thisp` is provided, function will be called in the `this`-context of\n     * the provided object, or the cache if no `thisp` object is provided.\n     *\n     * Does not update age or recenty of use, or iterate over stale values.\n     */\n    forEach(fn, thisp = this) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * The same as {@link LRUCache.forEach} but items are iterated over in\n     * reverse order.  (ie, less recently used items are iterated over first.)\n     */\n    rforEach(fn, thisp = this) {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * Delete any stale entries. Returns true if anything was removed,\n     * false otherwise.\n     */\n    purgeStale() {\n        let deleted = false;\n        for (const i of this.#rindexes({ allowStale: true })) {\n            if (this.#isStale(i)) {\n                this.#delete(this.#keyList[i], 'expire');\n                deleted = true;\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Get the extended info about a given entry, to get its value, size, and\n     * TTL info simultaneously. Returns `undefined` if the key is not present.\n     *\n     * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n     * serialization, the `start` value is always the current timestamp, and the\n     * `ttl` is a calculated remaining time to live (negative if expired).\n     *\n     * Always returns stale values, if their info is found in the cache, so be\n     * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n     * if relevant.\n     */\n    info(key) {\n        const i = this.#keyMap.get(key);\n        if (i === undefined)\n            return undefined;\n        const v = this.#valList[i];\n        const value = this.#isBackgroundFetch(v)\n            ? v.__staleWhileFetching\n            : v;\n        if (value === undefined)\n            return undefined;\n        const entry = { value };\n        if (this.#ttls && this.#starts) {\n            const ttl = this.#ttls[i];\n            const start = this.#starts[i];\n            if (ttl && start) {\n                const remain = ttl - (perf.now() - start);\n                entry.ttl = remain;\n                entry.start = Date.now();\n            }\n        }\n        if (this.#sizes) {\n            entry.size = this.#sizes[i];\n        }\n        return entry;\n    }\n    /**\n     * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n     * passed to {@link LRLUCache#load}.\n     *\n     * The `start` fields are calculated relative to a portable `Date.now()`\n     * timestamp, even if `performance.now()` is available.\n     *\n     * Stale entries are always included in the `dump`, even if\n     * {@link LRUCache.OptionsBase.allowStale} is false.\n     *\n     * Note: this returns an actual array, not a generator, so it can be more\n     * easily passed around.\n     */\n    dump() {\n        const arr = [];\n        for (const i of this.#indexes({ allowStale: true })) {\n            const key = this.#keyList[i];\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined || key === undefined)\n                continue;\n            const entry = { value };\n            if (this.#ttls && this.#starts) {\n                entry.ttl = this.#ttls[i];\n                // always dump the start relative to a portable timestamp\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = perf.now() - this.#starts[i];\n                entry.start = Math.floor(Date.now() - age);\n            }\n            if (this.#sizes) {\n                entry.size = this.#sizes[i];\n            }\n            arr.unshift([key, entry]);\n        }\n        return arr;\n    }\n    /**\n     * Reset the cache and load in the items in entries in the order listed.\n     *\n     * The shape of the resulting cache may be different if the same options are\n     * not used in both caches.\n     *\n     * The `start` fields are assumed to be calculated relative to a portable\n     * `Date.now()` timestamp, even if `performance.now()` is available.\n     */\n    load(arr) {\n        this.clear();\n        for (const [key, entry] of arr) {\n            if (entry.start) {\n                // entry.start is a portable timestamp, but we may be using\n                // node's performance.now(), so calculate the offset, so that\n                // we get the intended remaining TTL, no matter how long it's\n                // been on ice.\n                //\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = Date.now() - entry.start;\n                entry.start = perf.now() - age;\n            }\n            this.set(key, entry.value, entry);\n        }\n    }\n    /**\n     * Add a value to the cache.\n     *\n     * Note: if `undefined` is specified as a value, this is an alias for\n     * {@link LRUCache#delete}\n     *\n     * Fields on the {@link LRUCache.SetOptions} options param will override\n     * their corresponding values in the constructor options for the scope\n     * of this single `set()` operation.\n     *\n     * If `start` is provided, then that will set the effective start\n     * time for the TTL calculation. Note that this must be a previous\n     * value of `performance.now()` if supported, or a previous value of\n     * `Date.now()` if not.\n     *\n     * Options object may also include `size`, which will prevent\n     * calling the `sizeCalculation` function and just use the specified\n     * number if it is a positive integer, and `noDisposeOnSet` which\n     * will prevent calling a `dispose` function in the case of\n     * overwrites.\n     *\n     * If the `size` (or return value of `sizeCalculation`) for a given\n     * entry is greater than `maxEntrySize`, then the item will not be\n     * added to the cache.\n     *\n     * Will update the recency of the entry.\n     *\n     * If the value is `undefined`, then this is an alias for\n     * `cache.delete(key)`. `undefined` is never stored in the cache.\n     */\n    set(k, v, setOptions = {}) {\n        if (v === undefined) {\n            this.delete(k);\n            return this;\n        }\n        const { ttl = this.ttl, start, noDisposeOnSet = this.noDisposeOnSet, sizeCalculation = this.sizeCalculation, status, } = setOptions;\n        let { noUpdateTTL = this.noUpdateTTL } = setOptions;\n        const size = this.#requireSize(k, v, setOptions.size || 0, sizeCalculation);\n        // if the item doesn't fit, don't do anything\n        // NB: maxEntrySize set to maxSize by default\n        if (this.maxEntrySize && size > this.maxEntrySize) {\n            if (status) {\n                status.set = 'miss';\n                status.maxEntrySizeExceeded = true;\n            }\n            // have to delete, in case something is there already.\n            this.#delete(k, 'set');\n            return this;\n        }\n        let index = this.#size === 0 ? undefined : this.#keyMap.get(k);\n        if (index === undefined) {\n            // addition\n            index = (this.#size === 0\n                ? this.#tail\n                : this.#free.length !== 0\n                    ? this.#free.pop()\n                    : this.#size === this.#max\n                        ? this.#evict(false)\n                        : this.#size);\n            this.#keyList[index] = k;\n            this.#valList[index] = v;\n            this.#keyMap.set(k, index);\n            this.#next[this.#tail] = index;\n            this.#prev[index] = this.#tail;\n            this.#tail = index;\n            this.#size++;\n            this.#addItemSize(index, size, status);\n            if (status)\n                status.set = 'add';\n            noUpdateTTL = false;\n        }\n        else {\n            // update\n            this.#moveToTail(index);\n            const oldVal = this.#valList[index];\n            if (v !== oldVal) {\n                if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n                    oldVal.__abortController.abort(new Error('replaced'));\n                    const { __staleWhileFetching: s } = oldVal;\n                    if (s !== undefined && !noDisposeOnSet) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(s, k, 'set');\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([s, k, 'set']);\n                        }\n                    }\n                }\n                else if (!noDisposeOnSet) {\n                    if (this.#hasDispose) {\n                        this.#dispose?.(oldVal, k, 'set');\n                    }\n                    if (this.#hasDisposeAfter) {\n                        this.#disposed?.push([oldVal, k, 'set']);\n                    }\n                }\n                this.#removeItemSize(index);\n                this.#addItemSize(index, size, status);\n                this.#valList[index] = v;\n                if (status) {\n                    status.set = 'replace';\n                    const oldValue = oldVal && this.#isBackgroundFetch(oldVal)\n                        ? oldVal.__staleWhileFetching\n                        : oldVal;\n                    if (oldValue !== undefined)\n                        status.oldValue = oldValue;\n                }\n            }\n            else if (status) {\n                status.set = 'update';\n            }\n        }\n        if (ttl !== 0 && !this.#ttls) {\n            this.#initializeTTLTracking();\n        }\n        if (this.#ttls) {\n            if (!noUpdateTTL) {\n                this.#setItemTTL(index, ttl, start);\n            }\n            if (status)\n                this.#statusTTL(status, index);\n        }\n        if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return this;\n    }\n    /**\n     * Evict the least recently used item, returning its value or\n     * `undefined` if cache is empty.\n     */\n    pop() {\n        try {\n            while (this.#size) {\n                const val = this.#valList[this.#head];\n                this.#evict(true);\n                if (this.#isBackgroundFetch(val)) {\n                    if (val.__staleWhileFetching) {\n                        return val.__staleWhileFetching;\n                    }\n                }\n                else if (val !== undefined) {\n                    return val;\n                }\n            }\n        }\n        finally {\n            if (this.#hasDisposeAfter && this.#disposed) {\n                const dt = this.#disposed;\n                let task;\n                while ((task = dt?.shift())) {\n                    this.#disposeAfter?.(...task);\n                }\n            }\n        }\n    }\n    #evict(free) {\n        const head = this.#head;\n        const k = this.#keyList[head];\n        const v = this.#valList[head];\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('evicted'));\n        }\n        else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n                this.#dispose?.(v, k, 'evict');\n            }\n            if (this.#hasDisposeAfter) {\n                this.#disposed?.push([v, k, 'evict']);\n            }\n        }\n        this.#removeItemSize(head);\n        // if we aren't about to use the index, then null these out\n        if (free) {\n            this.#keyList[head] = undefined;\n            this.#valList[head] = undefined;\n            this.#free.push(head);\n        }\n        if (this.#size === 1) {\n            this.#head = this.#tail = 0;\n            this.#free.length = 0;\n        }\n        else {\n            this.#head = this.#next[head];\n        }\n        this.#keyMap.delete(k);\n        this.#size--;\n        return head;\n    }\n    /**\n     * Check if a key is in the cache, without updating the recency of use.\n     * Will return false if the item is stale, even though it is technically\n     * in the cache.\n     *\n     * Check if a key is in the cache, without updating the recency of\n     * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n     * to `true` in either the options or the constructor.\n     *\n     * Will return `false` if the item is stale, even though it is technically in\n     * the cache. The difference can be determined (if it matters) by using a\n     * `status` argument, and inspecting the `has` field.\n     *\n     * Will not update item age unless\n     * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n     */\n    has(k, hasOptions = {}) {\n        const { updateAgeOnHas = this.updateAgeOnHas, status } = hasOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v) &&\n                v.__staleWhileFetching === undefined) {\n                return false;\n            }\n            if (!this.#isStale(index)) {\n                if (updateAgeOnHas) {\n                    this.#updateItemAge(index);\n                }\n                if (status) {\n                    status.has = 'hit';\n                    this.#statusTTL(status, index);\n                }\n                return true;\n            }\n            else if (status) {\n                status.has = 'stale';\n                this.#statusTTL(status, index);\n            }\n        }\n        else if (status) {\n            status.has = 'miss';\n        }\n        return false;\n    }\n    /**\n     * Like {@link LRUCache#get} but doesn't update recency or delete stale\n     * items.\n     *\n     * Returns `undefined` if the item is stale, unless\n     * {@link LRUCache.OptionsBase.allowStale} is set.\n     */\n    peek(k, peekOptions = {}) {\n        const { allowStale = this.allowStale } = peekOptions;\n        const index = this.#keyMap.get(k);\n        if (index === undefined ||\n            (!allowStale && this.#isStale(index))) {\n            return;\n        }\n        const v = this.#valList[index];\n        // either stale and allowed, or forcing a refresh of non-stale value\n        return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n    }\n    #backgroundFetch(k, index, options, context) {\n        const v = index === undefined ? undefined : this.#valList[index];\n        if (this.#isBackgroundFetch(v)) {\n            return v;\n        }\n        const ac = new AC();\n        const { signal } = options;\n        // when/if our AC signals, then stop listening to theirs.\n        signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n            signal: ac.signal,\n        });\n        const fetchOpts = {\n            signal: ac.signal,\n            options,\n            context,\n        };\n        const cb = (v, updateCache = false) => {\n            const { aborted } = ac.signal;\n            const ignoreAbort = options.ignoreFetchAbort && v !== undefined;\n            if (options.status) {\n                if (aborted && !updateCache) {\n                    options.status.fetchAborted = true;\n                    options.status.fetchError = ac.signal.reason;\n                    if (ignoreAbort)\n                        options.status.fetchAbortIgnored = true;\n                }\n                else {\n                    options.status.fetchResolved = true;\n                }\n            }\n            if (aborted && !ignoreAbort && !updateCache) {\n                return fetchFail(ac.signal.reason);\n            }\n            // either we didn't abort, and are still here, or we did, and ignored\n            const bf = p;\n            if (this.#valList[index] === p) {\n                if (v === undefined) {\n                    if (bf.__staleWhileFetching) {\n                        this.#valList[index] = bf.__staleWhileFetching;\n                    }\n                    else {\n                        this.#delete(k, 'fetch');\n                    }\n                }\n                else {\n                    if (options.status)\n                        options.status.fetchUpdated = true;\n                    this.set(k, v, fetchOpts.options);\n                }\n            }\n            return v;\n        };\n        const eb = (er) => {\n            if (options.status) {\n                options.status.fetchRejected = true;\n                options.status.fetchError = er;\n            }\n            return fetchFail(er);\n        };\n        const fetchFail = (er) => {\n            const { aborted } = ac.signal;\n            const allowStaleAborted = aborted && options.allowStaleOnFetchAbort;\n            const allowStale = allowStaleAborted || options.allowStaleOnFetchRejection;\n            const noDelete = allowStale || options.noDeleteOnFetchRejection;\n            const bf = p;\n            if (this.#valList[index] === p) {\n                // if we allow stale on fetch rejections, then we need to ensure that\n                // the stale value is not removed from the cache when the fetch fails.\n                const del = !noDelete || bf.__staleWhileFetching === undefined;\n                if (del) {\n                    this.#delete(k, 'fetch');\n                }\n                else if (!allowStaleAborted) {\n                    // still replace the *promise* with the stale value,\n                    // since we are done with the promise at this point.\n                    // leave it untouched if we're still waiting for an\n                    // aborted background fetch that hasn't yet returned.\n                    this.#valList[index] = bf.__staleWhileFetching;\n                }\n            }\n            if (allowStale) {\n                if (options.status && bf.__staleWhileFetching !== undefined) {\n                    options.status.returnedStale = true;\n                }\n                return bf.__staleWhileFetching;\n            }\n            else if (bf.__returned === bf) {\n                throw er;\n            }\n        };\n        const pcall = (res, rej) => {\n            const fmp = this.#fetchMethod?.(k, v, fetchOpts);\n            if (fmp && fmp instanceof Promise) {\n                fmp.then(v => res(v === undefined ? undefined : v), rej);\n            }\n            // ignored, we go until we finish, regardless.\n            // defer check until we are actually aborting,\n            // so fetchMethod can override.\n            ac.signal.addEventListener('abort', () => {\n                if (!options.ignoreFetchAbort ||\n                    options.allowStaleOnFetchAbort) {\n                    res(undefined);\n                    // when it eventually resolves, update the cache.\n                    if (options.allowStaleOnFetchAbort) {\n                        res = v => cb(v, true);\n                    }\n                }\n            });\n        };\n        if (options.status)\n            options.status.fetchDispatched = true;\n        const p = new Promise(pcall).then(cb, eb);\n        const bf = Object.assign(p, {\n            __abortController: ac,\n            __staleWhileFetching: v,\n            __returned: undefined,\n        });\n        if (index === undefined) {\n            // internal, don't expose status.\n            this.set(k, bf, { ...fetchOpts.options, status: undefined });\n            index = this.#keyMap.get(k);\n        }\n        else {\n            this.#valList[index] = bf;\n        }\n        return bf;\n    }\n    #isBackgroundFetch(p) {\n        if (!this.#hasFetchMethod)\n            return false;\n        const b = p;\n        return (!!b &&\n            b instanceof Promise &&\n            b.hasOwnProperty('__staleWhileFetching') &&\n            b.__abortController instanceof AC);\n    }\n    async fetch(k, fetchOptions = {}) {\n        const { \n        // get options\n        allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, \n        // set options\n        ttl = this.ttl, noDisposeOnSet = this.noDisposeOnSet, size = 0, sizeCalculation = this.sizeCalculation, noUpdateTTL = this.noUpdateTTL, \n        // fetch exclusive options\n        noDeleteOnFetchRejection = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection = this.allowStaleOnFetchRejection, ignoreFetchAbort = this.ignoreFetchAbort, allowStaleOnFetchAbort = this.allowStaleOnFetchAbort, context, forceRefresh = false, status, signal, } = fetchOptions;\n        if (!this.#hasFetchMethod) {\n            if (status)\n                status.fetch = 'get';\n            return this.get(k, {\n                allowStale,\n                updateAgeOnGet,\n                noDeleteOnStaleGet,\n                status,\n            });\n        }\n        const options = {\n            allowStale,\n            updateAgeOnGet,\n            noDeleteOnStaleGet,\n            ttl,\n            noDisposeOnSet,\n            size,\n            sizeCalculation,\n            noUpdateTTL,\n            noDeleteOnFetchRejection,\n            allowStaleOnFetchRejection,\n            allowStaleOnFetchAbort,\n            ignoreFetchAbort,\n            status,\n            signal,\n        };\n        let index = this.#keyMap.get(k);\n        if (index === undefined) {\n            if (status)\n                status.fetch = 'miss';\n            const p = this.#backgroundFetch(k, index, options, context);\n            return (p.__returned = p);\n        }\n        else {\n            // in cache, maybe already fetching\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                const stale = allowStale && v.__staleWhileFetching !== undefined;\n                if (status) {\n                    status.fetch = 'inflight';\n                    if (stale)\n                        status.returnedStale = true;\n                }\n                return stale ? v.__staleWhileFetching : (v.__returned = v);\n            }\n            // if we force a refresh, that means do NOT serve the cached value,\n            // unless we are already in the process of refreshing the cache.\n            const isStale = this.#isStale(index);\n            if (!forceRefresh && !isStale) {\n                if (status)\n                    status.fetch = 'hit';\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                if (status)\n                    this.#statusTTL(status, index);\n                return v;\n            }\n            // ok, it is stale or a forced refresh, and not already fetching.\n            // refresh the cache.\n            const p = this.#backgroundFetch(k, index, options, context);\n            const hasStale = p.__staleWhileFetching !== undefined;\n            const staleVal = hasStale && allowStale;\n            if (status) {\n                status.fetch = isStale ? 'stale' : 'refresh';\n                if (staleVal && isStale)\n                    status.returnedStale = true;\n            }\n            return staleVal ? p.__staleWhileFetching : (p.__returned = p);\n        }\n    }\n    async forceFetch(k, fetchOptions = {}) {\n        const v = await this.fetch(k, fetchOptions);\n        if (v === undefined)\n            throw new Error('fetch() returned undefined');\n        return v;\n    }\n    memo(k, memoOptions = {}) {\n        const memoMethod = this.#memoMethod;\n        if (!memoMethod) {\n            throw new Error('no memoMethod provided to constructor');\n        }\n        const { context, forceRefresh, ...options } = memoOptions;\n        const v = this.get(k, options);\n        if (!forceRefresh && v !== undefined)\n            return v;\n        const vv = memoMethod(k, v, {\n            options,\n            context,\n        });\n        this.set(k, vv, options);\n        return vv;\n    }\n    /**\n     * Return a value from the cache. Will update the recency of the cache\n     * entry found.\n     *\n     * If the key is not found, get() will return `undefined`.\n     */\n    get(k, getOptions = {}) {\n        const { allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, status, } = getOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const value = this.#valList[index];\n            const fetching = this.#isBackgroundFetch(value);\n            if (status)\n                this.#statusTTL(status, index);\n            if (this.#isStale(index)) {\n                if (status)\n                    status.get = 'stale';\n                // delete only if not an in-flight background fetch\n                if (!fetching) {\n                    if (!noDeleteOnStaleGet) {\n                        this.#delete(k, 'expire');\n                    }\n                    if (status && allowStale)\n                        status.returnedStale = true;\n                    return allowStale ? value : undefined;\n                }\n                else {\n                    if (status &&\n                        allowStale &&\n                        value.__staleWhileFetching !== undefined) {\n                        status.returnedStale = true;\n                    }\n                    return allowStale ? value.__staleWhileFetching : undefined;\n                }\n            }\n            else {\n                if (status)\n                    status.get = 'hit';\n                // if we're currently fetching it, we don't actually have it yet\n                // it's not stale, which means this isn't a staleWhileRefetching.\n                // If it's not stale, and fetching, AND has a __staleWhileFetching\n                // value, then that means the user fetched with {forceRefresh:true},\n                // so it's safe to return that value.\n                if (fetching) {\n                    return value.__staleWhileFetching;\n                }\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                return value;\n            }\n        }\n        else if (status) {\n            status.get = 'miss';\n        }\n    }\n    #connect(p, n) {\n        this.#prev[n] = p;\n        this.#next[p] = n;\n    }\n    #moveToTail(index) {\n        // if tail already, nothing to do\n        // if head, move head to next[index]\n        // else\n        //   move next[prev[index]] to next[index] (head has no prev)\n        //   move prev[next[index]] to prev[index]\n        // prev[index] = tail\n        // next[tail] = index\n        // tail = index\n        if (index !== this.#tail) {\n            if (index === this.#head) {\n                this.#head = this.#next[index];\n            }\n            else {\n                this.#connect(this.#prev[index], this.#next[index]);\n            }\n            this.#connect(this.#tail, index);\n            this.#tail = index;\n        }\n    }\n    /**\n     * Deletes a key out of the cache.\n     *\n     * Returns true if the key was deleted, false otherwise.\n     */\n    delete(k) {\n        return this.#delete(k, 'delete');\n    }\n    #delete(k, reason) {\n        let deleted = false;\n        if (this.#size !== 0) {\n            const index = this.#keyMap.get(k);\n            if (index !== undefined) {\n                deleted = true;\n                if (this.#size === 1) {\n                    this.#clear(reason);\n                }\n                else {\n                    this.#removeItemSize(index);\n                    const v = this.#valList[index];\n                    if (this.#isBackgroundFetch(v)) {\n                        v.__abortController.abort(new Error('deleted'));\n                    }\n                    else if (this.#hasDispose || this.#hasDisposeAfter) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(v, k, reason);\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([v, k, reason]);\n                        }\n                    }\n                    this.#keyMap.delete(k);\n                    this.#keyList[index] = undefined;\n                    this.#valList[index] = undefined;\n                    if (index === this.#tail) {\n                        this.#tail = this.#prev[index];\n                    }\n                    else if (index === this.#head) {\n                        this.#head = this.#next[index];\n                    }\n                    else {\n                        const pi = this.#prev[index];\n                        this.#next[pi] = this.#next[index];\n                        const ni = this.#next[index];\n                        this.#prev[ni] = this.#prev[index];\n                    }\n                    this.#size--;\n                    this.#free.push(index);\n                }\n            }\n        }\n        if (this.#hasDisposeAfter && this.#disposed?.length) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Clear the cache entirely, throwing away all values.\n     */\n    clear() {\n        return this.#clear('delete');\n    }\n    #clear(reason) {\n        for (const index of this.#rindexes({ allowStale: true })) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                v.__abortController.abort(new Error('deleted'));\n            }\n            else {\n                const k = this.#keyList[index];\n                if (this.#hasDispose) {\n                    this.#dispose?.(v, k, reason);\n                }\n                if (this.#hasDisposeAfter) {\n                    this.#disposed?.push([v, k, reason]);\n                }\n            }\n        }\n        this.#keyMap.clear();\n        this.#valList.fill(undefined);\n        this.#keyList.fill(undefined);\n        if (this.#ttls && this.#starts) {\n            this.#ttls.fill(0);\n            this.#starts.fill(0);\n        }\n        if (this.#sizes) {\n            this.#sizes.fill(0);\n        }\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free.length = 0;\n        this.#calculatedSize = 0;\n        this.#size = 0;\n        if (this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7927);\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","sdk","MixinDeviceBase","ScryptedDeviceBase","index_1","DeviceBase","constructor","nativeId","super","storage","_storage","deviceManager","getDeviceStorage","log","_log","getDeviceLogger","console","_console","getDeviceConsole","createMediaObject","data","mimeType","mediaManager","sourceId","id","getMediaObjectConsole","mediaObject","getMixinConsole","_lazyLoadDeviceState","_deviceState","getDeviceState","onDeviceEvent","eventInterface","eventData","options","_listeners","Set","mixinDevice","mixinDeviceInterfaces","mixinStorageSuffix","mixinDeviceState","systemManager","getDeviceById","mixinProviderNativeId","__rpcproxy_traps_all_properties","createDeviceState","setState","mixinStorageKey","getMixinStorage","onMixinEvent","manageListener","listener","add","release","l","removeListener","_createGetState","state","_createSetState","warn","field","values","ScryptedInterfaceProperty","set","runtimeAPI","pluginRuntimeAPI","e","assign","endpointManager","pluginHostAPI","setScryptedInterfaceDescriptors","TYPES_VERSION","ScryptedInterfaceDescriptors","catch","error","__setModuleDefault","v","__importStar","mod","result","SettingsMixinDeviceBase","_1","default","settingsGroup","group","settingsGroupKey","groupKey","process","nextTick","ScryptedInterface","Settings","getSettings","settingsPromise","includes","mixinSettingsPromise","getMixinSettings","allSettings","settings","push","name","description","key","Math","random","toString","title","readonly","mixinSettings","setting","putSetting","prefix","startsWith","putMixinSetting","substring","length","StorageSettings","device","hasValue","keys","rawGet","getItem","type","JSON","parse","ret","onGet","entries","s","hide","getItemInternal","onPut","mapPut","mapGet","oldValue","putSettingInternal","noStore","removeItem","setItem","stringify","rawDevice","readDefaultValue","multiple","n","parseFloat","isNaN","parseInt","json","parseValue","persistedDefaultValue","defaultValue","ScryptedMimeTypes","MediaPlayerState","SecuritySystemObstruction","SecuritySystemMode","AirQuality","AirPurifierMode","AirPurifierStatus","ChargeState","LockState","PanTiltZoomMovement","ThermostatMode","TemperatureUnit","FanMode","HumidityMode","ScryptedDeviceType","ScryptedInterfaceMethod","ScryptedDevice","methods","properties","ScryptedPlugin","ScryptedPluginRuntime","OnOff","Brightness","ColorSettingTemperature","ColorSettingRgb","ColorSettingHsv","Notifier","StartStop","Pause","Dock","TemperatureSetting","Thermometer","HumiditySensor","Camera","Microphone","AudioVolumeControl","Display","VideoCamera","VideoCameraMask","VideoRecorder","VideoRecorderManagement","PanTiltZoom","EventRecorder","VideoClips","VideoCameraConfiguration","Intercom","Lock","PasswordStore","Scene","Entry","EntrySensor","DeviceProvider","DeviceDiscovery","DeviceCreator","Battery","Charger","Reboot","Refresh","MediaPlayer","Online","BufferConverter","MediaConverter","BinarySensor","TamperSensor","PowerSensor","AudioSensor","MotionSensor","AmbientLightSensor","OccupancySensor","FloodSensor","UltravioletSensor","LuminanceSensor","PositionSensor","SecuritySystem","PM10Sensor","PM25Sensor","VOCSensor","NOXSensor","CO2Sensor","AirQualitySensor","AirPurifier","FilterMaintenance","Readme","OauthClient","MixinProvider","HttpRequestHandler","EngineIOHandler","PushHandler","Program","Scriptable","ObjectTracker","ObjectDetector","ObjectDetection","ObjectDetectionPreview","ObjectDetectionGenerator","HumiditySetting","Fan","RTCSignalingChannel","RTCSignalingClient","LauncherApplication","ScryptedUser","VideoFrameGenerator","StreamService","TTY","TTYSettings","ScryptedSystemDevice","ScryptedDeviceCreator","ScryptedSettings","sharp","module","utils","settle","buildFullPath","buildURL","http","https","httpFollow","httpsFollow","url","zlib","VERSION","createError","enhanceError","defaults","Cancel","isHttps","setProxy","proxy","location","hostname","host","port","path","auth","base64","Buffer","from","username","password","headers","beforeRedirect","redirection","href","config","Promise","resolvePromise","rejectPromise","onCanceled","done","cancelToken","unsubscribe","signal","removeEventListener","resolve","reject","headerNames","forEach","toLowerCase","isStream","isBuffer","isArrayBuffer","Uint8Array","isString","fullPath","baseURL","parsed","protocol","urlAuth","split","authorization","isHttpsRequest","test","agent","httpsAgent","httpAgent","params","paramsSerializer","replace","method","toUpperCase","agents","socketPath","transport","proxyEnv","slice","proxyUrl","env","parsedProxyUrl","noProxyEnv","no_proxy","NO_PROXY","shouldProxy","map","trim","some","proxyElement","substr","proxyUrlAuth","isHttpsProxy","maxRedirects","maxBodyLength","insecureHTTPParser","req","request","res","aborted","stream","lastRequest","statusCode","decompress","pipe","createUnzip","response","status","statusText","statusMessage","responseType","responseBuffer","totalResponseBytes","on","chunk","maxContentLength","destroy","err","responseData","concat","responseEncoding","stripBOM","code","timeout","setTimeout","abort","transitional","clarifyTimeoutError","cancel","subscribe","addEventListener","end","cookies","parseHeaders","isURLSameOrigin","requestData","requestHeaders","isFormData","XMLHttpRequest","unescape","encodeURIComponent","Authorization","btoa","onloadend","responseHeaders","getAllResponseHeaders","responseText","open","onreadystatechange","readyState","responseURL","indexOf","onabort","onerror","ontimeout","timeoutErrorMessage","isStandardBrowserEnv","xsrfValue","withCredentials","xsrfCookieName","read","xsrfHeaderName","val","setRequestHeader","isUndefined","onDownloadProgress","onUploadProgress","upload","send","bind","Axios","mergeConfig","axios","createInstance","defaultConfig","context","instance","extend","instanceConfig","CancelToken","isCancel","all","promises","spread","isAxiosError","message","__CANCEL__","executor","TypeError","promise","token","then","i","onfulfilled","_resolve","reason","throwIfRequested","index","splice","source","c","InterceptorManager","dispatchRequest","validator","validators","interceptors","arguments","assertOptions","silentJSONParsing","boolean","forcedJSONParsing","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","unshift","fulfilled","rejected","responseInterceptorChain","chain","Array","apply","shift","newConfig","onFulfilled","onRejected","getUri","handlers","use","eject","fn","h","isAbsoluteURL","combineURLs","requestedURL","Error","transformData","throwIfCancellationRequested","transformRequest","merge","common","adapter","transformResponse","toJSON","number","fileName","lineNumber","columnNumber","stack","config1","config2","getMergedValue","target","isPlainObject","isArray","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","validateStatus","fns","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","rawValue","parser","encoder","stringifySafely","strictJSONParsing","thisArg","args","encode","serializedParams","parts","isDate","toISOString","join","hashmarkIndex","relativeURL","write","expires","domain","secure","cookie","isNumber","Date","toGMTString","document","match","RegExp","decodeURIComponent","remove","now","payload","originURL","msie","navigator","userAgent","urlParsingNode","createElement","resolveURL","setAttribute","search","hash","pathname","charAt","window","requestURL","normalizedName","ignoreDuplicateOf","line","callback","arr","thing","deprecatedWarnings","version","formatMessage","opt","opts","schema","allowUnknown","getPrototypeOf","isFunction","obj","FormData","ArrayBuffer","isView","URLSearchParams","product","assignValue","a","b","str","content","charCodeAt","formatArgs","useColors","namespace","humanize","diff","color","lastC","save","namespaces","load","r","DEBUG","__nwjs","documentElement","style","WebkitAppearance","firebug","exception","table","localStorage","localstorage","warned","colors","debug","formatters","j","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","self","curr","Number","ms","prev","coerce","format","formatter","selectColor","init","delimiter","newDebug","toNamespace","regexp","disable","names","skips","enable","len","abs","browser","tty","util","inspectOpts","stderr","formatWithOptions","colorCode","hideDate","getDate","Boolean","isatty","fd","deprecate","supportsColor","level","filter","reduce","_","inspect","O","looksLikeNode","looksLikeBrowser","looksLikeV8","URL","Writable","assert","captureStackTrace","useNativeURL","preservedUrlFields","events","eventHandlers","event","arg1","arg2","arg3","_redirectable","emit","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","cause","_performRequest","wrap","protocols","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","defineProperties","input","spreadUrlObject","parseUrl","validateUrl","equal","wrappedRequest","urlObject","removeMatchingHeaders","regex","lastValue","header","String","baseClass","CustomError","destroyRequest","_currentRequest","encoding","currentRequest","setHeader","removeHeader","msecs","destroyOnTimeout","socket","addListener","startTimer","_timeout","clearTimeout","clearTimer","once","property","searchPos","_currentUrl","_isRedirect","buffers","writeNext","finished","trackRedirects","followRedirects","responseUrl","redirects","Host","getHeader","relative","base","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","dot","endsWith","isSubdomain","responseDetails","requestDetails","flag","argv","pos","terminatorPos","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","MAX_SAFE_INTEGER","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsAstralRange","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","freeParseInt","freeGlobal","global","freeSelf","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","require","binding","nodeIsArrayBuffer","nodeIsDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","func","arrayAggregator","array","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","current","baseTimes","baseTrim","string","trimmedEndIndex","baseUnary","baseValues","props","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","size","overArg","transform","arg","replaceHolders","placeholder","setToArray","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","runInContext","uid","pick","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","exec","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Symbol","allocUnsafe","getPrototype","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","toStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","ceil","nativeFloor","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","nativeReverse","reverse","DataView","Map","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","clear","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","lower","upper","baseClone","bitmask","customizer","isDeep","isFlat","isFull","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","byteOffset","byteLength","cloneDataView","cloneTypedArray","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","pop","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othProps","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","criteria","comparer","sort","baseSortBy","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","copy","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","arrLength","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrStacked","arrValue","flatten","otherFunc","getValue","stubArray","hasPath","hasFunc","isLength","ctorString","isMaskable","stubFalse","otherArgs","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","lt","lte","toArray","next","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","omit","CLONE_DEEP_FLAG","basePick","pickBy","toPairs","toPairsIn","camelCase","word","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","compact","cond","conforms","baseConforms","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","zipObject","zipObjectDeep","entriesIn","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduceRight","repeat","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sum","sumBy","template","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","newEnd","uniqueId","each","eachRight","first","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","d","w","y","plural","msAbs","isPlural","long","fmtLong","fmtShort","__generator","body","f","t","g","label","sent","trys","ops","verb","op","Node","left","right","DEFAULT_COMPARE","splay","N","cmp","insert","node","printRow","isTail","out","printNode","indent","Tree","_root","_size","_comparator","_remove","x","findStatic","compare","contains","visitor","ctx","Q","_a","minNode","maxNode","successor","predecessor","toList","presort","loadRecursive","mergedList","l1","l2","p1","p2","mergeLists","createList","sortedListToBST","newKey","middle","list","pivot","tmp","epsilon","elen","flen","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","vec","Float64Array","B","C1","C2","D","u","orient2d","ax","ay","bx","by","cx","cy","detleft","detright","det","detsum","acxtail","acytail","bcxtail","bcytail","ahi","alo","bhi","blo","_i","_j","_0","s1","s0","t1","t0","u3","acx","bcx","acy","bcy","errbound","C1len","C2len","Dlen","orient2dadapt","isInBbox","bbox","point","ll","ur","getBboxOverlap","b1","b2","lowerX","upperX","EPSILON","pow","EPSILON_SQ","ab","CoordRounder","tree","coord","prevNode","nextNode","rounder","reset","xRounder","yRounder","crossProduct","dotProduct","compareVectorAngles","basePt","endPt1","endPt2","sqrt","sineOfAngle","pShared","pBase","pAngle","vBase","vAngle","cosineOfAngle","horizontalIntersection","pt","verticalIntersection","SweepEvent","ptCmp","comparePoints","link","isLeft","Segment","segment","aPt","bPt","otherEvents","iMax","evt","checkForConsuming","numEvents","evt1","consumedBy","evt2","otherSE","consume","getAvailableLinkedEvents","ringOut","isInResult","getLeftmostComparator","baseEvent","fillCache","linkedEvent","nextEvent","sine","cosine","asine","acosine","bsine","bcosine","segmentId","alx","leftSE","blx","arx","rightSE","brx","aly","bly","bry","aCmpBLeft","comparePoint","bCmpARight","bCmpALeft","aCmpBRight","rings","windings","fromRing","pt1","pt2","ring","leftPt","rightPt","winding","cmpPts","replaceRightSE","newRightSE","y1","y2","vector","isAnEndpoint","lPt","rPt","yDist","xFromYDist","xDist","yFromXDist","getIntersection","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","v1","v2","kross","ve","d1","d2","intersection$1","newEvents","alreadyLinked","newLeftSE","oldRightSE","newSeg","swapEvents","tmpEvt","consumer","consumee","prevInResult","_prevInResult","beforeState","_beforeState","seg","afterState","multiPolys","_afterState","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","poly","isExterior","mp","multiPoly","_isInResult","mpsBefore","operation","noBefores","noAfters","least","most","numMultiPolys","isJustSubject","mps","isSubject","RingIn","geomRing","segments","firstPoint","prevPoint","getSweepEvents","sweepEvents","PolyIn","geomPoly","exteriorRing","interiorRings","ringSweepEvents","jMax","MultiPolyIn","geom","ex","polys","POSITIVE_INFINITY","NEGATIVE_INFINITY","polySweepEvents","RingOut","factory","allSegments","ringsOut","prevEvent","startingPoint","intersectionLEs","availableLEs","firstPt","lastPt","indexLE","intersectionLE","ringEvents","getGeom","prevPt","points","nextPt","isExteriorRing","iStart","iEnd","orderedPoints","_isExteriorRing","enclosing","enclosingRing","_enclosingRing","_calcEnclosingRing","leftMostEvt","prevSeg","prevPrevSeg","PolyOut","addInterior","ringGeom","MultiPolyOut","_composePolys","polyGeom","SweepLine","queue","nextSeg","prevMySplitter","prevInter","newEventsFromSplit","_splitSafely","nextMySplitter","nextInter","mySplitter","inter","POLYGON_CLIPPING_MAX_QUEUE_SIZE","POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS","run","moreGeoms","multipolys","subject","mpA","sweepLine","prevQueueSize","_len","_key","_len2","_key2","_len3","_key3","subjectGeom","_len4","clippingGeoms","_key4","os","hasFlag","forceColor","getSupportLevel","isTTY","platform","osRelease","versions","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","hasBasic","has256","has16m","translateLevel","FORCE_COLOR","stdout","AdvancedNotifierCameraMixin","plugin","storageSettings","getMixinBaseSettings","minDelayTime","subgroup","snapshotWidth","snapshotHeight","ignoreCameraDetections","lastSnapshotWebhook","immediate","lastSnapshotWebhookCloudUrl","lastSnapshotWebhookLocalUrl","occupancyState","lastDetectionMap","nvrEnabled","rulesDiscovered","occupancyRulesDiscovered","detectionClassListeners","room","async","choices","entityId","nvrMixinId","getDeviceByName","canUseNvr","mixins","initValues","startCheckInterval","currentMixinsMap","logger","getLogger","funct","deviceSettings","isActiveForMqttReporting","isPluginEnabled","detectionRules","nvrRules","skippedRules","isActiveForNotifications","isActiveForNvrNotifications","allDeviceRules","occupancyRules","skippedOccupancyRules","allOccupancyRules","isDeviceEnabled","nvrDetectionRules","isCurrentlyRunning","detectionListener","shouldRun","mqttClient","getMqttClient","mainAutodiscoveryDone","setupDeviceAutodiscovery","withDetections","deviceClass","subscribeToDeviceMqttTopics","detectionRuleCb","active","ruleName","enabledKey","getDetectionRuleKeys","occupancyRuleCb","getOccupancyRuleKeys","switchRecordingCb","missingRules","rule","getDetectionRuleId","discoverDetectionRules","rules","missingOccupancyRules","getOccupancyRuleId","discoverOccupancyRules","isRecording","reportDeviceValues","resetListeners","notificationsActive","mqttReportsActive","startListeners","forceOccupancyCheck","mainLoopListener","setInterval","killed","resetTimeouts","detectionClass","motionListener","motionTimeout","lastSnapshotCloudUrl","lastSnapshotLocalUrl","getWebookUrls","getObserveZones","getTime","isUpdated","lastObserveZonesFetched","observeZoneData","zonesSetting","zone","zoneName","zonePath","zones","item","detectionRulesSettings","getDetectionRulesSettings","groupName","detectionRulesGroup","withDetection","occupancyRulesSettings","getOccupancyRulesSettings","occupancyRulesGroup","isNvrEnabled","skipMqtt","enabledResultDetected","detectRuleEnabledRegex","enabledResultOccupancy","occupancyRuleEnabledRegex","updateDetectionRuleOnMqtt","deviceId","updateOccupancyRuleOnMqtt","clearInterval","deviceConsole","optionalParams","toLocaleString","reportDetectionsToMqtt","detections","triggerTime","b64Image","image","mqttReportInProgress","mqttDetectionMotionTimeout","publishRelevantDetections","finally","motionDuration","triggerMotion","matchRule","className","report","triggered","publishDeviceState","detection","resettAllClasses","allRuleIds","listenDevice","watch","__","getObjectDetector","getLastDetectionkey","getImage","objectDetector","takePicture","picture","height","width","convertMediaObjectToBuffer","forceUpdate","currentState","lastCheck","checkOccupancyData","imageParent","occupancyRulesDataMap","zonesData","objectDetectorParent","objectDetectionDevice","detectedResultParent","detectObjects","occupancyRule","zoneType","observeZone","scoreThreshold","maxObjects","ruleObjectDetector","captureZone","detectedResult","imageToUse","zoneData","convertMediaObject","Image","top","bottom","cropped","toImage","crop","boundingBox","inputDimensions","objectsDetected","detectionClassesDefaultMap","score","boundingBoxInCoords","normalizeBoxToClipPath","zoneMatches","ZoneMatchType","Intersect","occupies","existingRule","occupancyRulesData","rulesToNotNotify","occupancyRuleData","changeStateConfirm","tooOld","lastChange","toConfirm","occupancyToConfirm","confirmationStart","occupancyData","logPayload","lastOccupancy","isConfirmationTimePassed","isStateConfirmed","stateActuallyChanged","publishOccupancy","observeZonesClasses","zoneOccupiedText","zoneNotOccupiedText","notifyOccupancyEvent","cameraDevice","processDetections","isFromNvr","parentImage","candidates","hasLabel","filterAndSortValidDetections","lastPictureTaken","b64ImageNew","imageNew","dataToReport","matchRules","detectionClasses","whitelistedZones","blacklistedZones","classnameRaw","scoreOk","zonesOk","DetectionRuleSource","Device","isIncluded","isExcluded","imageToNotify","imageUrl","convertMediaObjectToLocalUrl","lastDetectionkey","lastDetection","matchRulesMap","eventType","EventType","matchDetectionFound","triggerDeviceId","timestamp","DetectionClass","defaultDetectionClasses","animalClasses","Animal","personClasses","Person","vehicleClasses","Vehicle","faceClasses","Face","licensePlateClasses","Plate","motionClasses","Motion","packageClasses","Package","isFaceClassname","classname","isPlateClassname","isAnimalClassname","isPersonClassname","isVehicleClassname","isMotionClassname","isPackageClassname","isLabelDetection","tot","parentDetectionClassMap","defaultNotifierNativeId","AdvancedNotifierPlugin","BasePlugin","pluginFriendlyName","deviceHaEntityMap","haEntityDeviceMap","deviceVideocameraMap","videocameraDevicesMap","deviceRoomMap","doorbellDevices","firstCheckAlwaysActiveDevices","getBaseSettings","onPluginSwitch","startStop","hideHa","pluginEnabled","mqttEnabled","serverId","localIp","scryptedToken","nvrUrl","domains","fetchHaEntities","fetchHomeassistantData","mqttActiveEntitiesTopic","setupMqttEntities","activeDevicesForReporting","combobox","deviceFilter","fetchedEntities","fetchedRooms","notifiers","notifierFilter","getTextSettings","detectionRulesKey","activeDevicesForNotifications","nvrAcceleratedMotionSensorId","securitySystem","testDevice","testNotifier","testMessage","testPriority","NotificationPriority","VeryLow","Low","Normal","High","testButton","executeNotificationTest","rooms","entityIds","haApi","getHaApi","roomsResponse","getTemplateData","getRoomName","areaId","entitiesResponse","getStatesDate","roomIds","elem","roomId","roomName","entityStatus","entity_id","getLinkedCamera","getCameraDevice","isDoorbell","triggerDevice","textKey","getTextKey","notifierId","notifier","notifierSettings","notifyCamera","NotificationSource","DETECTION","getTriggerZone","zoneInner","onDeviceDiscovered","interfaces","getDevice","defaultNotifier","AdvancedNotifierNotifier","releaseDevice","stop","refreshDeviceLinksInterval","disconnect","initPluginSettings","refreshDevicesLinks","onRequest","decodedUrl","___","____","_____","webhook","deviceNameOrAction","lastSnapshot","haAction","getWebooks","accessToken","getHaApiUrl","post","isWebhookEnabled","snapshotsFolder","getFolderPaths","lastSnapshotFilePath","mo","createFFmpegMediaObject","inputArguments","jpeg","sendAutoDiscovery","objDetectionPlugin","knownPeople","choice","person","mainSettings","mainSettingsByKey","allPluginRules","getDeviceRules","mainPluginStorage","setupPluginAutodiscovery","people","ruleDeviceId","getRuleStrings","getEntityTopic","getMqttTopicTopics","stateTopic","publish","getOccupancyRuleStrings","subscribeToMainMqttTopics","entitiesActiveTopic","activeEntitiesCb","syncHaEntityIds","ruleCb","devices","deviceIds","deviceNameFromEntity","entityFromDeviceName","stored","cloudPlugin","oauthUrl","getOauthUrl","searchParams","getLocalAddresses","pushoverPlugin","haPlugin","haProviderId","pushoverProviderId","haEntities","allDevices","getElegibleDevices","deviceType","haEntityId","linkedCamera","nearbySensors","nearbyLocks","Doorbell","doorbellButtonId","cameraId","allLinkedSensorIds","linkedSensorId","sensorsNotMapped","Sensor","sensor","haEnabled","withDevices","withNvrEvents","canMixin","int","ADVANCED_NOTIFIER_INTERFACE","notifyCameraProps","NVR","notifierOptions","getNotifierData","sendNotification","notifyNvrEvent","nvrEvents","externalUrl","getUrls","NvrEvent","RecordingInterrupted","getNotificationText","detectionTime","onNvrNotification","cameraName","icon","recordedEvent","deviceSensors","devNotifier","parseNvrNotificationMessage","allDetections","Contact","Doorlock","processEvent","getMixin","AdvancedNotifierSensorMixin","AdvancedNotifierNotifierMixin","releaseMixin","timelinePart","haUrl","textToUse","customText","notifierSettingsByKey","classNameParsed","detectionTimeText","detectionClassText","eval","priority","haActions","haActionsToNotify","providerId","pushover","html","getPushoverPriority","ha","clickAction","skipImage","notifierSnapshotScale","cameraSnapshotHeight","cameraSnapshotWidth","getCameraSnapshot","currentTime","testNotifierId","TEST","linkedCameraId","getAllActiveDevices","allActiveDevicesForNotifications","allActiveDevices","detectionClassForObjectsReporting","idPrefix","namePrefix","peopleTrackerId","mainRuleId","triggeredEntity","entity","batteryEntity","onlineEntity","recordingEntity","deviceClassMqttEntities","parsedClassName","firstUpperCase","deviceClassMqttEntitiesGrouped","getDiscoveryTopic","getInfoTopic","getCommandTopic","getPersonStrings","personId","personName","getObserveZoneStrings","parsedZoneName","mqttMainSettingsDevice","manufacturer","ids","mqttPeopleTrackerDevice","getMqttDevice","dev","unique_id","object_id","state_topic","detectionRule","commandTopic","detectionRuleEnabledConfig","command_topic","optimistic","retain","qos","messageTopic","messageString","model","info","via_device","getDeviceClassEntities","classes","DoorSensor","DoorLock","mqttdevice","allEntities","entitiesToRun","getConfig","deviceClassParent","device_class","mqttEntity","topic","payload_on","payload_off","image_topic","image_encoding","entitiesToPublish","storeWebhookImage","batteryLevel","online","parentClass","specificClassEntries","parentClassEntries","classEntries","ruleId","entities","classEntity","classObjects","scryptedNvrUserDevice","plugins","getComponent","setMixins","thisDevice","defaultNotificationsSetting","allUsers","getSystemState","media","snapshotScale","isLock","haDeviceClass","enabledResult","isTriggered","Unlocked","isDoorlock","enabledRules","getDefaultEntityId","basePath","SCRYPTED_PLUGIN_VOLUME","existsSync","mkdirSync","recursive","writeFile","cameraDeviceOrAction","haActionUrl","cloudEndpoint","getPublicCloudEndpoint","localEndpoint","getPublicLocalEndpoint","subtitle","Offline","systemState","foundSensor","lockState","binaryState","allZones","innerDetection","classnamePrio","face","plate","vehicle","animal","package","motion","initZoneDetections","sortedByPriorityAndScore","movement","isLabel","moving","forMixin","motionDetectedText","personDetectedText","familiarDetectedText","plateDetectedText","animalDetectedText","vehicleDetectedText","doorbellText","doorWindowText","doorlockText","packageText","onlineText","offlineText","streamInterruptedText","personText","animalText","vehicleText","withOccupancy","useNvrDetections","useNvrImages","occupancyRulesKey","mainPluginName","scrypted","deviceSettingsByKey","deviceStorage","getDeviceOccupancyRules","isMqttActive","textKeyClassnameMap","text","DetectionRuleActivation","detectionRuleName","useNvrDetectionsKey","activationKey","detecionClassesKey","nvrEventsKey","scoreThresholdKey","whitelistedZonesKey","blacklistedZonesKey","enabledSensorsKey","disabledSensorsKey","devicesKey","notifiersKey","dayKey","startTimeKey","endTimeKey","priorityKey","actionsKey","securitySystemModesKey","objectDetectorKey","detecionClassKey","zoneKey","zoneOccupiedTextKey","zoneNotOccupiedTextKey","zoneMatchTypeKey","changeStateConfirmKey","maxObjectsKey","forceUpdateKey","captureZoneKey","currentDetectionRules","currentActivation","Always","OnActive","Schedule","AlarmSystem","Disarmed","HomeArmed","NightArmed","AwayArmed","currentOccupancyRules","occupancyRuleName","allDeviceIds","activeNotifiers","onActiveDevices","processRules","detectionRuleNames","isEnabled","notifiersTouse","activationType","mainDevices","securitySystemModes","devicesToUse","timeAllowed","days","startTime","endTime","currentDate","currentDay","getDay","parseDate","add1Day","timeDate","newTimeDate","setDate","setHours","getHours","setMinutes","getMinutes","setSeconds","setMilliseconds","newDate","startTimeParsed","a1","endTimeParsed","a2","sensorsOk","enabledSensors","disabledSensors","sensorId","binarySensor","isSensorEnabled","Plugin","isSecuritySystemEnabled","securitySystemDeviceId","securitySystemDevice","currentMode","securitySystemState","mode","ruleAllowed","occupancyRuleNames","zoneMatchType","addBoundingToImage","imageBuffer","createRectangle","fullRect","channels","background","alpha","png","toBuffer","hollowRect","extract","borderWidth","composite","blend","rectangle","newImageBuffer","newImage","x2","BaseMixin","baseStorageSettings","Agent","rejectUnauthorized","hideMqtt","useMqttPluginCredentials","mqttHost","mqttUsename","mqttPassword","useHaPluginCredentials","haAccessToken","haProtocol","haAddress","address","haDevice","haSettings","haEnabledSetting","mqttEnabledSetting","getCalendarEvents","fromDate","toDate","start_date_time","end_date_time","setupMqttClient","mqttDevice","mqttSettings","mixinGroup","mixinKey","mainLogger","param","topicLastValue","forceReconnect","_connect","client","connectAsync","mqttPathmame","reschedulePings","setMaxListeners","endAsync","urlWithoutPath","onKeepaliveTimeout","reconnect","connected","inputValue","previousValue","publishAsync","pluginName","subscribeToTopic","cb","unsubscribeAsync","subscribeAsync","topics","removeAllListeners","module_1","loaded","SCRYPTED_SDK_MODULE","sdkModule","createRequire","getScryptedStatic","eventTargetShim","AbortSignal","EventTarget","abortedFlags","defineEventAttribute","AbortController","signals","createAbortSignal","getSignal","dispatchEvent","controller","parallel","serial","serialOrdered","clean","jobs","isAsync","setImmediate","aborter","runJob","output","results","sortMethod","isNamedList","initState","keyedList","iterate","terminator","ascending","iteratorHandler","descending","for","BufferList","buf","_init","_bufs","append","_new","_offset","_t","_reverseOffset","blOffset","bufferId","dst","dstStart","srcStart","srcEnd","alloc","off","bytes","bufoff","shallowSlice","startOffset","endOffset","trunc","duplicate","_appendBuffer","_isBufferList","blIndex","buffOffset","buff","nativeSearchResult","revOffset","_match","searchOffset","readDoubleBE","readDoubleLE","readFloatBE","readFloatLE","readBigInt64BE","readBigInt64LE","readBigUInt64BE","readBigUInt64LE","readInt32BE","readInt32LE","readUInt32BE","readUInt32LE","readInt16BE","readInt16LE","readUInt16BE","readUInt16LE","readInt8","readUInt8","readIntBE","readIntLE","readUIntBE","readUIntLE","isBufferList","DuplexStream","inherits","BufferListStream","_callback","piper","src","_write","_read","_destroy","Stream","DelayedStream","CombinedStream","readable","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","combinedStream","option","isStreamLike","newStream","pauseStream","_checkDataSize","_handleErrors","pause","dest","resume","_getNext","_realGetNext","_pipeNext","_emitError","_reset","_updateDataSize","matchesTemplate","searchIndex","templateIndex","starIndex","matchIndex","ns","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","setEncoding","_checkIfMaxDataSizeExceeded","privateData","wrappers","pd","retv","setCancelFlag","passiveListener","cancelable","canceled","preventDefault","Event","eventTarget","eventPhase","currentTarget","stopped","immediateStopped","timeStamp","defineRedirectDescriptor","defineCallDescriptor","getWrapper","BaseEvent","CustomEvent","defineWrapper","isStopped","setPassiveListener","composedPath","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","stopPropagation","stopImmediatePropagation","bubbles","defaultPrevented","composed","srcElement","cancelBubble","returnValue","initEvent","setPrototypeOf","listenersMap","getListeners","listeners","eventTargetPrototype","eventName","listenerType","delete","newNode","passive","defineEventAttributeDescriptor","defineCustomEventTarget","eventNames","CustomEventTarget","optionsIsObj","capture","wrappedEvent","wrapEvent","handleEvent","setEventPhase","setCurrentTarget","fs","mime","asynckit","populate","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","filename","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","_lengthRetriever","stat","fileSize","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","getBoundary","filepath","normalize","basename","_httpMessage","lookup","_lastBoundary","getHeaders","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","getLengthSync","hasKnownLength","getLength","submit","onResponse","responce","terminatorPosition","ctor","superCtor","super_","TempCtor","extendStatics","__extends","__proto__","TreeNode","ee","K","rr","L","ne","te","TreeNodeEnableIndex","tr","ie","ContainerIterator","iteratorType","equals","Container","Base","M","empty","throwIteratorAccessError","RangeError","__read","__values","TreeContainer","W","$","re","se","fe","parentNode","grandParent","curNode","G","he","U","X","Y","Z","ue","ae","updateKeyByIterator","eraseElementByPos","eraseElementByKey","eraseElementByIterator","return","getElementByPos","getHeight","traversal","TreeIterator","pre","throw","OrderedSetIterator","container","OrderedSet","P","begin","rBegin","rEnd","front","back","lowerBound","upperBound","reverseLowerBound","reverseUpperBound","extensions","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","charsets","extension","exts","to","requiredHeaderFlags","requiredHeaderFlagsErrors","codes","CMD_SHIFT","CMD_MASK","DUP_MASK","QOS_MASK","QOS_SHIFT","RETAIN_MASK","VARBYTEINT_MASK","VARBYTEINT_FIN_MASK","VARBYTEINT_MAX","SESSIONPRESENT_MASK","SESSIONPRESENT_HEADER","CONNACK_HEADER","connack","USERNAME_MASK","PASSWORD_MASK","WILL_RETAIN_MASK","WILL_QOS_MASK","WILL_QOS_SHIFT","WILL_FLAG_MASK","CLEAN_SESSION_MASK","CONNECT_HEADER","connect","sessionExpiryInterval","willDelayInterval","receiveMaximum","maximumPacketSize","topicAliasMaximum","requestResponseInformation","requestProblemInformation","userProperties","authenticationMethod","authenticationData","payloadFormatIndicator","messageExpiryInterval","responseTopic","correlationData","maximumQoS","retainAvailable","assignedClientIdentifier","reasonString","wildcardSubscriptionAvailable","subscriptionIdentifiersAvailable","sharedSubscriptionAvailable","serverKeepAlive","responseInformation","serverReference","topicAlias","subscriptionIdentifier","propertiesCodes","genHeader","dup","writeUInt8","propertiesTypes","PUBLISH_HEADER","SUBSCRIBE_HEADER","SUBSCRIBE_OPTIONS_QOS_MASK","SUBSCRIBE_OPTIONS_NL_MASK","SUBSCRIBE_OPTIONS_NL_SHIFT","SUBSCRIBE_OPTIONS_RAP_MASK","SUBSCRIBE_OPTIONS_RAP_SHIFT","SUBSCRIBE_OPTIONS_RH_MASK","SUBSCRIBE_OPTIONS_RH_SHIFT","SUBSCRIBE_OPTIONS_RH","SUBSCRIBE_OPTIONS_NL","SUBSCRIBE_OPTIONS_RAP","SUBSCRIBE_OPTIONS_QOS","UNSUBSCRIBE_HEADER","ACKS","unsuback","puback","pubcomp","pubrel","pubrec","SUBACK_HEADER","suback","VERSION3","VERSION4","VERSION5","VERSION131","VERSION132","QOS","EMPTY","pingreq","pingresp","MQTT5_PUBACK_PUBREC_CODES","MQTT5_PUBREL_PUBCOMP_CODES","MQTT5_SUBACK_CODES","MQTT5_UNSUBACK_CODES","MQTT5_DISCONNECT_CODES","MQTT5_AUTH_CODES","writeToStream","EventEmitter","Accumulator","_array","lengths","packet","generate","SubOk","subarray","generateBuffer","generateCache","generateNumber","genBufVariableByteInt","num","digit","generate4ByteBuffer","writeUInt32BE","cmd","bl","Packet","constants","Parser","_states","_resetState","_list","_stateCounter","_parseHeader","zero","cmdIndex","headerFlags","_parseLength","_parseVarByteNum","_parsePayload","_pos","_parseConnect","_parseConnack","_parsePublish","_parseConfirmation","_parseSubscribe","_parseSuback","_parseUnsubscribe","_parseUnsuback","_parseDisconnect","_parseAuth","flags","protocolId","_parseString","protocolVersion","bridgeMode","will","willRetain","willQos","keepalive","_parseNum","_parseProperties","getOwnPropertyNames","clientId","willProperties","_parseBuffer","sessionPresent","reasonCode","returnCode","_parseMessageId","rh","rap","nl","subscription","subscriptions","_parseByte","granted","unsubscriptions","messageId","maybeBuffer","_parseStringPair","_parse4ByteNum","fullInfoFlag","mul","padding","_parseByType","currentUserProperty","currentValue","_newPacket","zeroBuf","numbers","numCache","writeNumber","writeNumberCached","toGenerate","cork","uncork","propertiesData","getProperties","providedUsername","isStringOrBuffer","writeVarByteInt","writeStringOrBuffer","writeString","rc","getPropertiesByMaximumPacketSize","confirmation","subs","itopic","iqos","sub","jtopic","jqos","jnl","jrap","jrh","joptions","unsubs","emptyPacket","writeNumberGenerated","varByteIntCache","strlen","writeStringPair","generatedNumber","toWrite","writeProperties","propertiesLength","getLengthProperty","currentLength","propName","propLength","propValueLength","propValue","valueIndex","mayEmptyProps","currentMayEmptyProp","writeProperty","generated4ByteBuffer","write4ByteNumber","bufOrString","mqtt","BufferedDuplex","writev","readable_stream_1","buffer_1","chunks","Duplex","objectMode","writeQueue","_writev","isSocketOpen","destroyed","writeToProxy","_final","socketReady","processWriteQueue","__importDefault","get_timer_1","keepaliveTimeoutTimestamp","_keepaliveTimeoutTimestamp","intervalEvery","_intervalEvery","_keepalive","variant","timer","setKeepalive","reschedule","counter","keepAliveTimeout","sendPing","TypedEventEmitter","events_1","shared_1","applyMixin","topic_alias_recv_1","mqtt_packet_1","default_message_id_provider_1","default_1","validations","debug_1","store_1","handlers_1","TypedEmitter_1","KeepaliveManager_1","is_browser_1","globalThis","defaultConnectOptions","reconnectPeriod","connectTimeout","resubscribe","writeCache","timerVariant","MqttClient","defaultId","streamBuilder","_noop","isWebWorker","customHandleAcks","cacheNumbers","messageIdProvider","outgoingStore","incomingStore","queueQoSZero","_resubscribeTopics","messageIdToTopic","keepaliveManager","disconnecting","reconnecting","connackTimer","reconnectTimer","_storeProcessing","_packetIdsDuringStoreProcessing","_storeProcessingQueue","outgoing","_firstConnection","topicAliasRecv","deliver","_resubscribe","register","_sendPacket","_destroyKeepaliveManager","_setupReconnect","manualConnect","handleAuth","handleMessage","_nextId","allocate","getLastMessageId","getLastAllocated","completeParse","packets","_clearReconnect","disconnected","work","nextTickWork","enc","_flushVolatile","connectPacket","_writePacket","authPacket","_cleanUp","cbStorePut","_checkDisconnecting","publishProc","volatile","topicObject","topicsList","invalidTopic","validateTopics","defaultOpts","parseSub","subOptions","currentOpts","subscribeProc","packet2","unsubscribeProc","topic2","force","closeStores","close","e1","e2","_deferredReconnect","finish","removeOutgoingMessage","_removeOutgoingAndStoreMessage","_reconnect","_flush","_removeTopicAliasAndRecoverTopicName","alias","topicAliasSend","getTopicByAlias","forced","_storeAndSend","storePacket","put","err2","_applyTopicAlias","autoAssignTopicAlias","getAliasByTopic","getLruAlias","autoUseTopicAlias","_storePacket","_setupKeepaliveManager","reschedulePing","_reschedulePing","_resubscribeTopicsKeys","connackPacket","topicI","resubscribeTopic","_onConnect","startStreamProcess","outStore","createStream","_flushStoreProcessingQueue","clearStoreProcessing","storeDeliver","allProcessed","_invokeAllStoreProcessingQueue","_invokeStoreProcessingQueue","del","deallocate","MQTTJS_VERSION","BufferedDuplex_1","my","isInitialized","websocketSubProtocol","wsOptions","setDefaultOpts","transformWsUrl","buildUrl","connectSocket","_proxy","Transform","sendSocketMessage","success","fail","closeSocket","buildProxy","onSocketOpen","onSocketMessage","reader","FileReader","readAsArrayBuffer","onSocketClose","onSocketError","url_1","client_1","brokerUrl","_b","_c","_d","parsedUrl","parsedOptions","query","unixSocket","parseAuthOptions","cert","forceNativeWebSocket","ws","wss","wx","wxs","ali","alis","tcp","ssl","tls","mqtts","isSecure","defaultProtocol","servers","_reconnectCount","allowRetries","promiseResolutionListeners","removePromiseResolutionListeners","net_1","createConnection","tls_1","isIP","servername","connection","handleTLSerrors","authorized","browserStreamBuilder","ws_1","WSS_OPTIONS","createWebsocket","createWebSocket","webSocketStream","createWebSocketStream","binary","setDefaultBrowserOpts","bufferSize","browserBufferSize","bufferTimeout","browserBufferTimeout","coerceToBuffer","WebSocket","binaryType","createBrowserWebSocket","pOptions","socketWrite","socketEnd","socketWriteBrowser","bufferedAmount","eventListenerSupport","onOpen","onClose","onError","onMessage","Blob","Response","OPEN","onopen","onclose","onmessage","socketTask","errMsg","destroyRef","nextId","worker_timers_1","workerTimer","nativeTimer","isReactNativeBrowser","ReasonCodes","pubackRC","ErrorWithReasonCode","pubrecRC","grantedI","subackRC","ack_1","topic_alias_send_1","publish_1","auth_1","connack_1","pubrel_1","validReasonCodes","gotTopic","comp","pub","isWebWorkerEnv","isReactNativeEnv","isBrowser","includeConstructor","inheritanceChain","streamsOpts","defaultStoreOptions","_inflights","Readable","toDelete","storedPacket","aliasToTopic","lru_cache_1","number_allocator_1","LRUCache","topicToAlias","numberAllocator","NumberAllocator","firstVacant","lastId","free","validateTopic","KeepaliveManager","UniqueMessageIdProvider","DefaultMessageIdProvider","Store","Client","unique_message_id_provider_1","connect_1","SortedSet","debugTrace","debugError","Interval","ss","lhs","rhs","it","pointer","rLow","rHigh","lLow","intervalCount","dump","element","DEFAULT_PORTS","ftp","gopher","stringEndsWith","getEnv","getProxyForUrl","parsedProxy","parsedProxyHostname","parsedProxyPort","SymbolDispose","AbortError","isNodeStream","isWebStream","kControllerErrorFunction","eos","ERR_INVALID_ARG_TYPE","addAbortListener","addAbortSignal","validateAbortSignal","addAbortSignalNoValidate","onAbort","disposable","StringPrototypeSlice","SymbolIterator","TypedArrayPrototypeSet","hasStrings","_getString","_getBuffer","retLen","customInspect","pipeline","destroyer","isReadable","isWritable","isTransformStream","isWritableStream","isReadableStream","ERR_INVALID_ARG_VALUE","ERR_MISSING_ARGS","streams","orgStreams","idx","ondrain","onfinish","onreadable","writableObjectMode","readableObjectMode","writer","getWriter","ready","toRead","getReader","aggregateTwoErrors","ERR_MULTIPLE_CALLBACK","kIsDestroyed","isDestroyed","isFinished","isServerRequest","kDestroy","kConstruct","checkError","errored","called","onDestroy","_readableState","_writableState","closed","emitErrorCloseNT","emitCloseNT","emitErrorNT","closeEmitted","emitClose","errorEmitted","errorOrDestroy","sync","autoDestroy","constructNT","onConstruct","constructed","emitConstructNT","_construct","isRequest","emitCloseLegacy","emitErrorCloseLegacy","construct","listenerCount","er","undestroy","reading","ended","endEmitted","finalCalled","prefinished","ending","ObjectDefineProperties","ObjectGetOwnPropertyDescriptor","ObjectKeys","ObjectSetPrototypeOf","allowHalfOpen","webStreamsAdapters","duplexify","lazyWebStreams","writableHighWaterMark","writableBuffer","writableLength","writableFinished","writableCorked","writableEnded","writableNeedDrain","fromWeb","newStreamDuplexFromReadableWritablePair","toWeb","duplex","newReadableWritablePairFromDuplex","bufferModule","isIterable","isReadableNodeStream","isWritableNodeStream","isDuplexNodeStream","ERR_INVALID_RETURN_VALUE","createDeferredPromise","FunctionPrototypeCall","Duplexify","_duplexify","onfinished","final","ac","_promise","fromAsyncGen","ERR_STREAM_PREMATURE_CLOSE","kEmptyObject","validateFunction","validateObject","validateBoolean","PromisePrototypeThen","isClosed","isReadableFinished","isReadableErrored","isWritableFinished","isWritableErrored","willEmitClose","_willEmitClose","kIsClosedPromise","nop","_options$readable","_options$writable","isAborted","originalCallback","resolverFn","eosWeb","wState","rState","onlegacyfinish","readableFinished","onend","onclosed","onrequest","cleanup","endCallback","_opts","autoCleanup","SymbolAsyncIterator","ERR_STREAM_NULL_VALUES","highWaterMark","hadError","hasThrow","ArrayIsArray","EE","prependListener","emitter","_events","ondata","_isStdio","didOnEnd","ERR_OUT_OF_RANGE","validateInteger","kWeakHandler","kResistStopPropagation","staticCompose","ArrayPrototypePush","MathFloor","NumberIsNaN","PromiseReject","PromiseResolve","kEmpty","kEof","concurrency","signalOpt","cnt","onCatch","afterItemProcessed","maybeResume","pump","unused","ReduceAwareErrMissingArgs","toIntegerOrInfinity","streamReturningOperators","asIndexedPairs","_options$signal","_options$signal5","_options$signal6","_options$signal7","_options$signal8","compose","composedStream","promiseReturningOperators","reducer","initialValue","_options$signal2","hasInitialValue","gotAnyItemFromStream","_options$signal3","_options$signal4","PassThrough","_transform","destroyImpl","ERR_STREAM_DESTROYED","writing","makeAsyncIterable","fromReadable","pumpToNode","onresolve","pumpToWeb","pipelineImpl","outerSignal","lastStreamCleanup","finishImpl","destroys","finishCount","_disposable","isLastStream","_ret","_ret2","endFn","popCallback","ArrayPrototypeIndexOf","NumberIsInteger","NumberParseInt","SafeSet","SymbolAsyncDispose","ReadableState","getHighWaterMark","getDefaultHighWaterMark","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kPaused","StringDecoder","kObjectMode","kConstructed","kSync","kEmitClose","kAutoDestroy","makeBitMapDescriptor","bit","isDuplex","pipes","flowing","defaultEncoding","awaitDrainWriters","decoder","needReadable","maybeReadMore","readableAddChunk","addToFront","_isUint8Array","_uint8ArrayToBuffer","emitReadable","emittedReadable","emitReadable_","onEofChunk","addChunk","dataEmitted","readableListening","resumeScheduled","multiAwaitDrain","readingMore","_undestroy","captureRejectionSymbol","readableEnded","isPaused","howMuchToRead","maybeReadMore_","updateReadableListening","nReadingNextTick","resume_","streamToAsyncIterator","iter","destroyOnReturn","createAsyncIterator","fromList","endReadable","endReadableNT","endWritableNT","NaN","nOrig","computeNewHighWaterMark","doRead","pipeOpts","unpipe","onunpipe","unpipeInfo","hasUnpiped","cleanedUp","needDrain","pipeOnDrain","dests","ev","paused","streamKeys","readableDidRead","readableAborted","readableHighWaterMark","readableBuffer","readableFlowing","readableLength","readableEncoding","pipesCount","_fromList","readableStream","newStreamReadableFromReadableStream","streamReadable","newReadableStreamFromStreamReadable","_ref","_src$readableObjectMo","defaultHighWaterMarkBytes","defaultHighWaterMarkObjectMode","duplexKey","hwm","highWaterMarkFrom","setDefaultHighWaterMark","kCallback","prefinish","SymbolFor","kIsErrored","kIsReadable","kIsWritable","kIsDisturbed","strict","_obj$_readableState","_obj$_writableState","pipeThrough","isWritableEnded","isOutgoingMessage","_closed","_defaultKeepAlive","_removedConnection","_removedContLen","isServerResponse","_sent100","isDisturbed","_stream$kIsDisturbed","isErrored","_ref2","_ref3","_ref4","_ref5","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","readableErrored","writableErrored","isReadableEnded","_stream$_readableStat","_stream$_readableStat2","_stream$_writableStat","_stream$_writableStat2","_stream$req","_consuming","_dumped","upgradeOrConnect","ArrayPrototypeSlice","FunctionPrototypeSymbolHasInstance","ObjectDefineProperty","StringPrototypeToLowerCase","SymbolHasInstance","WritableState","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_ALREADY_FINISHED","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","kOnFinished","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writecb","writelen","afterWriteTickInfo","resetBuffer","pendingcb","buffered","bufferedIndex","allBuffers","allNoop","clearBuffer","finishMaybe","isEncoding","writeOrBuffer","doWrite","onwriteError","errorBuffer","afterWriteTick","afterWrite","_state$errored","onfinishCallbacks","_state$errored2","bufferedLength","needFinish","onFinish","callFinal","setDefaultEncoding","writableAborted","writableStream","newStreamWritableFromWritableStream","streamWritable","newWritableStreamFromStreamWritable","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","ObjectPrototypeHasOwnProperty","RegExpPrototypeExec","StringPrototypeToUpperCase","StringPrototypeTrim","hideStackFrames","ERR_SOCKET_BAD_PORT","ERR_UNKNOWN_SIGNAL","normalizeEncoding","isAsyncFunction","octalReg","validateInt32","validateUint32","positive","validateString","validateOneOf","oneOf","allowed","getOwnPropertyValueOrDefault","allowArray","allowFunction","validateDictionary","validateArray","minLength","validateBuffer","validatePlainFunction","validateUndefined","linkValueRegExp","validateLinkHeaderFormat","isInt32","isUint32","parseFileMode","def","validateStringArray","validateBooleanArray","validateAbortSignalArray","indexedName","validateEncoding","normalizedEncoding","validateNumber","validatePort","allowZero","validateSignalName","validateUnion","validateLinkHeaderValue","hints","hintsLength","AggregateError","CustomAggregateError","kIsNodeError","kTypes","classRegExp","ERR_INTERNAL_ASSERTION","addNumericalSeparator","E","NodeError","msg","expectedLength","getMessage","hidden","expected","actual","instances","_actual$constructor","inspected","_value$constructor","received","innerError","outerError","errors","READABLE_STREAM","CustomStream","originalDestroy","el","sep","ArrayPrototypePop","thisArgs","hasInstance","MIN_SAFE_INTEGER","PromisePrototypeCatch","thenFn","catchFn","ReflectApply","Reflect","RegExpPrototypeTest","asyncIterator","dispose","asyncDispose","AsyncFunction","freeze","rej","promisify","debuglog","_unused","replacement","toFixed","is","queueMicrotask","_removeEventListener","AbortSignalAny","any","custom","customPromisify","ERR_ILLEGAL_CONSTRUCTOR","pl","lastArg","copyBuffer","cur","circles","refs","refsNew","constructorHandlers","cloneArray","handler","cloneProto","o2","rfdcCircles","haveStream","streamIsTTY","TWO_TO_THE_POWER_OF_TWENTY_NINE","TWO_TO_THE_POWER_OF_THIRTY","LAST_NUMBER_WEAK_MAP","lastNumberWeakMap","generateUniqueNumber","lastNumber","nextNumber","createGenerateUniqueNumber","loadOrReturnBroker","createAddUniqueNumber","loadBroker","worker","broker","blob","createObjectURL","revokeObjectURL","createLoadOrReturnBroker","scheduledIntervalFunctions","scheduledTimeoutFunctions","unrespondedRequests","Worker","timerType","idOrFunc","timerIdAndTimerType","isClearResponse","postMessage","performance","Server","Receiver","Sender","WebSocketServer","EMPTY_BUFFER","FastBuffer","species","_mask","mask","_unmask","totalLength","toArrayBuffer","readOnly","unmask","WS_NO_BUFFER_UTIL","bufferUtil","BINARY_TYPES","hasBlob","GUID","kForOnEventAttribute","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","CloseEvent","wasClean","ErrorEvent","MessageEvent","callListener","_closeFrameReceived","_closeFrameSent","tokenChars","configurations","offers","extensionName","paramName","mustUnescape","inQuotes","SyntaxError","kDone","kRun","pending","job","Limiter","TRAILER","kPerMessageDeflate","kTotalLength","kBuffers","zlibLimiter","deflateOnData","inflateOnData","_maxPayload","inflateOnError","_inflate","isServer","maxPayload","_threshold","threshold","_isServer","_deflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","accepted","fin","_decompress","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","createDeflateRaw","zlibDeflateOptions","Z_SYNC_FLUSH","PerMessageDeflate","isValidStatusCode","isValidUTF8","_allowSynchronousEvents","allowSynchronousEvents","_binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_errored","_loop","_state","startLoop","getInfo","getPayloadLength16","getPayloadLength64","getMask","compressed","haveLength","controlMessage","dataMessage","messageLength","fragments","ErrorCtor","errorCode","randomFillSync","applyMask","kByteLength","maskBuffer","RANDOM_POOL_SIZE","randomPool","randomPoolPointer","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_queue","frame","dataLength","skipMasking","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","enqueue","dispatch","sendFrame","ping","getBlobData","pong","perMessageDeflate","callCallbacks","dequeue","sender","duplexOnEnd","duplexOnError","terminateOnDestroy","CLOSED","terminate","CONNECTING","isUtf8","_isValidUTF8","WS_NO_UTF_8_VALIDATE","createHash","subprotocol","keyRegex","server","socketOnError","abortHandshake","STATUS_CODES","Connection","abortHandshakeOrEmitwsClientError","autoPong","handleProtocols","clientTracking","verifyClient","noServer","backlog","_server","createServer","writeHead","listen","emitConnection","_removeListeners","addListeners","listening","upgrade","handleUpgrade","clients","_shouldEmitClose","shouldHandle","secWebSocketProtocol","secWebSocketExtensions","origin","encrypted","verified","completeUpgrade","digest","_protocol","setSocket","net","randomBytes","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_errorEmitted","_paused","_readyState","_receiver","_sender","_bufferedAmount","initAsClient","_autoPong","_url","receiver","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","senderOnError","setNoDelay","socketOnClose","socketOnData","socketOnEnd","CLOSING","setCloseTimer","_req","sendAfterClose","websocket","isIpcUrl","invalidUrlMessage","emitErrorAndClose","defaultPort","protocolSet","tlsConnect","netConnect","Upgrade","handshakeTimeout","Origin","_originalIpc","_originalSecure","_originalHostOrSocketPath","isSameHost","addr","serverProt","protError","extensionNames","finishRequest","receiverOnFinish","FormData$1","proxyFromEnv","_interopDefaultLegacy","FormData__default","url__default","proxyFromEnv__default","http__default","https__default","util__default","followRedirects__default","zlib__default","stream__default","kindOf","kindOfTest","typeOfTest","isFileList","isResponse","isHeaders","allOwnKeys","_global","isContextDefined","TypedArray","isHTMLForm","reduceDescriptors","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","callbacks","asap","utils$1","kind","caseless","targetKey","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","forEachEntry","matchAll","regExp","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","define","toCamelCase","toFiniteNumber","generateString","alphabet","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","prototype$1","isVisitable","removeBrackets","renderKey","dots","customProps","axiosError","predicates","toFormData","formData","metaTokens","defaultVisitor","useBlob","convertValue","isFlatArray","exposedHelpers","build","encode$1","charMap","AxiosURLSearchParams","_pairs","_encode","serialize","serializeFn","InterceptorManager$1","transitionalDefaults","platform$1","isNode","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","JSONRequested","ERR_BAD_RESPONSE","defaults$1","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","tokens","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalized","char","formatHeader","targets","asStrings","accessor","accessors","defineAccessor","accessorName","buildAccessors","headerValue","AxiosHeaders$1","CanceledError","ERR_CANCELED","ERR_BAD_REQUEST","parseProtocol","DATA_URL_PATTERN","kInternals","AxiosTransformStream","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","samplesCount","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","onReadCallback","bytesThreshold","pushChunk","_chunk","transformChunk","bytesLeft","chunkRemainder","maxChunkSize","passed","transformNextChunk","AxiosTransformStream$1","readBlob$1","BOUNDARY_ALPHABET","textEncoder","TextEncoder","CRLF","CRLF_BYTES","FormDataPart","escapeName","isStringValue","contentLength","formDataToStream$1","form","headersHandler","boundaryBytes","footerBytes","part","computedHeaders","ZlibHeaderTransformStream","__transform","ZlibHeaderTransformStream$1","callbackify$1","progressEventReducer","isDownloadStream","freq","bytesNotified","_speedometer","timestamps","firstSampleTS","chunkLength","startedAt","bytesCount","speedometer","total","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","throttled","asyncDecorator","zlibOptions","finishFlush","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","createBrotliDecompress","supportedProtocols","flushOnFinish","dispatchBeforeRedirect","beforeRedirects","configProxy","proxyHost","redirectOptions","isHttpAdapterSupported","buildAddressEntry","family","resolveFamily","httpAdapter","asyncExecutor","onDone","isDone","_lookup","arg0","addresses","onFinished","isRejected","convertedData","uri","asBlob","_Blob","ERR_INVALID_URL","isBase64","ERR_NOT_SUPPORT","fromDataURI","maxUploadRate","maxDownloadRate","userBoundary","hasContentLength","setContentLength","getContentLength","customErr","exists","responseLength","transformStream","responseStream","offListeners","setKeepAlive","ERR_BAD_OPTION_VALUE","ETIMEDOUT","ECONNABORTED","_reject","onDoneHandler","isMSIE","headersToObject","timeoutMessage","withXSRFToken","resolveConfig","xhrAdapter","_config","uploadThrottled","downloadThrottled","flushUpload","flushDownload","ERR_NETWORK","composeSignals$1","streamChunk","readStream","trackStream","onProgress","readBytes","_onFinish","ReadableStream","loadedBytes","isFetchSupported","fetch","Request","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","supportsResponseStream","resolvers","resolveBodyLength","_request","getBodyLength","fetchAdapter","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","knownAdapters","xhr","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","validators$1","ERR_DEPRECATED","spelling","correctSpelling","ERR_BAD_OPTION","configOrUrl","dummy","function","baseUrl","withXsrfToken","contextHeaders","generateHTTPMethod","isForm","Axios$1","CancelToken$1","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","formToJSON","getAdapter","perf","PROCESS","emitWarning","AC","AS","_onabort","warnACPolyfill","printACPolyfillWarning","LRU_CACHE_IGNORE_AC_WARNING","isPosInt","getUintArray","Uint16Array","Uint32Array","ZeroArray","heap","static","HeapCls","ttl","ttlResolution","ttlAutopurge","updateAgeOnGet","updateAgeOnHas","allowStale","noDisposeOnSet","noUpdateTTL","maxEntrySize","sizeCalculation","noDeleteOnFetchRejection","noDeleteOnStaleGet","allowStaleOnFetchAbort","allowStaleOnFetchRejection","ignoreFetchAbort","unsafeExposeInternals","starts","ttls","sizes","keyMap","keyList","valList","isBackgroundFetch","backgroundFetch","moveToTail","rindexes","isStale","maxSize","calculatedSize","fetchMethod","memoMethod","disposeAfter","UintArray","shouldWarn","getRemainingTTL","unref","cachedNow","getNow","age","remainingTTL","entrySize","totalCalculatedSize","_s","_st","_k","_v","rentries","rkeys","rvalues","getOptions","__staleWhileFetching","thisp","rforEach","purgeStale","remain","setOptions","maxEntrySizeExceeded","oldVal","__abortController","dt","task","hasOptions","peek","peekOptions","fetchOpts","updateCache","ignoreAbort","fetchAborted","fetchError","fetchAbortIgnored","fetchResolved","fetchFail","bf","fetchUpdated","allowStaleAborted","noDelete","returnedStale","__returned","fetchDispatched","fmp","fetchRejected","forceRefresh","stale","staleVal","forceFetch","memo","memoOptions","vv","fetching","pi","ni","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","nmd","children","__webpack_exports__"],"sourceRoot":""}